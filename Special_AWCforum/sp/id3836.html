<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
	
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta name="generator" content="MediaWiki 1.16.4" />
<meta name="keywords" content="Issue with pspw using nwchem 6.3 on AMD Bulldozer -- bug in nwchem 6.3? You are viewing a single post from the thread title above" />
<!--[if lt IE 5.5000]><link rel="stylesheet" href="/skins/gumax/IE50Fixes.css?270" media="screen" /><![endif]-->
<!--[if IE 5.5000]><link rel="stylesheet" href="/skins/gumax/IE55Fixes.css?270" media="screen" /><![endif]-->
<!--[if IE 6]><link rel="stylesheet" href="/skins/gumax/IE60Fixes.css?270" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="/skins/gumax/IE70Fixes.css?270" media="screen" /><![endif]-->
		<!--[if lt IE 7]><script type="text/javascript" src="/skins/common/IEFixes.js?270"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->

		<script>
var skin="gumax",
stylepath="/skins",
wgUrlProtocols="http.html\\:\\/\\/|https\\:\\/\\/|ftp\\:\\/\\/|irc\\:\\/\\/|gopher\\:\\/\\/|telnet\\:\\/\\/|nntp\\:\\/\\/|worldwind\\:\\/\\/|mailto\\:|news\\:|svn\\:\\/\\/",
wgArticlePath="/index.php/$1",
wgScriptPath="",
wgScriptExtension=".php",
wgVariantArticlePath=false,
wgActionPaths={},
wgCanonicalNamespace="Special",
wgCanonicalSpecialPageName="AWCforum",
wgNamespaceNumber=-1,
wgPageName="Special_AWCforum",
wgTitle="AWCforum",
wgAction="view",
wgArticleId=0,
wgIsArticle=true,
wgUserName=null,
wgUserGroups=null,
wgUserLanguage="en",
wgContentLanguage="en",
wgBreakFrames=true,
wgCurRevisionId=0,
wgVersion="1.16.4",
wgEnableAPI=true,
wgEnableWriteAPI=true,
wgSeparatorTransformTable=["", ""],
wgDigitTransformTable=["", ""],
wgMainPageTitle="Main Page",
wgFormattedNamespaces={"-2": "Media", "-1": "Special", "0": "", "1": "Talk", "2": "User", "3": "User talk", "4": "NWChem", "5": "NWChem talk", "6": "File", "7": "File talk", "8": "MediaWiki", "9": "MediaWiki talk", "10": "Template", "11": "Template talk", "12": "Help", "13": "Help talk", "14": "Category", "15": "Category talk", "500": "Release-60", "501": "Release-60 talk", "502": "Release61", "503": "Release61 talk", "504": "Release62", "505": "Release62 talk", "506": "Release64", "507": "Release64 talk", "508": "Release65", "509": "Release65 talk", "510": "Development", "511": "Development talk", "512": "Release66", "513": "Release66 talk", "121707": "Forum"},
wgNamespaceIds={"media": -2, "special": -1, "": 0, "talk": 1, "user": 2, "user_talk": 3, "nwchem": 4, "nwchem_talk": 5, "file": 6, "file_talk": 7, "mediawiki": 8, "mediawiki_talk": 9, "template": 10, "template_talk": 11, "help": 12, "help_talk": 13, "category": 14, "category_talk": 15, "release-60": 500, "release-60_talk": 501, "release61": 502, "release61_talk": 503, "release62": 504, "release62_talk": 505, "release64": 506, "release64_talk": 507, "release65": 508, "release65_talk": 509, "development": 510, "development_talk": 511, "release66": 512, "release66_talk": 513, "forum": 121707, "ns_reldoc64": "NS_RELDOC65", "ns_reldoc64_talk": "NS_RELDOC65_TALK", "image": 6, "image_talk": 7},
wgSiteName="NWChem",
wgCategories=[],
wgRestrictionEdit=[],
wgRestrictionMove=[];
</script>
		<!-- Head Scripts -->
<style type="text/css">
#bodyContent a[href ^="http://"] {
background: none;
    padding-right: 0px;
}

#bodyContent a.external {
background: none;
	padding-right: 0px;
}

#p-cactions li a {
text-transform: capitalize;
}

#contentSub {
margin: 0;
padding: 2px;
padding-bottom: 6px;
}

pre {
margin:0px; 
    padding:5px;
    padding-bottom:20px;  
    
    width: 600px;
    overflow:auto;
    overflow-y: visible;
    line-height: 100%;
}

.top_user_links {
margin: 0;
    padding: 0;
    border-bottom: 1px solid #aaa;
    text-align: right;
}

#TopMenuLinksHolder li a:hover {

}

#TopMenuLinksHolder li a {

}

#TopMenuLinksHolder li {
margin-top: 4px;   
    margin-left: 4px;
    margin-bottom: 0px;
    
    padding: 3px;
    
    list-style: none;
    float: right;
    display: block;
    
    width: auto;
    white-space: nowrap;
    
    border: 1px solid #aaa;
    border-bottom: 0px;
    
    color: #000;
    text-decoration: none;
    font: 11px Verdana;
    text-align: left;
    z-index: 3;
}

#TopMenuLinksHolder a:visited {

}

#TopMenuLinksHolder div a:hover {
background: #FFF;
    color: #000;
}

#TopMenuLinksHolder div a {
position: relative;
        display: block;
        margin: 0;
        padding: 5px;
        width: auto;
        white-space: nowrap;
        text-align: left;
        text-decoration: none;
        font: 11px arial;
}

#TopMenuLinksHolder div {
position: absolute;
    visibility: hidden;
    margin: 0;
    padding: 0;
    background: #DDDDDD;
    border: 1px solid #AAAAAA;
}

#TopMenuLinksHolder {
margin: 0;
    padding: 0;
    z-index: 3;
}

.UserNameOptions {

}

#UserNameOptions a:visited {

}

#UserNameOptions li a:hover {

}

#UserNameOptions li a {
font: 11px Verdana;
}

#UserNameOptions li {
list-style: none;
    display: block;
    white-space: nowrap;
    border: 0px;
    color: #000;
    text-align: left;
    text-decoration: none;
}

#UserNameOptions div a:hover {
color: #FFF;
}

#UserNameOptions div a {
position: relative;
        display: block;
        margin: 0;
        padding: 5px;
        
        width: 500px;
        
        white-space: nowrap; 
        text-align: left;
        text-decoration: none;
        font: 11px arial;
}

#UserNameOptions div {
position: absolute;
    display: block;
    visibility: hidden;
    margin: 0;
    padding: 5px;
    background: #DDDDDD;
    border: 1px solid #AAAAAA;
    white-space: nowrap; 
    font: 12px arial;
    line-height: 100%;
}

#UserNameOptions {
margin: 0;
    padding: 0;
    z-index: 2;
}

.group_text {
font-size: 84%;
    width: auto;
    padding: 0px;
}

.edited_on {
border-top: 1px solid #aaa;
    margin: 0px;
    margin-bottom: 0px;
    padding-left: 5px;
    font-size: 12px;
}

.post_title {

}

.post_date {
border-bottom: 1px solid #aaa;
    font-size: 90%;
    padding-left: 2px;
}

.post_td {
background-color: #f9f9f9;
    border-left: 1px solid #aaa;
    margin: .0em;
    padding: .0em;
}

.post_body {
padding: .5em;
    padding-top: 0px;
}

.post0 {
background-color: #E5E5E5;
    border-left: 1px solid #aaa;
    padding: .0em;
}

.post1 {
background-color: #f9f9f9;
    border-left: 1px solid #aaa;
    padding-bottom: .0em;
}

.post_footer {
/* post, quote, edit buttons */
    margin: 0;
    padding: .7em;
    padding-bottom: 0em;
}

.post_box {
margin-top: 5px;
    margin-left: 5px;
    margin-right: 2px;
    width: auto;
}

.mem_name {
border-bottom: 1px solid #aaa;
    margin: 0;
    padding: .4em;
}

.adv {
border: 0px;
    margin: 0em;
    padding: 0em;
}

.thread_sig {
border-top: 2px solid #aaa;
    margin: 3px;
    padding-left: 5px;
}

#subscribe_menu {
position: absolute;
    background: #ccc ;
    border: 1px solid #aaa;
    border-top: 0px;
    margin: 0em;
    padding: 5px;
    padding-top: 0px;
    top:auto;
    right:65px;
    z-index: 2;
}

.drop_down_buttons:hover {
background: #ccc ;
}

.drop_down_buttons {
margin: 0em;
    white-space: nowrap;
    border-bottom: 1px solid #aaa;
    border-top: 0px;
    padding: 5px;
    color: #000;
    text-align: center;
    background: #fff ;
}

.mod_menu_row {
text-align: left;
}

.post_buttons:hover {
background: #fff ;
}

.post_buttons {
white-space: nowrap;
    float: right;
    margin-top: .5em;
    margin-right: 5px;
    border: 1px solid #aaa;
    border-bottom: 0em;
    padding-left: 5px;
    padding-right: 5px;
    padding-bottom: 0px;
    color: #000;
}

.quote_title {
border: 1px dashed #aaa;
	padding: 5px;
	background-color: #f9f9f9;
	font-family:"Courier New", Courier, mono;
}

.quote {
border-top: 1px solid #000;
	background-color: #fff;
	padding: 10px;
	font-size: 95%;
}

.user_options_row {
border: 1px solid #aaa;
    background: #fff ;
    padding: .3em;
}

.t_userinfo {
white-space:nowrap;
    text-align: left;
    margin: 0;
    padding: .7em;
    padding-bottom: 0em;
}

.ThreadOtions {
margin: 0;
    padding: 0;
    text-align: right;
}

#ThreadOtions a:visited {

}

#ThreadOtions li a:hover {

}

#ThreadOtions li a {
border: 1px solid #aaa;
    border-bottom: 0em;
    padding: 4px;
}

#ThreadOtions li {
list-style: none;
    display: block;
    white-space: nowrap;
    
    border: 0px;
    color: #000;
    
    text-decoration: none;
    z-index: 3;
}

#ThreadOtions div a:hover {
background: #FFF;
    color: #000;
}

#ThreadOtions div a {
position: relative;
        display: block;
        margin: 0;
        padding: 2px;
        border: 0em;
        
        white-space: nowrap; 
        text-align: left;
        text-decoration: none;
        font: 11px arial;
}

#ThreadOtions div {
position: absolute; 
    right: 50px;
    visibility: hidden;
    margin: 0;
    padding: 5px;
    background: #DDDDDD;
    border: 1px solid #AAAAAA;
    white-space: nowrap; 
    text-align: left;
}

#ThreadOtions {
margin-top: 3px;
    padding: 0;
    z-index: 3;
}

.forum_posts {
border: 1px solid #aaa;
    margin: 0em;
    padding: 0em;
    width: 100%;

 width: 100%;
}

.post {
background-color: #f9f9f9;
    border-left: 1px solid #aaa;
    padding: .0em;
}

#search_box {
white-space:nowrap;
    text-align: right; 
    margin: .0em;
    padding: 0px;
}

.search_box {
float: right;
    font-size: 97%;
    margin: .0em;
    color: #000;
    background: #fff;
    border: 1px solid #000;
    margin-left: 5px;
    padding: 0px;
}

.highlightsearchword {
color: #FF0000;
}

.poll_display_table {
border: 1px solid #aaa;
    
    padding: 1px;
}

.poll_displayheader {
border-bottom: 1px dashed #aaa;
    padding: 4px;
    background-color: #DDDDDD;
    font-family:"Courier New", Courier, mono;
}

.poll_display_row {
border-bottom: 1px solid #aaa;
    background-color: #f9f9f9;
    padding: 2px;
}

.poll_display_vote_total {
border-top: 1px solid #aaa;
    padding: 4px;
    background-color: #DDDDDD;
    font-family:"Courier New", Courier, mono;
}

.poll_display_vote_numbers_header {
border: 1px solid #aaa;
border-bottom: 0;
}

.poll_display_vote_percent_header {
border-top: 1px solid #aaa;
    padding: 1px;
}

.poll_display_vote_option_header {
border: 1px solid #aaa;
    border-bottom: 0;
    padding: 1px;
}

.poll_display_vote_numbers {
border: 1px solid #aaa;
    border-bottom: 0;
    padding: 1px;
}

.poll_display_vote_percent {
border-top: 1px solid #aaa;
    padding: 1px;
}

.poll_display_vote_option {
border: 1px solid #aaa;
    border-bottom: 0;
    padding: 1px;
}

.poll_percent_color_op10 {
background-color: #7FFF00;
}

.poll_percent_color_op1 {
background-color: #CD5555;
}

.poll_percent_color_op2 {
background-color: #5CACEE;
}

.poll_percent_color_op3 {
background-color: #FFCC11;
}

.poll_percent_color_op4 {
background-color: #668014;
}

.poll_percent_color_op5 {
background-color: #A0522D;
}

.poll_percent_color_op6 {
background-color: #9F79EE;
}

.poll_percent_color_op7 {
background-color: #EE00EE;
}

.poll_percent_color_op8 {
background-color: #DC143C;
}

.poll_percent_color_op9 {
background-color: #551011;
}

.page_jumps_top:hover {
background: #ccc ;
}

.page_jumps_top {
white-space: nowrap;
    display: inline;
    
    margin: 0px; 
    margin-right: 2px;
    
    border: 1px solid #aaa;
    border-bottom: 0px;
    
    padding-left: 5px;
    padding-right: 5px;
    padding-bottom: 4px;
    
    color: #000;
}

.page_jumps_bot:hover {
background: #ccc ;
}

.page_jumps_bot {
border: 1px solid #aaa;
    border-top: 0px;
    padding-top: 2px;
    margin-left: 2px;
    font-size: 100%;
    padding-left: 5px;
    padding-right: 5px;
    padding-bottom: 2px;
}

.main_memtable {
border: 1px solid #aaa;
}

.main_leftmenu {
border-right: 1px solid #aaa;
     background-color: #f9f9f9;
     width: 175px;
}

.leftmenuheaders {
border: 1px dashed #aaa;
    padding: 2px;
    font-family:"Courier New", Courier, mono;
}

.leftmenu {
background-color: #f9f9f9;
}

.right_body {
padding: 2px;
}

.mem_pm_table {
border: 1px solid #aaa;
    padding: 2px;
    margin: 7px;
}

.pm_header_new {
background-color: #aaa;
    border: 1px solid #000;
    padding: 2px;
    width:5%;
}

.pm_header_title {
background-color: #aaa;
    border: 1px solid #000;
    padding: 2px;
    width:85%;
}

.pm_header_sender {
background-color: #aaa;
    border: 1px solid #000;
    padding: 2px;
    width:5%;
}

.pm_header_date {
background-color: #aaa;
    border: 1px solid #000;
    padding: 2px;
    width:5%;
}

.pm_row {
background-color: #f9f9f9;
    border: 1px solid #000;
    padding: 3px;
}

#cat_list_lastaction_user {
font-size: 90%;
    color: #7d7d7d;
    text-align: right;
    margin-right: 10px;
    line-height: 100%;
}

#cat_list_lastaction_date {
font-size: 90%;
    color: #7d7d7d;
    text-align: right;
    margin-right: 10px;
    line-height: 105%;
}

#cat_list_lastaction_title {
font-size: 90%;
    color: #7d7d7d;
    text-align: right;
    margin-right: 10px;
    line-height: 105%;
}

#small_desc {
font-size: 84%;
    color: #7d7d7d;
	margin-left: 10px;
    width: auto;
}

#cat_forumdisc {
font-size: 84%;
    color: #7d7d7d;
    margin-left: 10px;
    width: auto;
}

.cat_forumrows {
border: 1px solid #aaa;
    background-color: #f9f9f9;
    padding: 5px;
    font-size: 95%;
}

.thread_col_head {
border: 1px solid #aaa;
    margin: 0px;
    padding: 5px;
    white-space: nowrap;
}

.bread_crumbs {
border-bottom: 1px solid #aaa;
    border-top: 0px;
    padding: 2px;
    text-align: left;
}

.dl_maintable_head {
border-right: 1px solid #aaa;
    border-bottom: 1px solid #aaa;
    background-color: #fff;
    padding: 2px;
}

.dl_maintable {
border: 1px solid #aaa;
    margin: 1px;
    padding: 1px;
}

.right_float {
float: right;
	margin-top: 8px;
	padding-left: 5px;
	padding-right: 5px;
	margin-right: 10px;
	margin-left: 10px;
}

.right {
float: right;
	padding-left: 5px;
	padding-right: 5px;
	margin-right: 10px;
	margin-left: 10px;
}

.spacer {
background-color: #aaa;
}

.whos_here_header {
border-bottom: 1px dashed #aaa;
            padding: 4px;
            font-family:"Courier New", Courier, mono;
}

.whos_here_row {
border-bottom: 1px solid #aaa;
            background-color: #f9f9f9;
            padding: 2px;
}

.whos_here {
border: 1px solid #aaa;
            border-bottom: 0;
}

.nothing {
font-size: 0%;
            margin: .0em;
            border: 0;
            margin: 0;
            padding: 0;
            width: 0;
}

.forum_stats {
border: 1px solid #aaa;
            border-bottom: 0;
}

.forum_stats_leftcol {
border-bottom: 1px solid #aaa;
                background-color: #f9f9f9;
                padding: 2px;
}

.forum_stats_rightcol {
background-color: #f9f9f9;
                border-bottom: 1px solid #aaa;
                padding: 2px;
}

.forum_stats_header {
border-bottom: 1px dashed #aaa;
                padding: 4px;
                font-family:"Courier New", Courier, mono;
}

.thread_rows0 {
background-color: #E5E5E5;
    border: 1px solid #aaa;
    border-top: 0px ;
    padding: 2px;
    font-size: 95%;
}

.thread_rows1 {
background-color: #f3f3f3;
    border: 1px solid #aaa;
    border-top: 0px ;
    padding: 2px;
    font-size: 95%;
}

.thread_rows {
background-color: #f9f9f9;
    border: 1px solid #aaa;
    border-top: 0px ;
    padding: 2px;
    font-size: 95%;
}

#annc {
border: 1px solid #000;
	background-color: red;
	padding: 0px;
}

.sticky {
font-style: italic;
    border: 1px solid #aaa;
    border-top: 0px;
    background-color:  #ffa; /* #ffa; e2ffe2 */
    padding: 2px;
    font-size: 95%;
}

.thread_lastaction {
font-size: 84%;
    text-align: right;
    white-space: nowrap;
    display: inline;
}

.pagejumps_PostOnForumPage:hover {
background: #ccc ;
}

.pagejumps_PostOnForumPage {
border: 1px solid #aaa;
    margin-left: 3px;
    font-size: 100%;
    padding-left: 3px;
    padding-right: 3px;
    padding-bottom: 0px;
}

.new_thread_button:hover {
background: #ccc ;
}

.new_thread_button {
white-space: nowrap;
    float: right;
    display: inline; /*fixes IE float bug*/
    margin-top: 0px; 
    margin-bottom: 0px; 
    margin-left: 10px;
   /* margin-left: -4px; */
    border: 1px solid #aaa;
    border-bottom: 0px;
    padding-left: 5px;
    padding-right: 5px;
    padding-bottom: 3px;
    text-align: left; /* 2.4.1 */
    color: #000;
}

#row_info td {
border: 1px solid #aaa;
	border-top: 0px;
	background-color: #f9f9f9;
	padding: 5px;
	font-size: 95%;
}

.page_jumps_holder_thread_bot {
border-bottom: 1px solid #aaa;
}

.page_jumps_holderBot {

}

.poll_thread_listing {
border: 1px solid #aaa;
    border-top: 0px;
    background-color:  #FFCC00;
    padding: 2px;
    font-size: 95%;
}

.locked_thread {
font-style: italic;
    border: 1px solid #aaa;
    border-top: 0px;
    background-color:  #e2ffe2; /* #ffa; e2ffe2 */
    padding: 2px;
    font-size: 95%;
}

#ajax_pmname {
text-align: left;
}

#ajax_pmname ul {
list-style: none;
margin: 0;
}

#ajax_pmname li {
padding: 2px 5px;
	white-space: nowrap;
	text-align: left;
}

#ajax_pmname li:hover {
background: #f9f9f9;
	margin-left: .1em;
	text-decoration: underline;
}

#ajax_pmname li {
padding: 2px 5px;
	white-space: nowrap;
	text-align: left;
}

#ajax_pmname li {
padding: 2px 5px;
	white-space: nowrap;
	text-align: left;
}

#ajax_pmname li {
padding: 2px 5px;
	white-space: nowrap;
	text-align: left;
}

</style>


		<!-- gumax customized style -->

					<style type="text/css">
				#gumax-content-actions li#ca-talk,
				#gumax-content-actions li#ca-history,
				#gumax-content-actions li#ca-edit,
				#gumax-personal-tools
				{ display: none; }
			</style>
		
		<!--[if lt IE 7]>
			<script type="text/javascript" src="/skins/gumax/js/ieunitpngfix-tag.js"></script>
		<![endif]-->

		<!-- end of gumax customized style -->
</head>


<body class="mediawiki ltr ns--1 ns-special page-Special_AWCforum_sp_id3836 skin-gumax">

	</div>
	<!-- ///// end of gumax-header ///// -->



		<!-- gumax-content-body -->
		<div id="gumax-column-content">
	<div id="content">
		<a name="top" id="top"></a>
				<h1 id="firstHeading" class="firstHeading gumax-firstHeading" >Issue with pspw using nwchem 6.3 on AMD Bulldozer -- bug in nwchem 6.3?</h1>
	</tr>
</table>
<br />    <table width="100%" cellpadding="0" cellspacing="0">
        <tr>
            <td width="65%" align="left" nowrap="nowrap"><b><a href='../st/id1059.html'>Click here for full thread</a></b></td>                                         
            <td width="35%" class='ThreadOtions' nowrap></td>    
        </tr>
    </table>       <a name="post_3836"></a>       
        <table class="forum_posts" cellpadding="0" cellspacing="0" id="fullheight">
            <tr>
                <td width="100%" align="left" colspan="2" valign="top" class="mem_name" id="name_3836" nowrap>
                    <table width="100%" cellpadding="0" cellspacing="0">
                        <tr>
                            <td class="UserNameOptions" width="100%">
                                <ul id="UserNameOptions">
                                  <li>
                                    <div id="mem1" onmouseover="mcancelclosetime()" onmouseout="mclosetime()">
                                        
                                    </div>
                                  </li>
                                </ul>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td align="left" nowrap valign="top" width="20">
                    <table cellpadding="0" cellspacing="0" width="20">
                        <tr>
                            <td class="t_userinfo" width="20" nowrap>
                <!-- member_title --><div class="">Gets Around</div><!-- /member_title -->
                                
                            </td>
                        </tr>
                    </table>
                </td>
                        
            		<td align="left" width="100%" valign="top" id="fullheight">
		                <table width="100%" cellpadding="0" cellspacing="0" class="post0" height="75">
		                    <tr>
		                        <td class="post_date" valign="bottom" height="1px"  width="100%" colspan="2"  nowrap>11:39:10 PM PST - Wed, Nov 13th 2013 </td>
		                            <td class="post_date" valign="bottom" height="1px" width="100%" nowrap></td>

		                    </tr>
		                                     
		                    <tr>
		                        <td valign="top" class="post_body" height="65" colspan="2">While playing around with the pspw module using nwchem 6.3 I noticed that while the jobs would finish without issue on my AMD Athlon II X3 445, AMD Phenom II X6 1055T and Intel i5-2400 nodes, they failed to converge on my FX8150 and FX8350 nodes. Instead, the structures blew up. I've tried no external blas, openblas and acml (int; with and without fma4), all with the same results. However, the jobs do converge on the bulldozer and vishera (FX 8x50) cpus when using nwchem 6.1.1, with would indicate an issue specific to nwchem 6.3.<br />
<br />
Edit: I've never noticed any issues using the DFT module -- it's only pspw that's causing the issue, and only in nwchem 6.3<br />
<br />
(There's also a very minor typo in the nwchem code (src/band/minimizer/band_minimizer.F) -- it says Grassman/Stiefel with one n in Grassmann, rather than two.)<br />
<br />
I'm not trying to do any production work in pspw, but rather I just want to report a possible bug.<br />
<br />
The following job was used (it's just a random test job that triggers the issue):<br />

<pre>
scratch_dir /home/me/scratch
Title &quot;pspw test job&quot;

Start  biphenyl_cation_twisted-1

echo

charge 1

geometry autosym units angstrom
 C     0.00000     -3.54034     0.00000
 C     -1.20296     -2.84049     -0.216000
 C     -1.20944     -1.46171     -0.206253
 C     0.00000     -0.721866     0.00000
 C     1.20944     -1.46171     0.206253
 C     1.20296     -2.84049     0.216000
 C     0.00000     0.721866     0.00000
 C     1.20944     1.46171     -0.206253
 C     1.20296     2.84049     -0.216000
 C     -1.20944     1.46171     0.206253
 C     0.00000     3.54034     0.00000
 C     -1.20296     2.84049     0.216000
 H     0.00000     -4.62590     0.00000
 H     -2.12200     -3.38761     -0.395378
 H     -2.13673     -0.938003     -0.401924
 H     2.12200     -3.38761     0.395378
 H     2.12200     3.38761     -0.395378
 H     -2.13673     0.938003     0.401924
 H     0.00000     4.62590     0.00000
 H     -2.12200     3.38761     0.395378
 H     2.13673     0.938003     -0.401924
 H     2.13673     -0.938003     0.401924
end

ecce_print /home/me/neon/job1056/ecce.out

nwpw
  simulation_cell
     lattice_vectors
      2.000000e+01 0.000000e+00 0.000000e+00
      0.000000e+00 2.000000e+01 0.000000e+00
      0.000000e+00 0.000000e+00 2.000000e+01
  end 
  mult 2
  np_dimensions -1  -1  
  tolerances 1e-7  1e-7
end

driver
  default
end

task pspw optimize
</pre><br />
<br />
The following nodes worked fine:<br />
AMD Athlon II X3, 8 Gb RAM<br />
AMD Phenom II X6, 8 Gb RAM<br />
Intel i5-2400, 16 Gb RAM<br />
<br />
The final structure was this:<br />

<pre>
22
Structure 1
C               0.00000            -3.43835             0.00000
C              -1.17952            -2.76904            -0.27325
C              -1.18743            -1.41309            -0.25617
C               0.00000            -0.70724             0.00000
C               1.18743            -1.41309             0.25617
C               1.17952            -2.76904             0.27325
C               0.00000             0.70724             0.00000
C               1.18743             1.41309            -0.25617
C               1.17952             2.76904            -0.27325
C              -1.18743             1.41309             0.25617
C               0.00000             3.43835             0.00000
C              -1.17952             2.76904             0.27325
H               0.00000            -4.51201             0.00000
H              -2.07930            -3.32101            -0.49999
H              -2.09224            -0.87241            -0.48912
H               2.07930            -3.32101             0.49999
H               2.07930             3.32101            -0.49999
H              -2.09224             0.87241             0.48912
H               0.00000             4.51201             0.00000
H              -2.07930             3.32101             0.49999
H               2.09224             0.87241            -0.48912
H               2.09224            -0.87241             0.48912
</pre><br />
<br />
cat nwch.nwout|grep "Total PSPW energy"<br />

<pre>
 Total PSPW energy  &nbsp;:  -0.7403126784E+02
 Total PSPW energy  &nbsp;:  -0.7403944621E+02
 Total PSPW energy  &nbsp;:  -0.7404121161E+02
 Total PSPW energy  &nbsp;:  -0.7404171961E+02
 Total PSPW energy  &nbsp;:  -0.7404173291E+02
 Total PSPW energy  &nbsp;:  -0.7404176133E+02
 Total PSPW energy  &nbsp;:  -0.7404176138E+02
 Total PSPW energy  &nbsp;:  -0.7404178719E+02
 Total PSPW energy  &nbsp;:  -0.7404179836E+02
 Total PSPW energy  &nbsp;:  -0.7404181219E+02
 Total PSPW energy  &nbsp;:  -0.7404181529E+02
 Total PSPW energy  &nbsp;:  -0.7404183416E+02
 Total PSPW energy  &nbsp;:  -0.7404183384E+02
 Total PSPW energy  &nbsp;:  -0.7404182554E+02
 Total PSPW energy  &nbsp;:  -0.7404183894E+02
 Total PSPW energy  &nbsp;:  -0.7404184777E+02
 Total PSPW energy  &nbsp;:  -0.7404184781E+02
 Total PSPW energy  &nbsp;:  -0.7404185248E+02
 Total PSPW energy  &nbsp;:  -0.7404185252E+02
 Total PSPW energy  &nbsp;:  -0.7404183390E+02
 Total PSPW energy  &nbsp;:  -0.7404185160E+02
 Total PSPW energy  &nbsp;:  -0.7404185179E+02
 Total PSPW energy  &nbsp;:  -0.7404185172E+02
 Total PSPW energy  &nbsp;:  -0.7404185163E+02
 Total PSPW energy  &nbsp;:  -0.7404185167E+02
</pre><br />
<br />
The step/energy data for the first geometry cycle behaves:<br />

<pre>
== Energy Calculation ==


          ====== Grassmann conjugate gradient iteration ======
     &gt;&gt;&gt;  ITERATION STARTED AT Wed Nov 13 14:25:02 2013  &lt;&lt;&lt;
    iter.           Energy         DeltaE       DeltaRho 
    ------------------------------------------------------
     -  15 steepest descent iterations performed
      10   -0.3692699170E+02   -0.26760E+01    0.53590E-02
     -  10 steepest descent iterations performed
      20   -0.6158204365E+02   -0.41876E+00    0.31092E-03
     -  10 steepest descent iterations performed
      30   -0.7003979846E+02   -0.12758E+00    0.42769E-04
     -  10 steepest descent iterations performed
      40   -0.7263392229E+02   -0.34324E-01    0.21020E-04
     -  10 steepest descent iterations performed
      50   -0.7336419645E+02   -0.13767E-01    0.10561E-04
     -  10 steepest descent iterations performed
      60   -0.7380342913E+02   -0.14352E-01    0.99511E-06
     -  10 steepest descent iterations performed
      70   -0.7397649640E+02   -0.61870E-02    0.24790E-04
      80   -0.7401568945E+02   -0.25650E-02    0.10674E-04
 [..]
     270   -0.7403126784E+02   -0.99193E-07    0.18719E-09
  *** tolerance ok. iteration terminated
     &gt;&gt;&gt;  ITERATION ENDED   AT Wed Nov 13 14:49:47 2013  &lt;&lt;&lt;
</pre><br />
<br />
<br />
The following nodes lead to exploding structures:<br />
AMD FX8150, 32 Gb RAM<br />
AMD FX8350, 32 Gb RAM<br />
<br />

<pre>
22
Structure 23
C               0.00000            -3.28702             0.00000
C              -3.07661            -4.04679            -3.00814
C              -2.98013            -0.93045            -3.30301
C               0.00000            -1.11917             0.00000
C               2.98013            -0.93045             3.30301
C               3.07661            -4.04679             3.00814
C               0.00000             1.11917             0.00000
C               2.98013             0.93045            -3.30301
C               3.07661             4.04679            -3.00814
C              -2.98013             0.93045             3.30301
C               0.00000             3.28702             0.00000
C              -3.07661             4.04679             3.00814
H               0.00000            -4.78561             0.00000
H              -4.23747            -6.33817            -3.55692
H              -4.05310             0.84076            -3.86806
H               4.23747            -6.33817             3.55692
H               4.23747             6.33817            -3.55692
H              -4.05310            -0.84076             3.86806
H               0.00000             4.78561             0.00000
H              -4.23747             6.33817             3.55692
H               4.05310            -0.84076            -3.86806
H               4.05310             0.84076             3.86806
</pre><br />
<br />
cat nwch.nwout|grep "Total PSPW energy"<br />

<pre>
 Total PSPW energy  &nbsp;:   0.7974031861E+02
 Total PSPW energy  &nbsp;:   0.7246518114E+02
 Total PSPW energy  &nbsp;:   0.6606772951E+02
 Total PSPW energy  &nbsp;:   0.5673312109E+02
 Total PSPW energy  &nbsp;:   0.4840063736E+02
 Total PSPW energy  &nbsp;:   0.4059627772E+02
 Total PSPW energy  &nbsp;:   0.3478817836E+02
 Total PSPW energy  &nbsp;:   0.2592070851E+02
 Total PSPW energy  &nbsp;:   0.1961993049E+02
 Total PSPW energy  &nbsp;:   0.1337599142E+02
 Total PSPW energy  &nbsp;:   0.8368934197E+01
 Total PSPW energy  &nbsp;:   0.4070828454E+01
 Total PSPW energy  &nbsp;:   0.4890631969E+00
 Total PSPW energy  &nbsp;:  -0.5836265579E+01
 Total PSPW energy  &nbsp;:  -0.7890745466E+01
 Total PSPW energy  &nbsp;:  -0.1408910732E+02
 Total PSPW energy  &nbsp;:  -0.1376509590E+02
 Total PSPW energy  &nbsp;:  -0.1592566062E+02
 Total PSPW energy  &nbsp;:  -0.1795967556E+02
 Total PSPW energy  &nbsp;:  -0.2040058313E+02
 Total PSPW energy  &nbsp;:  -0.2225738586E+02
 Total PSPW energy  &nbsp;:  -0.2338027226E+02
 Total PSPW energy  &nbsp;:  -0.2338044505E+02
 Total PSPW energy  &nbsp;:  -0.2461935725E+02
 Total PSPW energy  &nbsp;:  -0.2515495572E+02
 Total PSPW energy  &nbsp;:  -0.2562143558E+02
 Total PSPW energy  &nbsp;:  -0.2561106019E+02
 Total PSPW energy  &nbsp;:  -0.2618964488E+02
 Total PSPW energy  &nbsp;:  -0.2615732606E+02
 Total PSPW energy  &nbsp;:  -0.2636682412E+02
 Total PSPW energy  &nbsp;:  -0.2633912461E+02
 Total PSPW energy  &nbsp;:  -0.2639189830E+02
 Total PSPW energy  &nbsp;:  -0.2638634234E+02
 Total PSPW energy  &nbsp;:  -0.2646209976E+02
 Total PSPW energy  &nbsp;:  -0.2645190214E+02
 Total PSPW energy  &nbsp;:  -0.2649565926E+02
 Total PSPW energy  &nbsp;:  -0.2655957858E+02
 Total PSPW energy  &nbsp;:  -0.2634583373E+02
 Total PSPW energy  &nbsp;:  -0.2656000596E+02
 Total PSPW energy  &nbsp;:  -0.2615164061E+02
 Total PSPW energy  &nbsp;:  -0.2648948900E+02

</pre><br />
<br />
The step/energy data for the first cycle has positive, rather than negative, energies that descend towards zero:<br />

<pre>
== Energy Calculation ==


          ====== Grassmann conjugate gradient iteration ======
     &gt;&gt;&gt;  ITERATION STARTED AT Wed Nov 13 23:30:15 2013  &lt;&lt;&lt;
    iter.           Energy         DeltaE       DeltaRho 
    ------------------------------------------------------
     -  15 steepest descent iterations performed
      10    0.9582453153E+02   -0.17155E+00    0.52948E-04
     -  10 steepest descent iterations performed
      20    0.9035909073E+02   -0.19625E+00    0.47200E-05
     -  10 steepest descent iterations performed
      30    0.8605965298E+02   -0.65226E-01    0.72813E-05
     -  10 steepest descent iterations performed
      40    0.8398586767E+02   -0.73599E-01    0.65304E-06
     -  10 steepest descent iterations performed
      50    0.8228907713E+02   -0.30066E-01    0.22806E-05
     -  10 steepest descent iterations performed
      60    0.8161797538E+02   -0.21635E-01    0.33675E-06
     -  10 steepest descent iterations performed
      70    0.8081694861E+02   -0.16072E-01    0.31301E-06
     -  10 steepest descent iterations performed
      80    0.8048826777E+02   -0.10237E-01    0.27982E-06
     -  10 steepest descent iterations performed
      90    0.8013146841E+02   -0.20216E-02    0.15217E-06
     100    0.8000423850E+02   -0.22420E-01    0.14079E-04
     -  10 steepest descent iterations performed
     110    0.7984322686E+02   -0.14763E-02    0.19813E-06
     120    0.7979788211E+02   -0.13952E-01    0.70838E-05
     -  10 steepest descent iterations performed
     130    0.7974031861E+02   -0.64662E-03    0.10059E-06
     140    0.7974031861E+02    0.17764E-14    0.31320E-30
  *** energy going up. iteration not terminated
  *** tolerance ok. iteration terminated
     &gt;&gt;&gt;  ITERATION ENDED   AT Wed Nov 13 23:49:46 2013  &lt;&lt;&lt;
</pre><br />
<br />
NWChem was compiled using the following script:<br />

<pre>
export NWCHEM_TOP=`pwd`
export LARGE_FILES=TRUE
export TCGRSH=/usr/bin/ssh
export NWCHEM_TOP=`pwd`
export NWCHEM_TARGET=LINUX64
export NWCHEM_MODULES=&quot;all python&quot;
export PYTHONVERSION=2.7
export PYTHONHOME=/usr
export BLASOPT=&quot;-L/opt/openblas/lib -lopenblas&quot;

export USE_MPI=y
export USE_MPIF=y
export USE_MPIF4=y
export MPI_LOC=/usr/lib/openmpi/lib
export MPI_INCLUDE=/usr/lib/openmpi/include
export LIBRARY_PATH=&quot;$LIBRARY_PATH:/usr/lib/openmpi/lib:/opt/openblas/lib&quot;

export LIBMPI=&quot;-lmpi -lopen-rte -lopen-pal -ldl -lmpi_f77 -lpthread&quot;
export ARMCI_NETWORK=SOCKETS

cd $NWCHEM_TOP/src

make clean
make nwchem_config
make FC=gfortran 1&gt; make.log 2&gt;make.err

cd $NWCHEM_TOP/contrib
export FC=gfortran
./getmem.nwchem
</pre><br />
<br />
The main thing that shows up in make.err for nwchem 6.3 on the bulldozer cores that doesn't show up for e.g. the Phenom II cpu is<br />

<pre>
/usr/bin/ld: Warning: alignment 16 of symbol `cface_' in /opt/nwchem/nwchem-6.3-src.2013-05-28/lib/LINUX64/libstepper.a(stpr_face.o) is smaller than 32 in /opt/nwchem/nwchem-6.3-src.2013-05-28/lib/LINUX64/libstepper.a(stpr_partit.o)
</pre><br />
This doesn't show up for nwchem 6.1.1.<br />
<br />
Using nwchem 6.1.1 both FX8150 and FX8350 work:<br />

<pre>
          ====== Grassmann conjugate gradient iteration ======
     &gt;&gt;&gt;  ITERATION STARTED AT Thu Nov 14 16:38:02 2013  &lt;&lt;&lt;
    iter.           Energy         DeltaE       DeltaRho 
    ------------------------------------------------------
      10   -0.5440813275E+02   -0.23233E+01    0.72286E-02
     -  10 steepest descent iterations performed
      20   -0.7080853812E+02   -0.14463E+00    0.19753E-03
     -  10 steepest descent iterations performed
      30   -0.7308197239E+02   -0.20838E-01    0.16698E-04
     -  10 steepest descent iterations performed
      40   -0.7349928511E+02   -0.14939E-01    0.93367E-03
     -  10 steepest descent iterations performed
      50   -0.7361462983E+02   -0.92625E-02    0.88102E-05
      60   -0.7369416281E+02   -0.57087E-02    0.34645E-04
[..]
     310   -0.7403126685E+02   -0.12879E-06    0.44149E-09
     320   -0.7403126810E+02   -0.86892E-07    0.25214E-09
  *** tolerance ok. iteration terminated
     &gt;&gt;&gt;  ITERATION ENDED   AT Thu Nov 14 17:03:46 2013  &lt;&lt;&lt;
</pre>
</td>
		                    </tr>
		                                
		                    <tr>
	<td class="edited_on" align="left" colspan="2">
	</td>
</tr>
		                    
		                </table>
		            </td>
        </tr> 
           
        <tr><td class="thread_sig" align="left" colspan="2"></td></tr>
        	
        </table>
<br />      <br />
</body> 
</html> 
