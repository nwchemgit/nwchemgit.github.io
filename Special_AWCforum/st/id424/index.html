<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
	
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta name="generator" content="MediaWiki 1.16.4" />
<meta name="keywords" content="Compiling with MPI under cygwin Viewed 13317 times, With a total of 11 Posts" />
<!--[if lt IE 5.5000]><link rel="stylesheet" href="/skins/gumax/IE50Fixes.css?270" media="screen" /><![endif]-->
<!--[if IE 5.5000]><link rel="stylesheet" href="/skins/gumax/IE55Fixes.css?270" media="screen" /><![endif]-->
<!--[if IE 6]><link rel="stylesheet" href="/skins/gumax/IE60Fixes.css?270" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="/skins/gumax/IE70Fixes.css?270" media="screen" /><![endif]-->
		<!--[if lt IE 7]><script type="text/javascript" src="/skins/common/IEFixes.js?270"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->

		<script>
var skin="gumax",
stylepath="/skins",
wgUrlProtocols="http.html\\:\\/\\/|https\\:\\/\\/|ftp\\:\\/\\/|irc\\:\\/\\/|gopher\\:\\/\\/|telnet\\:\\/\\/|nntp\\:\\/\\/|worldwind\\:\\/\\/|mailto\\:|news\\:|svn\\:\\/\\/",
wgArticlePath="/index.php/$1",
wgScriptPath="",
wgScriptExtension=".php",
wgVariantArticlePath=false,
wgActionPaths={},
wgCanonicalNamespace="Special",
wgCanonicalSpecialPageName="AWCforum",
wgNamespaceNumber=-1,
wgPageName="Special_AWCforum",
wgTitle="AWCforum",
wgAction="view",
wgArticleId=0,
wgIsArticle=true,
wgUserName=null,
wgUserGroups=null,
wgUserLanguage="en",
wgContentLanguage="en",
wgBreakFrames=true,
wgCurRevisionId=0,
wgVersion="1.16.4",
wgEnableAPI=true,
wgEnableWriteAPI=true,
wgSeparatorTransformTable=["", ""],
wgDigitTransformTable=["", ""],
wgMainPageTitle="Main Page",
wgFormattedNamespaces={"-2": "Media", "-1": "Special", "0": "", "1": "Talk", "2": "User", "3": "User talk", "4": "NWChem", "5": "NWChem talk", "6": "File", "7": "File talk", "8": "MediaWiki", "9": "MediaWiki talk", "10": "Template", "11": "Template talk", "12": "Help", "13": "Help talk", "14": "Category", "15": "Category talk", "500": "Release-60", "501": "Release-60 talk", "502": "Release61", "503": "Release61 talk", "504": "Release62", "505": "Release62 talk", "506": "Release64", "507": "Release64 talk", "508": "Release65", "509": "Release65 talk", "510": "Development", "511": "Development talk", "512": "Release66", "513": "Release66 talk", "121707": "Forum"},
wgNamespaceIds={"media": -2, "special": -1, "": 0, "talk": 1, "user": 2, "user_talk": 3, "nwchem": 4, "nwchem_talk": 5, "file": 6, "file_talk": 7, "mediawiki": 8, "mediawiki_talk": 9, "template": 10, "template_talk": 11, "help": 12, "help_talk": 13, "category": 14, "category_talk": 15, "release-60": 500, "release-60_talk": 501, "release61": 502, "release61_talk": 503, "release62": 504, "release62_talk": 505, "release64": 506, "release64_talk": 507, "release65": 508, "release65_talk": 509, "development": 510, "development_talk": 511, "release66": 512, "release66_talk": 513, "forum": 121707, "ns_reldoc64": "NS_RELDOC65", "ns_reldoc64_talk": "NS_RELDOC65_TALK", "image": 6, "image_talk": 7},
wgSiteName="NWChem",
wgCategories=[],
wgRestrictionEdit=[],
wgRestrictionMove=[];
</script>
		<!-- Head Scripts -->
<style type="text/css">
#bodyContent a[href ^="http://"] {
background: none;
    padding-right: 0px;
}

#bodyContent a.external {
background: none;
	padding-right: 0px;
}

#p-cactions li a {
text-transform: capitalize;
}

#contentSub {
margin: 0;
padding: 2px;
padding-bottom: 6px;
}

pre {
margin:0px; 
    padding:5px;
    padding-bottom:20px;  
    
    width: 600px;
    overflow:auto;
    overflow-y: visible;
    line-height: 100%;
}

.top_user_links {
margin: 0;
    padding: 0;
    border-bottom: 1px solid #aaa;
    text-align: right;
}

#TopMenuLinksHolder li a:hover {

}

#TopMenuLinksHolder li a {

}

#TopMenuLinksHolder li {
margin-top: 4px;   
    margin-left: 4px;
    margin-bottom: 0px;
    
    padding: 3px;
    
    list-style: none;
    float: right;
    display: block;
    
    width: auto;
    white-space: nowrap;
    
    border: 1px solid #aaa;
    border-bottom: 0px;
    
    color: #000;
    text-decoration: none;
    font: 11px Verdana;
    text-align: left;
    z-index: 3;
}

#TopMenuLinksHolder a:visited {

}

#TopMenuLinksHolder div a:hover {
background: #FFF;
    color: #000;
}

#TopMenuLinksHolder div a {
position: relative;
        display: block;
        margin: 0;
        padding: 5px;
        width: auto;
        white-space: nowrap;
        text-align: left;
        text-decoration: none;
        font: 11px arial;
}

#TopMenuLinksHolder div {
position: absolute;
    visibility: hidden;
    margin: 0;
    padding: 0;
    background: #DDDDDD;
    border: 1px solid #AAAAAA;
}

#TopMenuLinksHolder {
margin: 0;
    padding: 0;
    z-index: 3;
}

.UserNameOptions {

}

#UserNameOptions a:visited {

}

#UserNameOptions li a:hover {

}

#UserNameOptions li a {
font: 11px Verdana;
}

#UserNameOptions li {
list-style: none;
    display: block;
    white-space: nowrap;
    border: 0px;
    color: #000;
    text-align: left;
    text-decoration: none;
}

#UserNameOptions div a:hover {
color: #FFF;
}

#UserNameOptions div a {
position: relative;
        display: block;
        margin: 0;
        padding: 5px;
        
        width: 500px;
        
        white-space: nowrap; 
        text-align: left;
        text-decoration: none;
        font: 11px arial;
}

#UserNameOptions div {
position: absolute;
    display: block;
    visibility: hidden;
    margin: 0;
    padding: 5px;
    background: #DDDDDD;
    border: 1px solid #AAAAAA;
    white-space: nowrap; 
    font: 12px arial;
    line-height: 100%;
}

#UserNameOptions {
margin: 0;
    padding: 0;
    z-index: 2;
}

.group_text {
font-size: 84%;
    width: auto;
    padding: 0px;
}

.edited_on {
border-top: 1px solid #aaa;
    margin: 0px;
    margin-bottom: 0px;
    padding-left: 5px;
    font-size: 12px;
}

.post_title {

}

.post_date {
border-bottom: 1px solid #aaa;
    font-size: 90%;
    padding-left: 2px;
}

.post_td {
background-color: #f9f9f9;
    border-left: 1px solid #aaa;
    margin: .0em;
    padding: .0em;
}

.post_body {
padding: .5em;
    padding-top: 0px;
}

.post0 {
background-color: #E5E5E5;
    border-left: 1px solid #aaa;
    padding: .0em;
}

.post1 {
background-color: #f9f9f9;
    border-left: 1px solid #aaa;
    padding-bottom: .0em;
}

.post_footer {
/* post, quote, edit buttons */
    margin: 0;
    padding: .7em;
    padding-bottom: 0em;
}

.post_box {
margin-top: 5px;
    margin-left: 5px;
    margin-right: 2px;
    width: auto;
}

.mem_name {
border-bottom: 1px solid #aaa;
    margin: 0;
    padding: .4em;
}

.adv {
border: 0px;
    margin: 0em;
    padding: 0em;
}

.thread_sig {
border-top: 2px solid #aaa;
    margin: 3px;
    padding-left: 5px;
}

#subscribe_menu {
position: absolute;
    background: #ccc ;
    border: 1px solid #aaa;
    border-top: 0px;
    margin: 0em;
    padding: 5px;
    padding-top: 0px;
    top:auto;
    right:65px;
    z-index: 2;
}

.drop_down_buttons:hover {
background: #ccc ;
}

.drop_down_buttons {
margin: 0em;
    white-space: nowrap;
    border-bottom: 1px solid #aaa;
    border-top: 0px;
    padding: 5px;
    color: #000;
    text-align: center;
    background: #fff ;
}

.mod_menu_row {
text-align: left;
}

.post_buttons:hover {
background: #fff ;
}

.post_buttons {
white-space: nowrap;
    float: right;
    margin-top: .5em;
    margin-right: 5px;
    border: 1px solid #aaa;
    border-bottom: 0em;
    padding-left: 5px;
    padding-right: 5px;
    padding-bottom: 0px;
    color: #000;
}

.quote_title {
border: 1px dashed #aaa;
	padding: 5px;
	background-color: #f9f9f9;
	font-family:"Courier New", Courier, mono;
}

.quote {
border-top: 1px solid #000;
	background-color: #fff;
	padding: 10px;
	font-size: 95%;
}

.user_options_row {
border: 1px solid #aaa;
    background: #fff ;
    padding: .3em;
}

.t_userinfo {
white-space:nowrap;
    text-align: left;
    margin: 0;
    padding: .7em;
    padding-bottom: 0em;
}

.ThreadOtions {
margin: 0;
    padding: 0;
    text-align: right;
}

#ThreadOtions a:visited {

}

#ThreadOtions li a:hover {

}

#ThreadOtions li a {
border: 1px solid #aaa;
    border-bottom: 0em;
    padding: 4px;
}

#ThreadOtions li {
list-style: none;
    display: block;
    white-space: nowrap;
    
    border: 0px;
    color: #000;
    
    text-decoration: none;
    z-index: 3;
}

#ThreadOtions div a:hover {
background: #FFF;
    color: #000;
}

#ThreadOtions div a {
position: relative;
        display: block;
        margin: 0;
        padding: 2px;
        border: 0em;
        
        white-space: nowrap; 
        text-align: left;
        text-decoration: none;
        font: 11px arial;
}

#ThreadOtions div {
position: absolute; 
    right: 50px;
    visibility: hidden;
    margin: 0;
    padding: 5px;
    background: #DDDDDD;
    border: 1px solid #AAAAAA;
    white-space: nowrap; 
    text-align: left;
}

#ThreadOtions {
margin-top: 3px;
    padding: 0;
    z-index: 3;
}

.forum_posts {
border: 1px solid #aaa;
    margin: 0em;
    padding: 0em;
    width: 100%;

 width: 100%;
}

.post {
background-color: #f9f9f9;
    border-left: 1px solid #aaa;
    padding: .0em;
}

#search_box {
white-space:nowrap;
    text-align: right; 
    margin: .0em;
    padding: 0px;
}

.search_box {
float: right;
    font-size: 97%;
    margin: .0em;
    color: #000;
    background: #fff;
    border: 1px solid #000;
    margin-left: 5px;
    padding: 0px;
}

.highlightsearchword {
color: #FF0000;
}

.poll_display_table {
border: 1px solid #aaa;
    
    padding: 1px;
}

.poll_displayheader {
border-bottom: 1px dashed #aaa;
    padding: 4px;
    background-color: #DDDDDD;
    font-family:"Courier New", Courier, mono;
}

.poll_display_row {
border-bottom: 1px solid #aaa;
    background-color: #f9f9f9;
    padding: 2px;
}

.poll_display_vote_total {
border-top: 1px solid #aaa;
    padding: 4px;
    background-color: #DDDDDD;
    font-family:"Courier New", Courier, mono;
}

.poll_display_vote_numbers_header {
border: 1px solid #aaa;
border-bottom: 0;
}

.poll_display_vote_percent_header {
border-top: 1px solid #aaa;
    padding: 1px;
}

.poll_display_vote_option_header {
border: 1px solid #aaa;
    border-bottom: 0;
    padding: 1px;
}

.poll_display_vote_numbers {
border: 1px solid #aaa;
    border-bottom: 0;
    padding: 1px;
}

.poll_display_vote_percent {
border-top: 1px solid #aaa;
    padding: 1px;
}

.poll_display_vote_option {
border: 1px solid #aaa;
    border-bottom: 0;
    padding: 1px;
}

.poll_percent_color_op10 {
background-color: #7FFF00;
}

.poll_percent_color_op1 {
background-color: #CD5555;
}

.poll_percent_color_op2 {
background-color: #5CACEE;
}

.poll_percent_color_op3 {
background-color: #FFCC11;
}

.poll_percent_color_op4 {
background-color: #668014;
}

.poll_percent_color_op5 {
background-color: #A0522D;
}

.poll_percent_color_op6 {
background-color: #9F79EE;
}

.poll_percent_color_op7 {
background-color: #EE00EE;
}

.poll_percent_color_op8 {
background-color: #DC143C;
}

.poll_percent_color_op9 {
background-color: #551011;
}

.page_jumps_top:hover {
background: #ccc ;
}

.page_jumps_top {
white-space: nowrap;
    display: inline;
    
    margin: 0px; 
    margin-right: 2px;
    
    border: 1px solid #aaa;
    border-bottom: 0px;
    
    padding-left: 5px;
    padding-right: 5px;
    padding-bottom: 4px;
    
    color: #000;
}

.page_jumps_bot:hover {
background: #ccc ;
}

.page_jumps_bot {
border: 1px solid #aaa;
    border-top: 0px;
    padding-top: 2px;
    margin-left: 2px;
    font-size: 100%;
    padding-left: 5px;
    padding-right: 5px;
    padding-bottom: 2px;
}

.main_memtable {
border: 1px solid #aaa;
}

.main_leftmenu {
border-right: 1px solid #aaa;
     background-color: #f9f9f9;
     width: 175px;
}

.leftmenuheaders {
border: 1px dashed #aaa;
    padding: 2px;
    font-family:"Courier New", Courier, mono;
}

.leftmenu {
background-color: #f9f9f9;
}

.right_body {
padding: 2px;
}

.mem_pm_table {
border: 1px solid #aaa;
    padding: 2px;
    margin: 7px;
}

.pm_header_new {
background-color: #aaa;
    border: 1px solid #000;
    padding: 2px;
    width:5%;
}

.pm_header_title {
background-color: #aaa;
    border: 1px solid #000;
    padding: 2px;
    width:85%;
}

.pm_header_sender {
background-color: #aaa;
    border: 1px solid #000;
    padding: 2px;
    width:5%;
}

.pm_header_date {
background-color: #aaa;
    border: 1px solid #000;
    padding: 2px;
    width:5%;
}

.pm_row {
background-color: #f9f9f9;
    border: 1px solid #000;
    padding: 3px;
}

#cat_list_lastaction_user {
font-size: 90%;
    color: #7d7d7d;
    text-align: right;
    margin-right: 10px;
    line-height: 100%;
}

#cat_list_lastaction_date {
font-size: 90%;
    color: #7d7d7d;
    text-align: right;
    margin-right: 10px;
    line-height: 105%;
}

#cat_list_lastaction_title {
font-size: 90%;
    color: #7d7d7d;
    text-align: right;
    margin-right: 10px;
    line-height: 105%;
}

#small_desc {
font-size: 84%;
    color: #7d7d7d;
	margin-left: 10px;
    width: auto;
}

#cat_forumdisc {
font-size: 84%;
    color: #7d7d7d;
    margin-left: 10px;
    width: auto;
}

.cat_forumrows {
border: 1px solid #aaa;
    background-color: #f9f9f9;
    padding: 5px;
    font-size: 95%;
}

.thread_col_head {
border: 1px solid #aaa;
    margin: 0px;
    padding: 5px;
    white-space: nowrap;
}

.bread_crumbs {
border-bottom: 1px solid #aaa;
    border-top: 0px;
    padding: 2px;
    text-align: left;
}

.dl_maintable_head {
border-right: 1px solid #aaa;
    border-bottom: 1px solid #aaa;
    background-color: #fff;
    padding: 2px;
}

.dl_maintable {
border: 1px solid #aaa;
    margin: 1px;
    padding: 1px;
}

.right_float {
float: right;
	margin-top: 8px;
	padding-left: 5px;
	padding-right: 5px;
	margin-right: 10px;
	margin-left: 10px;
}

.right {
float: right;
	padding-left: 5px;
	padding-right: 5px;
	margin-right: 10px;
	margin-left: 10px;
}

.spacer {
background-color: #aaa;
}

.whos_here_header {
border-bottom: 1px dashed #aaa;
            padding: 4px;
            font-family:"Courier New", Courier, mono;
}

.whos_here_row {
border-bottom: 1px solid #aaa;
            background-color: #f9f9f9;
            padding: 2px;
}

.whos_here {
border: 1px solid #aaa;
            border-bottom: 0;
}

.nothing {
font-size: 0%;
            margin: .0em;
            border: 0;
            margin: 0;
            padding: 0;
            width: 0;
}

.forum_stats {
border: 1px solid #aaa;
            border-bottom: 0;
}

.forum_stats_leftcol {
border-bottom: 1px solid #aaa;
                background-color: #f9f9f9;
                padding: 2px;
}

.forum_stats_rightcol {
background-color: #f9f9f9;
                border-bottom: 1px solid #aaa;
                padding: 2px;
}

.forum_stats_header {
border-bottom: 1px dashed #aaa;
                padding: 4px;
                font-family:"Courier New", Courier, mono;
}

.thread_rows0 {
background-color: #E5E5E5;
    border: 1px solid #aaa;
    border-top: 0px ;
    padding: 2px;
    font-size: 95%;
}

.thread_rows1 {
background-color: #f3f3f3;
    border: 1px solid #aaa;
    border-top: 0px ;
    padding: 2px;
    font-size: 95%;
}

.thread_rows {
background-color: #f9f9f9;
    border: 1px solid #aaa;
    border-top: 0px ;
    padding: 2px;
    font-size: 95%;
}

#annc {
border: 1px solid #000;
	background-color: red;
	padding: 0px;
}

.sticky {
font-style: italic;
    border: 1px solid #aaa;
    border-top: 0px;
    background-color:  #ffa; /* #ffa; e2ffe2 */
    padding: 2px;
    font-size: 95%;
}

.thread_lastaction {
font-size: 84%;
    text-align: right;
    white-space: nowrap;
    display: inline;
}

.pagejumps_PostOnForumPage:hover {
background: #ccc ;
}

.pagejumps_PostOnForumPage {
border: 1px solid #aaa;
    margin-left: 3px;
    font-size: 100%;
    padding-left: 3px;
    padding-right: 3px;
    padding-bottom: 0px;
}

.new_thread_button:hover {
background: #ccc ;
}

.new_thread_button {
white-space: nowrap;
    float: right;
    display: inline; /*fixes IE float bug*/
    margin-top: 0px; 
    margin-bottom: 0px; 
    margin-left: 10px;
   /* margin-left: -4px; */
    border: 1px solid #aaa;
    border-bottom: 0px;
    padding-left: 5px;
    padding-right: 5px;
    padding-bottom: 3px;
    text-align: left; /* 2.4.1 */
    color: #000;
}

#row_info td {
border: 1px solid #aaa;
	border-top: 0px;
	background-color: #f9f9f9;
	padding: 5px;
	font-size: 95%;
}

.page_jumps_holder_thread_bot {
border-bottom: 1px solid #aaa;
}

.page_jumps_holderBot {

}

.poll_thread_listing {
border: 1px solid #aaa;
    border-top: 0px;
    background-color:  #FFCC00;
    padding: 2px;
    font-size: 95%;
}

.locked_thread {
font-style: italic;
    border: 1px solid #aaa;
    border-top: 0px;
    background-color:  #e2ffe2; /* #ffa; e2ffe2 */
    padding: 2px;
    font-size: 95%;
}

#ajax_pmname {
text-align: left;
}

#ajax_pmname ul {
list-style: none;
margin: 0;
}

#ajax_pmname li {
padding: 2px 5px;
	white-space: nowrap;
	text-align: left;
}

#ajax_pmname li:hover {
background: #f9f9f9;
	margin-left: .1em;
	text-decoration: underline;
}

#ajax_pmname li {
padding: 2px 5px;
	white-space: nowrap;
	text-align: left;
}

#ajax_pmname li {
padding: 2px 5px;
	white-space: nowrap;
	text-align: left;
}

#ajax_pmname li {
padding: 2px 5px;
	white-space: nowrap;
	text-align: left;
}

</style>


		<!-- gumax customized style -->

					<style type="text/css">
				#gumax-content-actions li#ca-talk,
				#gumax-content-actions li#ca-history,
				#gumax-content-actions li#ca-edit,
				#gumax-personal-tools
				{ display: none; }
			</style>
		
		<!--[if lt IE 7]>
			<script type="text/javascript" src="/skins/gumax/js/ieunitpngfix-tag.js"></script>
		<![endif]-->

		<!-- end of gumax customized style -->
</head>


<body class="mediawiki ltr ns--1 ns-special page-Special_AWCforum_st_id424 skin-gumax">

	</div>
	<!-- ///// end of gumax-header ///// -->



		<!-- gumax-content-body -->
		<div id="gumax-column-content">
	<div id="content">
		<a name="top" id="top"></a>
				<h1 id="firstHeading" class="firstHeading gumax-firstHeading" >Compiling with MPI under cygwin</h1>
	</tr>
</table>
<br />    <table width="100%" cellpadding="0" cellspacing="0">
        <tr>
            <td width="65%" align="left" nowrap="nowrap"></td>                                         
            <td width="35%" class='ThreadOtions' nowrap></td>    
        </tr>
    </table>       <a name="post_1396"></a>       
        <table class="forum_posts" cellpadding="0" cellspacing="0" id="fullheight">
            <tr>
                <td width="100%" align="left" colspan="2" valign="top" class="mem_name" id="name_1396" nowrap>
                    <table width="100%" cellpadding="0" cellspacing="0">
                        <tr>
                            <td class="UserNameOptions" width="100%">
                                <ul id="UserNameOptions">
                                  <li>
                                    <div id="mem1" onmouseover="mcancelclosetime()" onmouseout="mclosetime()">
                                        
                                    </div>
                                  </li>
                                </ul>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td align="left" nowrap valign="top" width="20">
                    <table cellpadding="0" cellspacing="0" width="20">
                        <tr>
                            <td class="t_userinfo" width="20" nowrap>
                <!-- member_title --><div class="">Clicked A Few Times</div><!-- /member_title -->
                                
                            </td>
                        </tr>
                    </table>
                </td>
                        
            		<td align="left" width="100%" valign="top" id="fullheight">
		                <table width="100%" cellpadding="0" cellspacing="0" class="post0" height="75">
		                    <tr>
		                        <td class="post_date" valign="bottom" height="1px"  width="100%" colspan="2"  nowrap><a target="blank" href="../../sp/id1396.html">7:49:08 AM PDT - Wed, Apr 25th 2012 </a></td>
		                            <td class="post_date" valign="bottom" height="1px" width="100%" nowrap></td>

		                    </tr>
		                                     
		                    <tr>
		                        <td valign="top" class="post_body" height="65" colspan="2">Dear people,<br />
<br />
I have some issues with kompilation under cygwin (Windows 7). I managed to kompile without MPI, and nwchem seems to work. Hoewever, we have a machine with two processors and six cores each, so I want to kompile with MPI (using MPICH2). I'm using the following environmental variables:<br />
<br />
setenv NWCHEM_TOP /home/don2/ivo/nwchem-6.1<br />
setenv NWCHEM_TARGET CYGWIN<br />
setenv NWCHEM_MODULES all<br />
setenv FC gfortran<br />
setenv USE_MPI y<br />
setenv USE_MPIF y<br />
setenv USE_MPIF4 y<br />
setenv LIBMPI "-lmpich -lopa -lmpl -lrt -lpthread"<br />
setenv MPI_LIB /home/don2/ivo/mpilndir/lib<br />
setenv MPI_INCLUDE /home/don2/ivo/mpilndir/include<br />
<br />
This fails however, and this is the end of the make.log:<br />
<br />
gfortran -Wextra -ffast-math  -march=pentium4 -mtune=pentium4 -Xlinker --export-dynamic  -L/home/don2/ivo/nwchem-6.1/lib/CYGWIN -L/home/don2/ivo/nwchem-6.1/src/tools/install/lib  -o /home/don2/ivo/nwchem-6.1/bin/CYGWIN/nwchem nwchem.o stubs.o -lnwctask -lccsd -lmcscf -lselci -lmp2 -lmoints -lstepper -ldriver -loptim -lnwdft -lgradients -lcphf -lesp -lddscf -ldangchang -lguess -lhessian -lvib -lnwcutil -lrimp2 -lproperty -lnwints -lprepar -lnwmd -lnwpw -lofpw -lpaw -lpspw -lband -lnwpwlib -lcafe -lspace -lanalyze -lqhop -lpfft -ldplot -ldrdy -lvscf -lqmmm -lqmd -letrans -lpspw -ltce -lbq -lcons -lperfm -ldntmc -lccca -lnwcutil -lga -lpeigs -lperfm -lcons -lbq -lnwcutil -llapack  -lblas -llapack  -lblas   -L/home/don2/ivo/mpilndir/lib -lmpich -lopa -lmpl -lrt -lpthread  -lm<br />
/usr/lib/gcc/i686-pc-cygwin/4.5.3/../../../../i686-pc-cygwin/bin/ld: warning: --export-dynamic is not supported for PE targets, did you mean --export-all-symbols?<br />
/usr/lib/gcc/i686-pc-cygwin/4.5.3/../../../../i686-pc-cygwin/bin/ld: cannot find -lmpich<br />
/usr/lib/gcc/i686-pc-cygwin/4.5.3/../../../../i686-pc-cygwin/bin/ld: cannot find -lopa<br />
/usr/lib/gcc/i686-pc-cygwin/4.5.3/../../../../i686-pc-cygwin/bin/ld: cannot find -lmpl<br />
collect2: ld returned 1 exit status<br />
GNUmakefile:38: recipe for target `all' failed<br />
make: *** [all] Error 1<br />
<br />
This tells me that the linker cannot find the MPI libraries in the MPI_INCLUDE directory, but I don't understand why.<br />
<br />
Please help, thanks in advance.<br />
Ivo
</td>
		                    </tr>
		                                
		                    
		                    
		                </table>
		            </td>
        </tr> 
           
        <tr><td class="thread_sig" align="left" colspan="2"></td></tr>
        	
        </table>
<br />       <a name="post_1399"></a>       
        <table class="forum_posts" cellpadding="0" cellspacing="0" id="fullheight">
            <tr>
                <td width="100%" align="left" colspan="2" valign="top" class="mem_name" id="name_1399" nowrap>
                    <table width="100%" cellpadding="0" cellspacing="0">
                        <tr>
                            <td class="UserNameOptions" width="100%">
                                <ul id="UserNameOptions">
                                  <li>
                                    <div id="mem2" onmouseover="mcancelclosetime()" onmouseout="mclosetime()">
                                        
                                    </div>
                                  </li>
                                </ul>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td align="left" nowrap valign="top" width="20">
                    <table cellpadding="0" cellspacing="0" width="20">
                        <tr>
                            <td class="t_userinfo" width="20" nowrap>
                <!-- member_title --><div class="">Forum Vet</div><!-- /member_title -->
                                
                            </td>
                        </tr>
                    </table>
                </td>
                        
            		<td align="left" width="100%" valign="top" id="fullheight">
		                <table width="100%" cellpadding="0" cellspacing="0" class="post1" height="75">
		                    <tr>
		                        <td class="post_date" valign="bottom" height="1px"  width="100%" colspan="2"  nowrap><a target="blank" href="../../sp/id1399.html">11:10:51 AM PDT - Wed, Apr 25th 2012 </a></td>
		                            <td class="post_date" valign="bottom" height="1px" width="100%" nowrap></td>

		                    </tr>
		                                     
		                    <tr>
		                        <td valign="top" class="post_body" height="65" colspan="2">I don't see why the linker, other then the libraries are not in /home/don2/ivo/mpilndir/lib .<br />
<br />
What does "ls -ltr /home/don2/ivo/mpilndir/lib" give you?<br />
<br />
Bert<br />
<br />
<br />
<div class='quote_title'>Quote:Ivo <a target='blank' href="../../sp/id1396.html" title="Special_AWCforum/sp/id1396">Apr 25th 2:49 pm</a><div class='quote'>Dear people,<br />
<br />
I have some issues with kompilation under cygwin (Windows 7). I managed to kompile without MPI, and nwchem seems to work. Hoewever, we have a machine with two processors and six cores each, so I want to kompile with MPI (using MPICH2). I'm using the following environmental variables:<br />
<br />
setenv NWCHEM_TOP /home/don2/ivo/nwchem-6.1<br />
setenv NWCHEM_TARGET CYGWIN<br />
setenv NWCHEM_MODULES all<br />
setenv FC gfortran<br />
setenv USE_MPI y<br />
setenv USE_MPIF y<br />
setenv USE_MPIF4 y<br />
setenv LIBMPI "-lmpich -lopa -lmpl -lrt -lpthread"<br />
setenv MPI_LIB /home/don2/ivo/mpilndir/lib<br />
setenv MPI_INCLUDE /home/don2/ivo/mpilndir/include<br />
<br />
This fails however, and this is the end of the make.log:<br />
<br />
gfortran -Wextra -ffast-math  -march=pentium4 -mtune=pentium4 -Xlinker --export-dynamic  -L/home/don2/ivo/nwchem-6.1/lib/CYGWIN -L/home/don2/ivo/nwchem-6.1/src/tools/install/lib  -o /home/don2/ivo/nwchem-6.1/bin/CYGWIN/nwchem nwchem.o stubs.o -lnwctask -lccsd -lmcscf -lselci -lmp2 -lmoints -lstepper -ldriver -loptim -lnwdft -lgradients -lcphf -lesp -lddscf -ldangchang -lguess -lhessian -lvib -lnwcutil -lrimp2 -lproperty -lnwints -lprepar -lnwmd -lnwpw -lofpw -lpaw -lpspw -lband -lnwpwlib -lcafe -lspace -lanalyze -lqhop -lpfft -ldplot -ldrdy -lvscf -lqmmm -lqmd -letrans -lpspw -ltce -lbq -lcons -lperfm -ldntmc -lccca -lnwcutil -lga -lpeigs -lperfm -lcons -lbq -lnwcutil -llapack  -lblas -llapack  -lblas   -L/home/don2/ivo/mpilndir/lib -lmpich -lopa -lmpl -lrt -lpthread  -lm<br />
/usr/lib/gcc/i686-pc-cygwin/4.5.3/../../../../i686-pc-cygwin/bin/ld: warning: --export-dynamic is not supported for PE targets, did you mean --export-all-symbols?<br />
/usr/lib/gcc/i686-pc-cygwin/4.5.3/../../../../i686-pc-cygwin/bin/ld: cannot find -lmpich<br />
/usr/lib/gcc/i686-pc-cygwin/4.5.3/../../../../i686-pc-cygwin/bin/ld: cannot find -lopa<br />
/usr/lib/gcc/i686-pc-cygwin/4.5.3/../../../../i686-pc-cygwin/bin/ld: cannot find -lmpl<br />
collect2: ld returned 1 exit status<br />
GNUmakefile:38: recipe for target `all' failed<br />
make: *** [all] Error 1<br />
<br />
This tells me that the linker cannot find the MPI libraries in the MPI_INCLUDE directory, but I don't understand why.<br />
<br />
Please help, thanks in advance.<br />
Ivo</div id="quote"></div id="quote">
</td>
		                    </tr>
		                                
		                    
		                    
		                </table>
		            </td>
        </tr> 
           
        <tr><td class="thread_sig" align="left" colspan="2"></td></tr>
        	
        </table>
<br />       <a name="post_1404"></a>       
        <table class="forum_posts" cellpadding="0" cellspacing="0" id="fullheight">
            <tr>
                <td width="100%" align="left" colspan="2" valign="top" class="mem_name" id="name_1404" nowrap>
                    <table width="100%" cellpadding="0" cellspacing="0">
                        <tr>
                            <td class="UserNameOptions" width="100%">
                                <ul id="UserNameOptions">
                                  <li>
                                    <div id="mem3" onmouseover="mcancelclosetime()" onmouseout="mclosetime()">
                                        
                                    </div>
                                  </li>
                                </ul>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td align="left" nowrap valign="top" width="20">
                    <table cellpadding="0" cellspacing="0" width="20">
                        <tr>
                            <td class="t_userinfo" width="20" nowrap>
                <!-- member_title --><div class="">Clicked A Few Times</div><!-- /member_title -->
                                
                            </td>
                        </tr>
                    </table>
                </td>
                        
            		<td align="left" width="100%" valign="top" id="fullheight">
		                <table width="100%" cellpadding="0" cellspacing="0" class="post0" height="75">
		                    <tr>
		                        <td class="post_date" valign="bottom" height="1px"  width="100%" colspan="2"  nowrap><a target="blank" href="../../sp/id1404.html">11:54:32 PM PDT - Wed, Apr 25th 2012 </a></td>
		                            <td class="post_date" valign="bottom" height="1px" width="100%" nowrap></td>

		                    </tr>
		                                     
		                    <tr>
		                        <td valign="top" class="post_body" height="65" colspan="2">Here it is. I include the include dir as well:<br />
<br />
&gt; ls -ltr /home/don2/ivo/mpilndir/lib<br />
total 3152<br />
-rwx------+ 1 SYSTEM SYSTEM  132360 Sep  1  2011 mpi.lib<br />
-rwx------+ 1 SYSTEM SYSTEM   10430 Sep  1  2011 mpe.lib<br />
-rwx------+ 1 SYSTEM SYSTEM   93844 Sep  1  2011 rlog.lib<br />
-rwx------+ 1 SYSTEM SYSTEM  324322 Sep  1  2011 cxx.lib<br />
-rwx------+ 1 SYSTEM SYSTEM  133560 Sep  1  2011 fmpich2.lib<br />
-rwx------+ 1 SYSTEM SYSTEM    1936 Sep  1  2011 irlog2rlog.lib<br />
-rwx------+ 1 SYSTEM SYSTEM  400390 Sep  1  2011 fmpich2g.lib<br />
-rwx------+ 1 SYSTEM SYSTEM    4644 Sep  1  2011 TraceInput.lib<br />
-rwx------+ 1 SYSTEM SYSTEM  474252 Sep  1  2011 libmpi.a<br />
-rwx------+ 1 SYSTEM SYSTEM 1420022 Sep  1  2011 libfmpich2g.a<br />
-rwx------+ 1 SYSTEM SYSTEM  210386 Sep  1  2011 libmpicxx.a<br />
&gt; ls -ltr /home/don2/ivo/mpilndir/include<br />
total 385<br />
-rwx------+ 1 SYSTEM SYSTEM   1833 Nov  2  2007 mpe_logf.h<br />
-rwx------+ 1 SYSTEM SYSTEM    696 Nov  2  2007 clog_const.h<br />
-rwx------+ 1 SYSTEM SYSTEM   1322 Nov 17  2009 mpe_misc.h<br />
-rwx------+ 1 SYSTEM SYSTEM  11102 Nov 17  2009 mpe_log.h<br />
-rwx------+ 1 SYSTEM SYSTEM   1353 Nov 17  2009 clog_uuid.h<br />
-rwx------+ 1 SYSTEM SYSTEM   4857 Nov 17  2009 clog_commset.h<br />
-rwx------+ 1 SYSTEM SYSTEM    355 Oct 21  2010 mpe.h<br />
-rwx------+ 1 SYSTEM SYSTEM  16765 Sep  1  2011 mpio.h<br />
-rwx------+ 1 SYSTEM SYSTEM 100243 Sep  1  2011 mpicxx.h<br />
-rwx------+ 1 SYSTEM SYSTEM  57471 Sep  1  2011 mpi.h<br />
-rwx------+ 1 SYSTEM SYSTEM    731 Sep  1  2011 clog_inttypes.h<br />
-rwx------+ 1 SYSTEM SYSTEM  19119 Sep  1  2011 mpif.h<br />
-rwx------+ 1 SYSTEM SYSTEM   8417 Sep  1  2011 mpi_sizeofs.mod<br />
-rwx------+ 1 SYSTEM SYSTEM  36141 Sep  1  2011 mpi_constants.mod<br />
-rwx------+ 1 SYSTEM SYSTEM  90551 Sep  1  2011 mpi_base.mod<br />
-rwx------+ 1 SYSTEM SYSTEM   3702 Sep  1  2011 mpi.mod<br />
<br />
mpilndir is a link to the mpi directory in the windows structure. That resides within Program Files, so I decided to make a link, to avoid the space in the name. It shouldn't be problem that it is a link, right?
</td>
		                    </tr>
		                                
		                    
		                    
		                </table>
		            </td>
        </tr> 
           
        <tr><td class="thread_sig" align="left" colspan="2"></td></tr>
        	
        </table>
<br />       <a name="post_1405"></a>       
        <table class="forum_posts" cellpadding="0" cellspacing="0" id="fullheight">
            <tr>
                <td width="100%" align="left" colspan="2" valign="top" class="mem_name" id="name_1405" nowrap>
                    <table width="100%" cellpadding="0" cellspacing="0">
                        <tr>
                            <td class="UserNameOptions" width="100%">
                                <ul id="UserNameOptions">
                                  <li>
                                    <div id="mem4" onmouseover="mcancelclosetime()" onmouseout="mclosetime()">
                                        
                                    </div>
                                  </li>
                                </ul>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td align="left" nowrap valign="top" width="20">
                    <table cellpadding="0" cellspacing="0" width="20">
                        <tr>
                            <td class="t_userinfo" width="20" nowrap>
                <!-- member_title --><div class="">Forum Vet</div><!-- /member_title -->
                                
                            </td>
                        </tr>
                    </table>
                </td>
                        
            		<td align="left" width="100%" valign="top" id="fullheight">
		                <table width="100%" cellpadding="0" cellspacing="0" class="post1" height="75">
		                    <tr>
		                        <td class="post_date" valign="bottom" height="1px"  width="100%" colspan="2"  nowrap><a target="blank" href="../../sp/id1405.html">9:00:30 AM PDT - Thu, Apr 26th 2012 </a></td>
		                            <td class="post_date" valign="bottom" height="1px" width="100%" nowrap></td>

		                    </tr>
		                                     
		                    <tr>
		                        <td valign="top" class="post_body" height="65" colspan="2">I don't see mpich.a opa.a mpl.a in the lib directory you are showing.<br />
<br />
Bert<br />
<br />
<br />
<br />

<pre>[QUOTE=Ivo <a href="../../sp/id1404.html" title="Special_AWCforum/sp/id1404">Apr 26th 6:54 am</a>]Here it is. I include the include dir as well:<br />
</pre>
<br />
&gt; ls -ltr /home/don2/ivo/mpilndir/lib<br />
total 3152<br />
-rwx------+ 1 SYSTEM SYSTEM  132360 Sep  1  2011 mpi.lib<br />
-rwx------+ 1 SYSTEM SYSTEM   10430 Sep  1  2011 mpe.lib<br />
-rwx------+ 1 SYSTEM SYSTEM   93844 Sep  1  2011 rlog.lib<br />
-rwx------+ 1 SYSTEM SYSTEM  324322 Sep  1  2011 cxx.lib<br />
-rwx------+ 1 SYSTEM SYSTEM  133560 Sep  1  2011 fmpich2.lib<br />
-rwx------+ 1 SYSTEM SYSTEM    1936 Sep  1  2011 irlog2rlog.lib<br />
-rwx------+ 1 SYSTEM SYSTEM  400390 Sep  1  2011 fmpich2g.lib<br />
-rwx------+ 1 SYSTEM SYSTEM    4644 Sep  1  2011 TraceInput.lib<br />
-rwx------+ 1 SYSTEM SYSTEM  474252 Sep  1  2011 libmpi.a<br />
-rwx------+ 1 SYSTEM SYSTEM 1420022 Sep  1  2011 libfmpich2g.a<br />
-rwx------+ 1 SYSTEM SYSTEM  210386 Sep  1  2011 libmpicxx.a<br />
&gt; ls -ltr /home/don2/ivo/mpilndir/include<br />
total 385<br />
-rwx------+ 1 SYSTEM SYSTEM   1833 Nov  2  2007 mpe_logf.h<br />
-rwx------+ 1 SYSTEM SYSTEM    696 Nov  2  2007 clog_const.h<br />
-rwx------+ 1 SYSTEM SYSTEM   1322 Nov 17  2009 mpe_misc.h<br />
-rwx------+ 1 SYSTEM SYSTEM  11102 Nov 17  2009 mpe_log.h<br />
-rwx------+ 1 SYSTEM SYSTEM   1353 Nov 17  2009 clog_uuid.h<br />
-rwx------+ 1 SYSTEM SYSTEM   4857 Nov 17  2009 clog_commset.h<br />
-rwx------+ 1 SYSTEM SYSTEM    355 Oct 21  2010 mpe.h<br />
-rwx------+ 1 SYSTEM SYSTEM  16765 Sep  1  2011 mpio.h<br />
-rwx------+ 1 SYSTEM SYSTEM 100243 Sep  1  2011 mpicxx.h<br />
-rwx------+ 1 SYSTEM SYSTEM  57471 Sep  1  2011 mpi.h<br />
-rwx------+ 1 SYSTEM SYSTEM    731 Sep  1  2011 clog_inttypes.h<br />
-rwx------+ 1 SYSTEM SYSTEM  19119 Sep  1  2011 mpif.h<br />
-rwx------+ 1 SYSTEM SYSTEM   8417 Sep  1  2011 mpi_sizeofs.mod<br />
-rwx------+ 1 SYSTEM SYSTEM  36141 Sep  1  2011 mpi_constants.mod<br />
-rwx------+ 1 SYSTEM SYSTEM  90551 Sep  1  2011 mpi_base.mod<br />
-rwx------+ 1 SYSTEM SYSTEM   3702 Sep  1  2011 mpi.mod<br />
<br />
mpilndir is a link to the mpi directory in the windows structure. That resides within Program Files, so I decided to make a link, to avoid the space in the name. It shouldn't be problem that it is a link, right?</div id="quote"></div id="quote">
</td>
		                    </tr>
		                                
		                    
		                    
		                </table>
		            </td>
        </tr> 
           
        <tr><td class="thread_sig" align="left" colspan="2"></td></tr>
        	
        </table>
<br />       <a name="post_1407"></a>       
        <table class="forum_posts" cellpadding="0" cellspacing="0" id="fullheight">
            <tr>
                <td width="100%" align="left" colspan="2" valign="top" class="mem_name" id="name_1407" nowrap>
                    <table width="100%" cellpadding="0" cellspacing="0">
                        <tr>
                            <td class="UserNameOptions" width="100%">
                                <ul id="UserNameOptions">
                                  <li>
                                    <div id="mem5" onmouseover="mcancelclosetime()" onmouseout="mclosetime()">
                                        
                                    </div>
                                  </li>
                                </ul>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td align="left" nowrap valign="top" width="20">
                    <table cellpadding="0" cellspacing="0" width="20">
                        <tr>
                            <td class="t_userinfo" width="20" nowrap>
                <!-- member_title --><div class="">Forum Vet</div><!-- /member_title -->
                                
                            </td>
                        </tr>
                    </table>
                </td>
                        
            		<td align="left" width="100%" valign="top" id="fullheight">
		                <table width="100%" cellpadding="0" cellspacing="0" class="post0" height="75">
		                    <tr>
		                        <td class="post_date" valign="bottom" height="1px"  width="100%" colspan="2"  nowrap><a target="blank" href="../../sp/id1407.html">9:36:15 AM PDT - Thu, Apr 26th 2012 </a></td>
		                            <td class="post_date" valign="bottom" height="1px" width="100%" nowrap></td>

		                    </tr>
		                    <tr><td valign="top" height="1px" colspan="2">mpif90 -show<hr /></td></tr>                 
		                    <tr>
		                        <td valign="top" class="post_body" height="65" colspan="2">Ivo,<br />
You need to use the output of<br />
mpif90 -show<br />
to set up correctly LIBMPI
</td>
		                    </tr>
		                                
		                    
		                    
		                </table>
		            </td>
        </tr> 
           
        <tr><td class="thread_sig" align="left" colspan="2"></td></tr>
        	
        </table>
<br />       <a name="post_1411"></a>       
        <table class="forum_posts" cellpadding="0" cellspacing="0" id="fullheight">
            <tr>
                <td width="100%" align="left" colspan="2" valign="top" class="mem_name" id="name_1411" nowrap>
                    <table width="100%" cellpadding="0" cellspacing="0">
                        <tr>
                            <td class="UserNameOptions" width="100%">
                                <ul id="UserNameOptions">
                                  <li>
                                    <div id="mem6" onmouseover="mcancelclosetime()" onmouseout="mclosetime()">
                                        
                                    </div>
                                  </li>
                                </ul>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td align="left" nowrap valign="top" width="20">
                    <table cellpadding="0" cellspacing="0" width="20">
                        <tr>
                            <td class="t_userinfo" width="20" nowrap>
                <!-- member_title --><div class="">Clicked A Few Times</div><!-- /member_title -->
                                
                            </td>
                        </tr>
                    </table>
                </td>
                        
            		<td align="left" width="100%" valign="top" id="fullheight">
		                <table width="100%" cellpadding="0" cellspacing="0" class="post1" height="75">
		                    <tr>
		                        <td class="post_date" valign="bottom" height="1px"  width="100%" colspan="2"  nowrap><a target="blank" href="../../sp/id1411.html">5:39:34 AM PDT - Fri, Apr 27th 2012 </a></td>
		                            <td class="post_date" valign="bottom" height="1px" width="100%" nowrap></td>

		                    </tr>
		                                     
		                    <tr>
		                        <td valign="top" class="post_body" height="65" colspan="2">@Bert: No, they're clearly not there. I freshly installed MPICH2-1.4.1p1, for windows, 64bit version. Can there be a version issue?<br />
<br />
@Edoapra: I don't have mpif90.<br />
<br />
On another note, I am also not married to MPICH2. I could try another MPI implementation. Which one would be recommended?
</td>
		                    </tr>
		                                
		                    
		                    
		                </table>
		            </td>
        </tr> 
           
        <tr><td class="thread_sig" align="left" colspan="2"></td></tr>
        	
        </table>
<br />       <a name="post_1413"></a>       
        <table class="forum_posts" cellpadding="0" cellspacing="0" id="fullheight">
            <tr>
                <td width="100%" align="left" colspan="2" valign="top" class="mem_name" id="name_1413" nowrap>
                    <table width="100%" cellpadding="0" cellspacing="0">
                        <tr>
                            <td class="UserNameOptions" width="100%">
                                <ul id="UserNameOptions">
                                  <li>
                                    <div id="mem7" onmouseover="mcancelclosetime()" onmouseout="mclosetime()">
                                        
                                    </div>
                                  </li>
                                </ul>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td align="left" nowrap valign="top" width="20">
                    <table cellpadding="0" cellspacing="0" width="20">
                        <tr>
                            <td class="t_userinfo" width="20" nowrap>
                <!-- member_title --><div class="">Forum Vet</div><!-- /member_title -->
                                
                            </td>
                        </tr>
                    </table>
                </td>
                        
            		<td align="left" width="100%" valign="top" id="fullheight">
		                <table width="100%" cellpadding="0" cellspacing="0" class="post0" height="75">
		                    <tr>
		                        <td class="post_date" valign="bottom" height="1px"  width="100%" colspan="2"  nowrap><a target="blank" href="../../sp/id1413.html">8:38:46 AM PDT - Fri, Apr 27th 2012 </a></td>
		                            <td class="post_date" valign="bottom" height="1px" width="100%" nowrap></td>

		                    </tr>
		                                     
		                    <tr>
		                        <td valign="top" class="post_body" height="65" colspan="2">/home/don2/ivo/mpilndir/bin should have either mpif77 or mpif90.<br />
<br />
I don't know why you specified <br />
<br />

<pre>   setenv LIBMPI "-lmpich -lopa -lmpl -lrt -lpthread"<br />
</pre>
<br />
while the libraries are not there in the first place.<br />
<br />
Given the libraries available, you may want to try <br />
<br />

<pre>  setenv LIBMPI "-lmpi"<br />
</pre>
<br />
and go from there. There might be additional libraries needed, but the linker will indicate that.<br />
<br />
Bert<br />
<br />
<br />
<br />
<div class='quote_title'>Quote:Ivo <a target='blank' href="../../sp/id1411.html" title="Special_AWCforum/sp/id1411">Apr 27th 12:39 pm</a><div class='quote'>@Bert: No, they're clearly not there. I freshly installed MPICH2-1.4.1p1, for windows, 64bit version. Can there be a version issue?<br />
<br />
@Edoapra: I don't have mpif90.<br />
<br />
On another note, I am also not married to MPICH2. I could try another MPI implementation. Which one would be recommended?</div id="quote"></div id="quote">
</td>
		                    </tr>
		                                
		                    
		                    
		                </table>
		            </td>
        </tr> 
           
        <tr><td class="thread_sig" align="left" colspan="2"></td></tr>
        	
        </table>
<br />       <a name="post_1421"></a>       
        <table class="forum_posts" cellpadding="0" cellspacing="0" id="fullheight">
            <tr>
                <td width="100%" align="left" colspan="2" valign="top" class="mem_name" id="name_1421" nowrap>
                    <table width="100%" cellpadding="0" cellspacing="0">
                        <tr>
                            <td class="UserNameOptions" width="100%">
                                <ul id="UserNameOptions">
                                  <li>
                                    <div id="mem8" onmouseover="mcancelclosetime()" onmouseout="mclosetime()">
                                        
                                    </div>
                                  </li>
                                </ul>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td align="left" nowrap valign="top" width="20">
                    <table cellpadding="0" cellspacing="0" width="20">
                        <tr>
                            <td class="t_userinfo" width="20" nowrap>
                <!-- member_title --><div class="">Forum Vet</div><!-- /member_title -->
                                
                            </td>
                        </tr>
                    </table>
                </td>
                        
            		<td align="left" width="100%" valign="top" id="fullheight">
		                <table width="100%" cellpadding="0" cellspacing="0" class="post1" height="75">
		                    <tr>
		                        <td class="post_date" valign="bottom" height="1px"  width="100%" colspan="2"  nowrap><a target="blank" href="../../sp/id1421.html">11:38:52 AM PDT - Fri, Apr 27th 2012 </a></td>
		                            <td class="post_date" valign="bottom" height="1px" width="100%" nowrap></td>

		                    </tr>
		                    <tr><td valign="top" height="1px" colspan="2">/home/don2/ivo/mpilndir/bin/mpicc<hr /></td></tr>                 
		                    <tr>
		                        <td valign="top" class="post_body" height="65" colspan="2"><div class='quote_title'>Quote:Ivo <a target='blank' href="../../sp/id1411.html" title="Special_AWCforum/sp/id1411">Apr 27th 4:39 am</a><div class='quote'><br />
@Edoapra: I don't have mpif90.<br />
</div id="quote"></div id="quote"><br />
<br />
Did you check in<br />
<br />
/home/don2/ivo/mpilndir/bin<br />
?<br />
<br />
You must have  -- at least -- mpicc.<br />
<br />
Edo
</td>
		                    </tr>
		                                
		                    
		                    
		                </table>
		            </td>
        </tr> 
           
        <tr><td class="thread_sig" align="left" colspan="2"></td></tr>
        	
        </table>
<br />       <a name="post_1477"></a>       
        <table class="forum_posts" cellpadding="0" cellspacing="0" id="fullheight">
            <tr>
                <td width="100%" align="left" colspan="2" valign="top" class="mem_name" id="name_1477" nowrap>
                    <table width="100%" cellpadding="0" cellspacing="0">
                        <tr>
                            <td class="UserNameOptions" width="100%">
                                <ul id="UserNameOptions">
                                  <li>
                                    <div id="mem9" onmouseover="mcancelclosetime()" onmouseout="mclosetime()">
                                        
                                    </div>
                                  </li>
                                </ul>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td align="left" nowrap valign="top" width="20">
                    <table cellpadding="0" cellspacing="0" width="20">
                        <tr>
                            <td class="t_userinfo" width="20" nowrap>
                <!-- member_title --><div class="">Clicked A Few Times</div><!-- /member_title -->
                                
                            </td>
                        </tr>
                    </table>
                </td>
                        
            		<td align="left" width="100%" valign="top" id="fullheight">
		                <table width="100%" cellpadding="0" cellspacing="0" class="post0" height="75">
		                    <tr>
		                        <td class="post_date" valign="bottom" height="1px"  width="100%" colspan="2"  nowrap><a target="blank" href="../../sp/id1477.html">12:36:22 AM PDT - Thu, May 3rd 2012 </a></td>
		                            <td class="post_date" valign="bottom" height="1px" width="100%" nowrap></td>

		                    </tr>
		                                     
		                    <tr>
		                        <td valign="top" class="post_body" height="65" colspan="2">I think I managed with<br />
<br />
setenv LIBMPI "-lmpi -lfmpich2g -lrt -lpthread"<br />
<br />
At least the compilation finished without complaints.<br />
I think the issue arose because I was more or less blindly following the compilation instructions from this website, and they were not completely appropriate for my case. I'm not very experienced in compiling programs, so that was very confusing for me. Your comments helped me to understand the issue and resolve it.<br />
<br />
I still cannot run parallel because I have an issue with MPI, appearently, but I will try to resolve that elsewhere.
</td>
		                    </tr>
		                                
		                    
		                    
		                </table>
		            </td>
        </tr> 
           
        <tr><td class="thread_sig" align="left" colspan="2"></td></tr>
        	
        </table>
<br />       <a name="post_1526"></a>       
        <table class="forum_posts" cellpadding="0" cellspacing="0" id="fullheight">
            <tr>
                <td width="100%" align="left" colspan="2" valign="top" class="mem_name" id="name_1526" nowrap>
                    <table width="100%" cellpadding="0" cellspacing="0">
                        <tr>
                            <td class="UserNameOptions" width="100%">
                                <ul id="UserNameOptions">
                                  <li>
                                    <div id="mem10" onmouseover="mcancelclosetime()" onmouseout="mclosetime()">
                                        
                                    </div>
                                  </li>
                                </ul>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td align="left" nowrap valign="top" width="20">
                    <table cellpadding="0" cellspacing="0" width="20">
                        <tr>
                            <td class="t_userinfo" width="20" nowrap>
                <!-- member_title --><div class="">Clicked A Few Times</div><!-- /member_title -->
                                
                            </td>
                        </tr>
                    </table>
                </td>
                        
            		<td align="left" width="100%" valign="top" id="fullheight">
		                <table width="100%" cellpadding="0" cellspacing="0" class="post1" height="75">
		                    <tr>
		                        <td class="post_date" valign="bottom" height="1px"  width="100%" colspan="2"  nowrap><a target="blank" href="../../sp/id1526.html">4:40:15 AM PDT - Thu, May 10th 2012 </a></td>
		                            <td class="post_date" valign="bottom" height="1px" width="100%" nowrap></td>

		                    </tr>
		                                     
		                    <tr>
		                        <td valign="top" class="post_body" height="65" colspan="2">For future reference:<br />
In the end was unable to run nwchem in parallel using the binary MPI for windows.<br />
Instead I had to download the source code, and kompile it myself. This was fairly easy once I knew which packages I neended for that in cygwin.<br />
Once that was in place and working I was able to kompile nwchem without any problems.<br />
I'm running the QA tests right now, will post the results later.
</td>
		                    </tr>
		                                
		                    
		                    
		                </table>
		            </td>
        </tr> 
           
        <tr><td class="thread_sig" align="left" colspan="2"></td></tr>
        	
        </table>
<br />       <a name="post_1540"></a>       
        <table class="forum_posts" cellpadding="0" cellspacing="0" id="fullheight">
            <tr>
                <td width="100%" align="left" colspan="2" valign="top" class="mem_name" id="name_1540" nowrap>
                    <table width="100%" cellpadding="0" cellspacing="0">
                        <tr>
                            <td class="UserNameOptions" width="100%">
                                <ul id="UserNameOptions">
                                  <li>
                                    <div id="mem11" onmouseover="mcancelclosetime()" onmouseout="mclosetime()">
                                        
                                    </div>
                                  </li>
                                </ul>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td align="left" nowrap valign="top" width="20">
                    <table cellpadding="0" cellspacing="0" width="20">
                        <tr>
                            <td class="t_userinfo" width="20" nowrap>
                <!-- member_title --><div class="">Clicked A Few Times</div><!-- /member_title -->
                                
                            </td>
                        </tr>
                    </table>
                </td>
                        
            		<td align="left" width="100%" valign="top" id="fullheight">
		                <table width="100%" cellpadding="0" cellspacing="0" class="post0" height="75">
		                    <tr>
		                        <td class="post_date" valign="bottom" height="1px"  width="100%" colspan="2"  nowrap><a target="blank" href="../../sp/id1540.html">8:09:12 AM PDT - Wed, May 16th 2012 </a></td>
		                            <td class="post_date" valign="bottom" height="1px" width="100%" nowrap></td>

		                    </tr>
		                    <tr><td valign="top" height="1px" colspan="2">QA<hr /></td></tr>                 
		                    <tr>
		                        <td valign="top" class="post_body" height="65" colspan="2">Quite a few of the testing jobs have failed:<br />
<br />

<pre>prop_h2o		gives -0 instead of 0, not really problamatic
dplot			pspw module crashes
oh2			should fail
sadsmall		y and z seem to be mirrored
pspw			pspw module crashes
pspw_SiC		pspw module crashes
pspw_md			pspw module crashes
paw			pspw module crashes
pspw_polarizability	pspw module crashes
pspw_stress		pspw module crashes
band			pspw module crashes
tce_cr_eom_t_ch_rohf	right numbers, but in different order
tce_cr_eom_t_ozone	crashes with segmentation violation
tce_active_ccsdt	crashes with segmentation violation
tce_lr_ccsd_tq		crashes with segmentation violation
tce_eomsd_eomsol1	crashes with segmentation violation
tce_eomsd_eomsol2	crashes with segmentation violation
tce_uracil_creomact	crashes with segmentation violation
i2_zora_so		no error, but different numbers
o2_zora_so		no error, but different numbers
lys_qmmm		no error, but different numbers
ethane_qmmm		no error, but slightly different numbers
qmmm_opt0		no error, but different numbers
prop_ch3f		z mirrored
ch3f_trans_cosmo	no error, but slightly different numbers
ch3f_trans_cam_nmr	no error, but slightly different numbers
acr_lcblyp		no error, but slightly different numbers
h2o-response		no error, but slightly different numbers
mep-test		no error, but slightly different numbers
k6h2o			crashes with unresolved atom types in fragment wat
mcscf_ch2		convergence failed
mcscf_ozone		no error, but different numbers
sif_sodft		no error, but slightly different numbers
tropt-ch3nh2		no error, but slightly different numbers
h3_dirdyvtst		crashes with child process terminated prematurely
geom_load_xyz		no such file or directory (xyz file not copied to scratch?)
h2o_hcons		no error, but slightly different numbers
etf_hcons		no error, but slightly different numbers
cnh5_m06-2x		test not there
bq_nio			convergence fails
ch3_m06-hf		test not there
dntmc_h2o_nh3		could not find verified output (???)
talc			pspw module crashes
aump2			crashes with segmentation violation
hess_nh3_dimer		no error, but slightly different numbers
pbo_nesc1e		no error, but slightly different numbers
oniom3			no error, but different numbers
cytosine_ccsd		crashes with segmentation violation
h2o_selci		no error, but slightly different numbers
tce_polar_ccsd_big	crashes with segmentation violation
hess_biph		crashes with segmentation violation</pre><br />
<br />
The pspw module causes a crash with no clear error message (something about MA_verify_allocator_stuff and D3dB_Vector_ISumAll popping stack).<br />
The tce module often crashes with a segmentation violation.<br />
I don't mind so much that these modules don't work, although I might be interested in the pspw module in the future.<br />
<br />
In the cases that I've written "slightly different numbers", I mean to say that the difference are so small that I don't think it matters.<br />
A couple of jobs give significantly different numbers though, and that worries me a bit: i2_zora_so, o2_zora_so, oniom3 for example. Any idea what could be wrong?
</td>
		                    </tr>
		                                
		                    <tr>
	<td class="edited_on" align="left" colspan="2">
	</td>
</tr>
		                    
		                </table>
		            </td>
        </tr> 
           
        <tr><td class="thread_sig" align="left" colspan="2"></td></tr>
        	
        </table>
<br />       <a name="post_1549"></a>       
        <table class="forum_posts" cellpadding="0" cellspacing="0" id="fullheight">
            <tr>
                <td width="100%" align="left" colspan="2" valign="top" class="mem_name" id="name_1549" nowrap>
                    <table width="100%" cellpadding="0" cellspacing="0">
                        <tr>
                            <td class="UserNameOptions" width="100%">
                                <ul id="UserNameOptions">
                                  <li>
                                    <div id="mem12" onmouseover="mcancelclosetime()" onmouseout="mclosetime()">
                                        
                                    </div>
                                  </li>
                                </ul>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td align="left" nowrap valign="top" width="20">
                    <table cellpadding="0" cellspacing="0" width="20">
                        <tr>
                            <td class="t_userinfo" width="20" nowrap>
                <!-- member_title --><div class="">Forum Vet</div><!-- /member_title -->
                                
                            </td>
                        </tr>
                    </table>
                </td>
                        
            		<td align="left" width="100%" valign="top" id="fullheight">
		                <table width="100%" cellpadding="0" cellspacing="0" class="post1" height="75">
		                    <tr>
		                        <td class="post_date" valign="bottom" height="1px"  width="100%" colspan="2"  nowrap><a target="blank" href="../../sp/id1549.html">5:15:02 PM PDT - Wed, May 16th 2012 </a></td>
		                            <td class="post_date" valign="bottom" height="1px" width="100%" nowrap></td>

		                    </tr>
		                                     
		                    <tr>
		                        <td valign="top" class="post_body" height="65" colspan="2">If you use the QA test scripts the comparisons will be made based on set tolerances. The following ones are fine:<br />

<pre><br />
</pre>
prop_h2o		                gives -0 instead of 0, not really problamatic<br />
oh2			                should fail<br />
sadsmall		                y and z seem to be mirrored<br />
tce_cr_eom_t_ch_rohf	right numbers, but in different order<br />
ethane_qmmm		        no error, but slightly different numbers<br />
prop_ch3f		                z mirrored<br />
ch3f_trans_cosmo    	no error, but slightly different numbers<br />
ch3f_trans_cam_nmr	no error, but slightly different numbers<br />
acr_lcblyp		                no error, but slightly different numbers<br />
h2o-response		        no error, but slightly different numbers<br />
mep-test		                no error, but slightly different numbers<br />
sif_sodft		                no error, but slightly different numbers<br />
tropt-ch3nh2		        no error, but slightly different numbers<br />
h2o_hcons		        no error, but slightly different numbers<br />
etf_hcons		                no error, but slightly different numbers<br />
h2o_selci		                no error, but slightly different numbers<br />
hess_nh3_dimer		no error, but slightly different numbers<br />
pbo_nesc1e		        no error, but slightly different numbers<br />
<br />
<br />
I need more information on the crashes for the ones below @ bert.dejong@pnnl.gov:<br />
<br />
dplot			        pspw module crashes<br />
pspw			        pspw module crashes<br />
pspw_SiC		                pspw module crashes<br />
pspw_md			        pspw module crashes<br />
paw			                pspw module crashes<br />
pspw_polarizability	        pspw module crashes<br />
pspw_stress		        pspw module crashes<br />
band			        pspw module crashes<br />
talc			                pspw module crashes<br />
<br />
The ones below suggest they may be running out of memory. How much memory do you have on the system, and how much memory per core?<br />
<br />
tce_cr_eom_t_ozone	crashes with segmentation violation<br />
tce_active_ccsdt	        crashes with segmentation violation<br />
tce_lr_ccsd_tq		        crashes with segmentation violation<br />
tce_eomsd_eomsol1	crashes with segmentation violation<br />
tce_eomsd_eomsol2	crashes with segmentation violation<br />
tce_uracil_creomact	        crashes with segmentation violation<br />
cytosine_ccsd		        crashes with segmentation violation<br />
tce_polar_ccsd_big	        crashes with segmentation violation<br />
hess_biph		        crashes with segmentation violation<br />
aump2			        crashes with segmentation violation<br />
<br />
Would need to see the output files you have for these to understand @ bert.dejong@pnnl.gov:<br />
<br />
i2_zora_so		        no error, but different numbers<br />
o2_zora_so		        no error, but different numbers<br />
lys_qmmm		        no error, but different numbers<br />
qmmm_opt0		        no error, but different numbers<br />
oniom3			        no error, but different numbers<br />
k6h2o			        crashes with unresolved atom types in fragment wat<br />
mcscf_ch2		        convergence failed<br />
mcscf_ozone		        no error, but different numbers<br />
h3_dirdyvtst		        crashes with child process terminated prematurely<br />
bq_nio			        convergence fails<br />
<br />
You found some errors in the naming of files in our test suite for the cases below. We'll have these fixed:<br />
<br />
cnh5_m06-2x		        test not there<br />
ch3_m06-hf		        test not there<br />
dntmc_h2o_nh3		could not find verified output (???)<br />
geom_load_xyz		no such file or directory (xyz file not copied to scratch?)<br />
<br />
Bert<br />
<br />
<br />
<br />
<br />
<div class='quote_title'>Quote:Ivo <a target='blank' href="../../sp/id1540.html" title="Special_AWCforum/sp/id1540">May 16th 3:09 pm</a><div class='quote'>Quite a few of the testing jobs have failed:<br />
<br />

<pre>prop_h2o		gives -0 instead of 0, not really problamatic
dplot			pspw module crashes
oh2			should fail
sadsmall		y and z seem to be mirrored
pspw			pspw module crashes
pspw_SiC		pspw module crashes
pspw_md			pspw module crashes
paw			pspw module crashes
pspw_polarizability	pspw module crashes
pspw_stress		pspw module crashes
band			pspw module crashes
tce_cr_eom_t_ch_rohf	right numbers, but in different order
tce_cr_eom_t_ozone	crashes with segmentation violation
tce_active_ccsdt	crashes with segmentation violation
tce_lr_ccsd_tq		crashes with segmentation violation
tce_eomsd_eomsol1	crashes with segmentation violation
tce_eomsd_eomsol2	crashes with segmentation violation
tce_uracil_creomact	crashes with segmentation violation
i2_zora_so		no error, but different numbers
o2_zora_so		no error, but different numbers
lys_qmmm		no error, but different numbers
ethane_qmmm		no error, but slightly different numbers
qmmm_opt0		no error, but different numbers
prop_ch3f		z mirrored
ch3f_trans_cosmo	no error, but slightly different numbers
ch3f_trans_cam_nmr	no error, but slightly different numbers
acr_lcblyp		no error, but slightly different numbers
h2o-response		no error, but slightly different numbers
mep-test		no error, but slightly different numbers
k6h2o			crashes with unresolved atom types in fragment wat
mcscf_ch2		convergence failed
mcscf_ozone		no error, but different numbers
sif_sodft		no error, but slightly different numbers
tropt-ch3nh2		no error, but slightly different numbers
h3_dirdyvtst		crashes with child process terminated prematurely
geom_load_xyz		no such file or directory (xyz file not copied to scratch?)
h2o_hcons		no error, but slightly different numbers
etf_hcons		no error, but slightly different numbers
cnh5_m06-2x		test not there
bq_nio			convergence fails
ch3_m06-hf		test not there
dntmc_h2o_nh3		could not find verified output (???)
talc			pspw module crashes
aump2			crashes with segmentation violation
hess_nh3_dimer		no error, but slightly different numbers
pbo_nesc1e		no error, but slightly different numbers
oniom3			no error, but different numbers
cytosine_ccsd		crashes with segmentation violation
h2o_selci		no error, but slightly different numbers
tce_polar_ccsd_big	crashes with segmentation violation
hess_biph		crashes with segmentation violation</pre><br />
<br />
The pspw module causes a crash with no clear error message (something about MA_verify_allocator_stuff and D3dB_Vector_ISumAll popping stack).<br />
The tce module often crashes with a segmentation violation.<br />
I don't mind so much that these modules don't work, although I might be interested in the pspw module in the future.<br />
<br />
In the cases that I've written "slightly different numbers", I mean to say that the difference are so small that I don't think it matters.<br />
A couple of jobs give significantly different numbers though, and that worries me a bit: i2_zora_so, o2_zora_so, oniom3 for example. Any idea what could be wrong?</div id="quote"></div id="quote">
</td>
		                    </tr>
		                                
		                    
		                    
		                </table>
		            </td>
        </tr> 
           
        <tr><td class="thread_sig" align="left" colspan="2"></td></tr>
        	
        </table>
<br /><br />
<table width="100%" cellpadding="0" cellspacing="0" class="bot_breadcrumbs_and_pagejump">
	<tr>
		<td width="100%" class="bot_breadcrumbs"><a href="../../index.html">Forum</a> &gt;&gt; <a href="../../sc/id2.html">NWChem's corner</a> &gt;&gt; <a href="../../sf/id4.html">Compiling NWChem</a></td>
	</tr>
	<tr>
		<td width="100%" class="bot_pagejumps"></td>
	</tr>
</table>
<br /><br />      <br />
</body> 
</html> 
