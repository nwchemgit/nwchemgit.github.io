<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
	
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta name="generator" content="MediaWiki 1.16.4" />
<meta name="keywords" content="NWChem (development version) on KNL+Infiniband Viewed 1333 times, With a total of 1 Posts" />
<!--[if lt IE 5.5000]><link rel="stylesheet" href="/skins/gumax/IE50Fixes.css?270" media="screen" /><![endif]-->
<!--[if IE 5.5000]><link rel="stylesheet" href="/skins/gumax/IE55Fixes.css?270" media="screen" /><![endif]-->
<!--[if IE 6]><link rel="stylesheet" href="/skins/gumax/IE60Fixes.css?270" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="/skins/gumax/IE70Fixes.css?270" media="screen" /><![endif]-->
		<!--[if lt IE 7]><script type="text/javascript" src="/skins/common/IEFixes.js?270"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->

		<script>
var skin="gumax",
stylepath="/skins",
wgUrlProtocols="http.html\\:\\/\\/|https\\:\\/\\/|ftp\\:\\/\\/|irc\\:\\/\\/|gopher\\:\\/\\/|telnet\\:\\/\\/|nntp\\:\\/\\/|worldwind\\:\\/\\/|mailto\\:|news\\:|svn\\:\\/\\/",
wgArticlePath="/index.php/$1",
wgScriptPath="",
wgScriptExtension=".php",
wgVariantArticlePath=false,
wgActionPaths={},
wgCanonicalNamespace="Special",
wgCanonicalSpecialPageName="AWCforum",
wgNamespaceNumber=-1,
wgPageName="Special:AWCforum",
wgTitle="AWCforum",
wgAction="view",
wgArticleId=0,
wgIsArticle=true,
wgUserName=null,
wgUserGroups=null,
wgUserLanguage="en",
wgContentLanguage="en",
wgBreakFrames=true,
wgCurRevisionId=0,
wgVersion="1.16.4",
wgEnableAPI=true,
wgEnableWriteAPI=true,
wgSeparatorTransformTable=["", ""],
wgDigitTransformTable=["", ""],
wgMainPageTitle="Main Page",
wgFormattedNamespaces={"-2": "Media", "-1": "Special", "0": "", "1": "Talk", "2": "User", "3": "User talk", "4": "NWChem", "5": "NWChem talk", "6": "File", "7": "File talk", "8": "MediaWiki", "9": "MediaWiki talk", "10": "Template", "11": "Template talk", "12": "Help", "13": "Help talk", "14": "Category", "15": "Category talk", "500": "Release-60", "501": "Release-60 talk", "502": "Release61", "503": "Release61 talk", "504": "Release62", "505": "Release62 talk", "506": "Release64", "507": "Release64 talk", "508": "Release65", "509": "Release65 talk", "510": "Development", "511": "Development talk", "512": "Release66", "513": "Release66 talk", "121707": "Forum"},
wgNamespaceIds={"media": -2, "special": -1, "": 0, "talk": 1, "user": 2, "user_talk": 3, "nwchem": 4, "nwchem_talk": 5, "file": 6, "file_talk": 7, "mediawiki": 8, "mediawiki_talk": 9, "template": 10, "template_talk": 11, "help": 12, "help_talk": 13, "category": 14, "category_talk": 15, "release-60": 500, "release-60_talk": 501, "release61": 502, "release61_talk": 503, "release62": 504, "release62_talk": 505, "release64": 506, "release64_talk": 507, "release65": 508, "release65_talk": 509, "development": 510, "development_talk": 511, "release66": 512, "release66_talk": 513, "forum": 121707, "ns_reldoc64": "NS_RELDOC65", "ns_reldoc64_talk": "NS_RELDOC65_TALK", "image": 6, "image_talk": 7},
wgSiteName="NWChem",
wgCategories=[],
wgRestrictionEdit=[],
wgRestrictionMove=[];
</script>
		<!-- Head Scripts -->
<style type="text/css">
#bodyContent a[href ^="http://"] {
background: none;
    padding-right: 0px;
}

#bodyContent a.external {
background: none;
	padding-right: 0px;
}

#p-cactions li a {
text-transform: capitalize;
}

#contentSub {
margin: 0;
padding: 2px;
padding-bottom: 6px;
}

pre {
margin:0px; 
    padding:5px;
    padding-bottom:20px;  
    
    width: 600px;
    overflow:auto;
    overflow-y: visible;
    line-height: 100%;
}

.top_user_links {
margin: 0;
    padding: 0;
    border-bottom: 1px solid #aaa;
    text-align: right;
}

#TopMenuLinksHolder li a:hover {

}

#TopMenuLinksHolder li a {

}

#TopMenuLinksHolder li {
margin-top: 4px;   
    margin-left: 4px;
    margin-bottom: 0px;
    
    padding: 3px;
    
    list-style: none;
    float: right;
    display: block;
    
    width: auto;
    white-space: nowrap;
    
    border: 1px solid #aaa;
    border-bottom: 0px;
    
    color: #000;
    text-decoration: none;
    font: 11px Verdana;
    text-align: left;
    z-index: 3;
}

#TopMenuLinksHolder a:visited {

}

#TopMenuLinksHolder div a:hover {
background: #FFF;
    color: #000;
}

#TopMenuLinksHolder div a {
position: relative;
        display: block;
        margin: 0;
        padding: 5px;
        width: auto;
        white-space: nowrap;
        text-align: left;
        text-decoration: none;
        font: 11px arial;
}

#TopMenuLinksHolder div {
position: absolute;
    visibility: hidden;
    margin: 0;
    padding: 0;
    background: #DDDDDD;
    border: 1px solid #AAAAAA;
}

#TopMenuLinksHolder {
margin: 0;
    padding: 0;
    z-index: 3;
}

.UserNameOptions {

}

#UserNameOptions a:visited {

}

#UserNameOptions li a:hover {

}

#UserNameOptions li a {
font: 11px Verdana;
}

#UserNameOptions li {
list-style: none;
    display: block;
    white-space: nowrap;
    border: 0px;
    color: #000;
    text-align: left;
    text-decoration: none;
}

#UserNameOptions div a:hover {
color: #FFF;
}

#UserNameOptions div a {
position: relative;
        display: block;
        margin: 0;
        padding: 5px;
        
        width: 500px;
        
        white-space: nowrap; 
        text-align: left;
        text-decoration: none;
        font: 11px arial;
}

#UserNameOptions div {
position: absolute;
    display: block;
    visibility: hidden;
    margin: 0;
    padding: 5px;
    background: #DDDDDD;
    border: 1px solid #AAAAAA;
    white-space: nowrap; 
    font: 12px arial;
    line-height: 100%;
}

#UserNameOptions {
margin: 0;
    padding: 0;
    z-index: 2;
}

.group_text {
font-size: 84%;
    width: auto;
    padding: 0px;
}

.edited_on {
border-top: 1px solid #aaa;
    margin: 0px;
    margin-bottom: 0px;
    padding-left: 5px;
    font-size: 12px;
}

.post_title {

}

.post_date {
border-bottom: 1px solid #aaa;
    font-size: 90%;
    padding-left: 2px;
}

.post_td {
background-color: #f9f9f9;
    border-left: 1px solid #aaa;
    margin: .0em;
    padding: .0em;
}

.post_body {
padding: .5em;
    padding-top: 0px;
}

.post0 {
background-color: #E5E5E5;
    border-left: 1px solid #aaa;
    padding: .0em;
}

.post1 {
background-color: #f9f9f9;
    border-left: 1px solid #aaa;
    padding-bottom: .0em;
}

.post_footer {
/* post, quote, edit buttons */
    margin: 0;
    padding: .7em;
    padding-bottom: 0em;
}

.post_box {
margin-top: 5px;
    margin-left: 5px;
    margin-right: 2px;
    width: auto;
}

.mem_name {
border-bottom: 1px solid #aaa;
    margin: 0;
    padding: .4em;
}

.adv {
border: 0px;
    margin: 0em;
    padding: 0em;
}

.thread_sig {
border-top: 2px solid #aaa;
    margin: 3px;
    padding-left: 5px;
}

#subscribe_menu {
position: absolute;
    background: #ccc ;
    border: 1px solid #aaa;
    border-top: 0px;
    margin: 0em;
    padding: 5px;
    padding-top: 0px;
    top:auto;
    right:65px;
    z-index: 2;
}

.drop_down_buttons:hover {
background: #ccc ;
}

.drop_down_buttons {
margin: 0em;
    white-space: nowrap;
    border-bottom: 1px solid #aaa;
    border-top: 0px;
    padding: 5px;
    color: #000;
    text-align: center;
    background: #fff ;
}

.mod_menu_row {
text-align: left;
}

.post_buttons:hover {
background: #fff ;
}

.post_buttons {
white-space: nowrap;
    float: right;
    margin-top: .5em;
    margin-right: 5px;
    border: 1px solid #aaa;
    border-bottom: 0em;
    padding-left: 5px;
    padding-right: 5px;
    padding-bottom: 0px;
    color: #000;
}

.quote_title {
border: 1px dashed #aaa;
	padding: 5px;
	background-color: #f9f9f9;
	font-family:"Courier New", Courier, mono;
}

.quote {
border-top: 1px solid #000;
	background-color: #fff;
	padding: 10px;
	font-size: 95%;
}

.user_options_row {
border: 1px solid #aaa;
    background: #fff ;
    padding: .3em;
}

.t_userinfo {
white-space:nowrap;
    text-align: left;
    margin: 0;
    padding: .7em;
    padding-bottom: 0em;
}

.ThreadOtions {
margin: 0;
    padding: 0;
    text-align: right;
}

#ThreadOtions a:visited {

}

#ThreadOtions li a:hover {

}

#ThreadOtions li a {
border: 1px solid #aaa;
    border-bottom: 0em;
    padding: 4px;
}

#ThreadOtions li {
list-style: none;
    display: block;
    white-space: nowrap;
    
    border: 0px;
    color: #000;
    
    text-decoration: none;
    z-index: 3;
}

#ThreadOtions div a:hover {
background: #FFF;
    color: #000;
}

#ThreadOtions div a {
position: relative;
        display: block;
        margin: 0;
        padding: 2px;
        border: 0em;
        
        white-space: nowrap; 
        text-align: left;
        text-decoration: none;
        font: 11px arial;
}

#ThreadOtions div {
position: absolute; 
    right: 50px;
    visibility: hidden;
    margin: 0;
    padding: 5px;
    background: #DDDDDD;
    border: 1px solid #AAAAAA;
    white-space: nowrap; 
    text-align: left;
}

#ThreadOtions {
margin-top: 3px;
    padding: 0;
    z-index: 3;
}

.forum_posts {
border: 1px solid #aaa;
    margin: 0em;
    padding: 0em;
    width: 100%;

 width: 100%;
}

.post {
background-color: #f9f9f9;
    border-left: 1px solid #aaa;
    padding: .0em;
}

#search_box {
white-space:nowrap;
    text-align: right; 
    margin: .0em;
    padding: 0px;
}

.search_box {
float: right;
    font-size: 97%;
    margin: .0em;
    color: #000;
    background: #fff;
    border: 1px solid #000;
    margin-left: 5px;
    padding: 0px;
}

.highlightsearchword {
color: #FF0000;
}

.poll_display_table {
border: 1px solid #aaa;
    
    padding: 1px;
}

.poll_displayheader {
border-bottom: 1px dashed #aaa;
    padding: 4px;
    background-color: #DDDDDD;
    font-family:"Courier New", Courier, mono;
}

.poll_display_row {
border-bottom: 1px solid #aaa;
    background-color: #f9f9f9;
    padding: 2px;
}

.poll_display_vote_total {
border-top: 1px solid #aaa;
    padding: 4px;
    background-color: #DDDDDD;
    font-family:"Courier New", Courier, mono;
}

.poll_display_vote_numbers_header {
border: 1px solid #aaa;
border-bottom: 0;
}

.poll_display_vote_percent_header {
border-top: 1px solid #aaa;
    padding: 1px;
}

.poll_display_vote_option_header {
border: 1px solid #aaa;
    border-bottom: 0;
    padding: 1px;
}

.poll_display_vote_numbers {
border: 1px solid #aaa;
    border-bottom: 0;
    padding: 1px;
}

.poll_display_vote_percent {
border-top: 1px solid #aaa;
    padding: 1px;
}

.poll_display_vote_option {
border: 1px solid #aaa;
    border-bottom: 0;
    padding: 1px;
}

.poll_percent_color_op10 {
background-color: #7FFF00;
}

.poll_percent_color_op1 {
background-color: #CD5555;
}

.poll_percent_color_op2 {
background-color: #5CACEE;
}

.poll_percent_color_op3 {
background-color: #FFCC11;
}

.poll_percent_color_op4 {
background-color: #668014;
}

.poll_percent_color_op5 {
background-color: #A0522D;
}

.poll_percent_color_op6 {
background-color: #9F79EE;
}

.poll_percent_color_op7 {
background-color: #EE00EE;
}

.poll_percent_color_op8 {
background-color: #DC143C;
}

.poll_percent_color_op9 {
background-color: #551011;
}

.page_jumps_top:hover {
background: #ccc ;
}

.page_jumps_top {
white-space: nowrap;
    display: inline;
    
    margin: 0px; 
    margin-right: 2px;
    
    border: 1px solid #aaa;
    border-bottom: 0px;
    
    padding-left: 5px;
    padding-right: 5px;
    padding-bottom: 4px;
    
    color: #000;
}

.page_jumps_bot:hover {
background: #ccc ;
}

.page_jumps_bot {
border: 1px solid #aaa;
    border-top: 0px;
    padding-top: 2px;
    margin-left: 2px;
    font-size: 100%;
    padding-left: 5px;
    padding-right: 5px;
    padding-bottom: 2px;
}

.main_memtable {
border: 1px solid #aaa;
}

.main_leftmenu {
border-right: 1px solid #aaa;
     background-color: #f9f9f9;
     width: 175px;
}

.leftmenuheaders {
border: 1px dashed #aaa;
    padding: 2px;
    font-family:"Courier New", Courier, mono;
}

.leftmenu {
background-color: #f9f9f9;
}

.right_body {
padding: 2px;
}

.mem_pm_table {
border: 1px solid #aaa;
    padding: 2px;
    margin: 7px;
}

.pm_header_new {
background-color: #aaa;
    border: 1px solid #000;
    padding: 2px;
    width:5%;
}

.pm_header_title {
background-color: #aaa;
    border: 1px solid #000;
    padding: 2px;
    width:85%;
}

.pm_header_sender {
background-color: #aaa;
    border: 1px solid #000;
    padding: 2px;
    width:5%;
}

.pm_header_date {
background-color: #aaa;
    border: 1px solid #000;
    padding: 2px;
    width:5%;
}

.pm_row {
background-color: #f9f9f9;
    border: 1px solid #000;
    padding: 3px;
}

#cat_list_lastaction_user {
font-size: 90%;
    color: #7d7d7d;
    text-align: right;
    margin-right: 10px;
    line-height: 100%;
}

#cat_list_lastaction_date {
font-size: 90%;
    color: #7d7d7d;
    text-align: right;
    margin-right: 10px;
    line-height: 105%;
}

#cat_list_lastaction_title {
font-size: 90%;
    color: #7d7d7d;
    text-align: right;
    margin-right: 10px;
    line-height: 105%;
}

#small_desc {
font-size: 84%;
    color: #7d7d7d;
	margin-left: 10px;
    width: auto;
}

#cat_forumdisc {
font-size: 84%;
    color: #7d7d7d;
    margin-left: 10px;
    width: auto;
}

.cat_forumrows {
border: 1px solid #aaa;
    background-color: #f9f9f9;
    padding: 5px;
    font-size: 95%;
}

.thread_col_head {
border: 1px solid #aaa;
    margin: 0px;
    padding: 5px;
    white-space: nowrap;
}

.bread_crumbs {
border-bottom: 1px solid #aaa;
    border-top: 0px;
    padding: 2px;
    text-align: left;
}

.dl_maintable_head {
border-right: 1px solid #aaa;
    border-bottom: 1px solid #aaa;
    background-color: #fff;
    padding: 2px;
}

.dl_maintable {
border: 1px solid #aaa;
    margin: 1px;
    padding: 1px;
}

.right_float {
float: right;
	margin-top: 8px;
	padding-left: 5px;
	padding-right: 5px;
	margin-right: 10px;
	margin-left: 10px;
}

.right {
float: right;
	padding-left: 5px;
	padding-right: 5px;
	margin-right: 10px;
	margin-left: 10px;
}

.spacer {
background-color: #aaa;
}

.whos_here_header {
border-bottom: 1px dashed #aaa;
            padding: 4px;
            font-family:"Courier New", Courier, mono;
}

.whos_here_row {
border-bottom: 1px solid #aaa;
            background-color: #f9f9f9;
            padding: 2px;
}

.whos_here {
border: 1px solid #aaa;
            border-bottom: 0;
}

.nothing {
font-size: 0%;
            margin: .0em;
            border: 0;
            margin: 0;
            padding: 0;
            width: 0;
}

.forum_stats {
border: 1px solid #aaa;
            border-bottom: 0;
}

.forum_stats_leftcol {
border-bottom: 1px solid #aaa;
                background-color: #f9f9f9;
                padding: 2px;
}

.forum_stats_rightcol {
background-color: #f9f9f9;
                border-bottom: 1px solid #aaa;
                padding: 2px;
}

.forum_stats_header {
border-bottom: 1px dashed #aaa;
                padding: 4px;
                font-family:"Courier New", Courier, mono;
}

.thread_rows0 {
background-color: #E5E5E5;
    border: 1px solid #aaa;
    border-top: 0px ;
    padding: 2px;
    font-size: 95%;
}

.thread_rows1 {
background-color: #f3f3f3;
    border: 1px solid #aaa;
    border-top: 0px ;
    padding: 2px;
    font-size: 95%;
}

.thread_rows {
background-color: #f9f9f9;
    border: 1px solid #aaa;
    border-top: 0px ;
    padding: 2px;
    font-size: 95%;
}

#annc {
border: 1px solid #000;
	background-color: red;
	padding: 0px;
}

.sticky {
font-style: italic;
    border: 1px solid #aaa;
    border-top: 0px;
    background-color:  #ffa; /* #ffa; e2ffe2 */
    padding: 2px;
    font-size: 95%;
}

.thread_lastaction {
font-size: 84%;
    text-align: right;
    white-space: nowrap;
    display: inline;
}

.pagejumps_PostOnForumPage:hover {
background: #ccc ;
}

.pagejumps_PostOnForumPage {
border: 1px solid #aaa;
    margin-left: 3px;
    font-size: 100%;
    padding-left: 3px;
    padding-right: 3px;
    padding-bottom: 0px;
}

.new_thread_button:hover {
background: #ccc ;
}

.new_thread_button {
white-space: nowrap;
    float: right;
    display: inline; /*fixes IE float bug*/
    margin-top: 0px; 
    margin-bottom: 0px; 
    margin-left: 10px;
   /* margin-left: -4px; */
    border: 1px solid #aaa;
    border-bottom: 0px;
    padding-left: 5px;
    padding-right: 5px;
    padding-bottom: 3px;
    text-align: left; /* 2.4.1 */
    color: #000;
}

#row_info td {
border: 1px solid #aaa;
	border-top: 0px;
	background-color: #f9f9f9;
	padding: 5px;
	font-size: 95%;
}

.page_jumps_holder_thread_bot {
border-bottom: 1px solid #aaa;
}

.page_jumps_holderBot {

}

.poll_thread_listing {
border: 1px solid #aaa;
    border-top: 0px;
    background-color:  #FFCC00;
    padding: 2px;
    font-size: 95%;
}

.locked_thread {
font-style: italic;
    border: 1px solid #aaa;
    border-top: 0px;
    background-color:  #e2ffe2; /* #ffa; e2ffe2 */
    padding: 2px;
    font-size: 95%;
}

#ajax_pmname {
text-align: left;
}

#ajax_pmname ul {
list-style: none;
margin: 0;
}

#ajax_pmname li {
padding: 2px 5px;
	white-space: nowrap;
	text-align: left;
}

#ajax_pmname li:hover {
background: #f9f9f9;
	margin-left: .1em;
	text-decoration: underline;
}

#ajax_pmname li {
padding: 2px 5px;
	white-space: nowrap;
	text-align: left;
}

#ajax_pmname li {
padding: 2px 5px;
	white-space: nowrap;
	text-align: left;
}

#ajax_pmname li {
padding: 2px 5px;
	white-space: nowrap;
	text-align: left;
}

</style>


		<!-- gumax customized style -->

					<style type="text/css">
				#gumax-content-actions li#ca-talk,
				#gumax-content-actions li#ca-history,
				#gumax-content-actions li#ca-edit,
				#gumax-personal-tools
				{ display: none; }
			</style>
		
		<!--[if lt IE 7]>
			<script type="text/javascript" src="/skins/gumax/js/ieunitpngfix-tag.js"></script>
		<![endif]-->

		<!-- end of gumax customized style -->
</head>


<body class="mediawiki ltr ns--1 ns-special page-Special_AWCforum_st_id2405_NWChem_development_version_on_html skin-gumax">

	</div>
	<!-- ///// end of gumax-header ///// -->



		<!-- gumax-content-body -->
		<div id="gumax-column-content">
	<div id="content">
		<a name="top" id="top"></a>
				<h1 id="firstHeading" class="firstHeading gumax-firstHeading" >NWChem (development version) on KNL+Infiniband</h1>
	</tr>
</table>
<br />    <table width="100%" cellpadding="0" cellspacing="0">
        <tr>
            <td width="65%" align="left" nowrap="nowrap"></td>                                         
            <td width="35%" class='ThreadOtions' nowrap></td>    
        </tr>
    </table>       <a name="post_8375"></a>       
        <table class="forum_posts" cellpadding="0" cellspacing="0" id="fullheight">
            <tr>
                <td width="100%" align="left" colspan="2" valign="top" class="mem_name" id="name_8375" nowrap>
                    <table width="100%" cellpadding="0" cellspacing="0">
                        <tr>
                            <td class="UserNameOptions" width="100%">
                                <ul id="UserNameOptions">
                                  <li>
                                    <div id="mem1" onmouseover="mcancelclosetime()" onmouseout="mclosetime()">
                                        
                                    </div>
                                  </li>
                                </ul>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td align="left" nowrap valign="top" width="20">
                    <table cellpadding="0" cellspacing="0" width="20">
                        <tr>
                            <td class="t_userinfo" width="20" nowrap>
                <!-- member_title --><div class="">Clicked A Few Times</div><!-- /member_title -->
                                
                            </td>
                        </tr>
                    </table>
                </td>
                        
            		<td align="left" width="100%" valign="top" id="fullheight">
		                <table width="100%" cellpadding="0" cellspacing="0" class="post0" height="75">
		                    <tr>
		                        <td class="post_date" valign="bottom" height="1px"  width="100%" colspan="2"  nowrap><a target="blank" href="../../sp/id8375.html">6:35:20 PM PDT - Fri, Aug 18th 2017 </a></td>
		                            <td class="post_date" valign="bottom" height="1px" width="100%" nowrap></td>

		                    </tr>
		                                     
		                    <tr>
		                        <td valign="top" class="post_body" height="65" colspan="2">Hi,<br />
<br />
I just downloaded the latest copy of the development copy of NWChem yesterday (17 Aug 2017), and able to build the code on our socket based KNL system, which is interconnected with Mellanox EDR IB, using the Intel compilers (v.17 update 4), MKL and Intel MPI after some modification of the code of /home/users/astar/ihpc/chiensh/nwchem/src/nwpw/pspw/lib/psp/psp.F (which should not be related to error that I am going to report here, and I have reported the need of this modification previously in a different threads "SCF Performance for Different ARMCI Network on Socket-based KNL Cluster" on April) <br />
<br />
I attempted to evaluate the performance of single point calculation at the level of CCSD(T)/cc-pvqz for a (H2O)8 (D2d, but set to C1 in the calculation) using 80 nodes (each has 192GB memory: 16MPI tasks on each node, and each MPI task has 4 OMP threads). I would like to evaluate the difference and resource requirement, as well as the cpu time difference for direct and TCE calculations. <br />
<br />
However, I got error messages and the job crashed; for direct CCSD(T) calculation, I got these error messages:<br />

<pre>Parallel integral file used  937379 records with       0 large values<br />
<br />
257: WARNING:armci_set_mem_offset: offset changed 0 to 268435456<br />
258: WARNING:armci_set_mem_offset: offset changed 0 to 268435456<br />
260: WARNING:armci_set_mem_offset: offset changed 0 to 268435456<br />
...<br />
1213: WARNING:armci_set_mem_offset: offset changed 0 to 268435456<br />
1214: WARNING:armci_set_mem_offset: offset changed 0 to 268435456<br />
Not enough mem for st2. Increase MA by       550<br />
MB<br />
Not Enough Memory to keep ST2 in local<br />
memory - expect network congestion.<br />
mlx5: r1i0n12: got completion with error:<br />
00000000 00000000 00000000 00000000<br />
00000000 00000000 00000000 00000000<br />
000000f8 00000000 00000000 00000000<br />
00000000 9d003304 100034ac 49af7bd3<br />
112: error ival=4<br />
(rank:112 hostname:r1i0n12 pid:88063):ARMCI DASSERT fail. ../../ga-<br />
5.6.1/armci/src/devices/openib/openib.c:armci_call_data_server():2209 cond:(pdscr-&gt;status==IBV_WC_SUCCESS) application called MPI_Abort(comm=0x84000007, 1) - process 112<br />
</pre>
<br />
For TCE cases, the job crashed with different error messages:<br />

<pre> Fock matrix recomputed<br />
1-e file size   =           831744<br />
1-e file name   = ./rubbish.w8.f1int.000000<br />
Cpu &amp; wall time / sec           48.2           28.0<br />
4-electron integrals stored in orbital form<br />
610: WARNING:armci_set_mem_offset: offset changed 0 to 280342528<br />
611: WARNING:armci_set_mem_offset: offset changed 0 to 280342528<br />
...<br />
433: WARNING:armci_set_mem_offset: offset changed 0 to 268435456<br />
434: WARNING:armci_set_mem_offset: offset changed 0 to 268435456<br />
<br />
v2    file size   =      93246499391<br />
4-index algorithm nr.  15 is used<br />
imaxsize =       40<br />
imaxsize ichop =        0<br />
starting step 1 at               317.43 secs<br />
0:CreateSharedRegion:kr_malloc failed KB=: -1125173<br />
(rank:0 hostname:r1i1n1 pid:169724):ARMCI DASSERT fail. ../../ga-<br />
5.6.1/armci/src/memory/shmem.c:Create_Shared_Region():1209 cond:0<br />
Last System Error Message from Task 0:: No such file or directory<br />
912:CreateSharedRegion:kr_malloc failed KB=: -1566421<br />
(rank:912 hostname:r1i1n31 pid:49985):ARMCI DASSERT fail. ../../ga-<br />
5.6.1/armci/src/memory/shmem.c:Create_Shared_Region():1209 cond:0<br />
736:CreateSharedRegion:kr_malloc failed KB=: -1566421<br />
</pre>
<br />
<br />
Additional Notes: <br />

<pre>1)All compilation settings, inputs and output will be given in the bottom of the message<br />
2) OpenIB is used for ARMCI_NETWORK here <br />
3) I also build ARMCI_NETWORK = MPIPR and MPI3, but each of these build has some problems<br />
4) For MPIPR build, it can finish both direct and TCE calculations, but the (T) correlation energies <br />
    seems to be different in my previous build of development copy obtained on April, I am going to <br />
    verify if this is the case in this copy<br />
5) For MPI3 build, the job will hang right after printing the basis set information<br />
6) For OPENIB build, in additional to the error I am going to report here, GA seems to be unable to <br />
    map the process based on Intel MPI and PBS Pro's mechanism (i.e. mpirun -np 1280 -ppn 16 will<br />
    not works;  I have to assigned the number of tasks on each node in a hostfile)<br />
</pre>
<br />
<br />
Here is the input for both calculations, the memory is sufficient to complete the job for the build using ARMCI_NETWORK=mpipr <br />

<pre>echo<br />
start rubbish.w8<br />
#scratch_dir    /dev/shm/chiensh<br />
#permanent_dir  /home/users/astar/ihpc/chiensh/nwtest<br />
memory stack  3000 mb heap 500 mb global 8000 mb noverify<br />
#print medium "task time" "ga stats" "ma stats" "version" "rtdbvalues"<br />
geometry units angstrom noautoz noprint<br />
#---------------<br />
#Octamer *** D2d<br />
#---------------<br />
O      -1.46966769     1.46966769     1.34326600<br />
O       1.46966769    -1.46966769     1.34326600<br />
O       1.46966769     1.46966769    -1.34326600<br />
O      -1.46966769    -1.46966769    -1.34326600<br />
O      -1.36565412     1.36565412    -1.32090835<br />
O       1.36565412    -1.36565412    -1.32090835<br />
O       1.36565412     1.36565412     1.32090835<br />
O      -1.36565412    -1.36565412     1.32090835<br />
H      -2.10464162     2.10464162     1.68605609<br />
H       2.10464162    -2.10464162     1.68605609<br />
H       2.10464162     2.10464162    -1.68605609<br />
H      -2.10464162    -2.10464162    -1.68605609<br />
H      -1.52398844     1.52398844      .35383543<br />
H       1.52398844    -1.52398844      .35383543<br />
H       1.52398844     1.52398844     -.35383543<br />
H      -1.52398844    -1.52398844     -.35383543<br />
H       1.51043211      .42340972     1.51629003<br />
H      -1.51043211     -.42340972     1.51629003<br />
H        .42340972    -1.51043211    -1.51629003<br />
H       -.42340972     1.51043211    -1.51629003<br />
H      -1.51043211      .42340972    -1.51629003<br />
H       1.51043211     -.42340972    -1.51629003<br />
H       -.42340972    -1.51043211     1.51629003<br />
H        .42340972     1.51043211     1.51629003<br />
symmetry group c1<br />
end<br />
<br />
basis "ao basis" spherical noprint<br />
  * library cc-pvqz<br />
end<br />
<br />
scf<br />
#  vectors input  w8.movecs<br />
#  semidirect memsize 100000000 filesize 0<br />
  singlet<br />
  rhf<br />
  thresh 1e-7<br />
  tol2e 1e-14<br />
end<br />
<br />
#ccsd<br />
#diisbas 2<br />
#thresh 1e-4<br />
#MAXITER 50<br />
#freeze atomic<br />
#nodisk<br />
#end<br />
<br />
#set ccsd:use_trpdrv_nb T<br />
#set ccsd:use_ccsd_omp T<br />
#set ccsd:use_trpdrv_omp T<br />
<br />
#task ccsd(t) energy<br />
<br />
tce<br />
freeze atomic<br />
ccsd(t)<br />
thresh 1e-4<br />
io ga<br />
attilesize 40<br />
tilesize 35<br />
2EORB<br />
2EMET  15<br />
#split 8<br />
<br />
print very<br />
end<br />
<br />
set tce:nts T<br />
set tce:tceiop 1024<br />
set tce:writeint T<br />
set tce:writet T<br />
set tce:xmem 100<br />
task tce energy<br />
</pre>
<br />
<br />
Here is the variables I used to build NWChem<br />

<pre>module load  intel/17.0.4.196<br />
export NWCHEM_TOP=/home/users/astar/ihpc/chiensh/nwchem-29377<br />
export NWCHEM_TARGET=LINUX64<br />
export ARMCI_NETWORK=OPENIB<br />
export USE_MPI=y<br />
export USE_MPIF=y<br />
export USE_MPIF4=y<br />
export LARGE_FILES=TRUE<br />
export ENABLE_COMPONENT=yes<br />
export USE_OPENMP=y<br />
export LIB_DEFINES=" -DDFLT_TOT_MEM=391422080"<br />
export DISABLE_GAMIRROR=y<br />
#export USE_GAGITHUB=y<br />
export USE_GAGITHUB=n<br />
export USE_KNL=T<br />
export USE_F90_ALLOCATABLE=T<br />
<br />
export BLAS_SIZE=8<br />
export BLASOPT="-L${MKLROOT}/lib/intel64 -lmkl_intel_ilp64 -lmkl_intel_thread -lmkl_core  -liomp5 -lpthread -ldl"<br />
export LAPACK_LIB=$BLASOPT<br />
<br />
export USE_SCALAPACK=yes<br />
export SCALAPACK_SIZE=8<br />
export SCALAPACK="$BLASOPT -lmkl_scalapack_ilp64 -lmkl_blacs_intelmpi_ilp64 "<br />
export SCALAPACK_LIB=$SCALAPACK<br />
<br />
export IB_HOME=/usr<br />
export IB_INCLUDE=$IB_HOME/include/infiniband<br />
export IB_LIB=$IB_HOME/lib64<br />
export IB_LIB_NAME="-libumad -libverbs -lpthread"<br />
<br />
export MPI_INCLUDE="-I/home/users/app/intel_psxe_2017_update4/impi/2017.3.196/intel64/include "<br />
export LIBMPI="-L/home/users/app/intel_psxe_2017_update4/impi/2017.3.196/intel64/lib  -lmpifort  -lmpi_ilp64 -lmpi_mt -<br />
lmpi -lpthread"<br />
<br />
export USE_PYTHON64=y<br />
export PYTHONVERSION=2.7<br />
export PYTHONHOME=/usr<br />
export PYTHONLIBTYPE=so<br />
<br />
export NWCHEM_MODULES="all python"<br />
#export NWCHEM_MODULES="all"<br />
#export NWCHEM_MODULES=smallqm<br />
<br />
export CCSDTQ=y<br />
export CCSDTLR=y<br />
export MRCC_METHODS=TRUE<br />
#unset CCSDTQ<br />
#unset CCSDTLR<br />
#unset MRCC_METHODS<br />
<br />
export CC=icc<br />
export FC=ifort<br />
export F77=ifort<br />
export F90=ifort<br />
export CXX=icpc<br />
#export MPICC=gcc<br />
#export MPIFC=ifort<br />
</pre>
<br />
This is the config I used to build GA 5.6.1<br />

<pre>../ga-5.6.1/configure --prefix=/home/users/astar/ihpc/chiensh/nwchem-29377/src/tools/install  --with-tcgmsg --with-mpi="-I/home/users/app/intel_psxe_2017_update4/impi/2017.3.196/intel64/include -L/home/users/app/intel_psxe_2017_update4/compilers_and_libraries_2017.4.196/linux/mpi/intel64/lib/release_mt -L/home/users/app/intel_psxe_2017_update4/compilers_and_libraries_2017.4.196/linux/mpi/intel64/lib -L/home/users/app/intel_psxe_2017_update4/impi/2017.3.196/intel64/lib -lmpifort -lmpi_ilp64 -lmpi_mt -lmpi -lpthread " --enable-peigs --enable-underscoring --disable-mpi-tests --with-scalapack8="-L/home/users/app/intel_psxe_2017_update4/compilers_and_libraries_2017.4.196/linux/mkl/lib/intel64 -lmkl_intel_ilp64 -lmkl_intel_thread -lmkl_core -liomp5 -lpthread -ldl -lmkl_scalapack_ilp64 -lmkl_blacs_intelmpi_ilp64" --with-lapack="-L/home/users/app/intel_psxe_2017_update4/compilers_and_libraries_2017.4.196/linux/mkl/lib/intel64 -lmkl_intel_ilp64 -lmkl_intel_thread -lmkl_core -liomp5 -lpthread -ldl" --with-blas8="-L/home/users/app/intel_psxe_2017_update4/compilers_and_libraries_2017.4.196/linux/mkl/lib/intel64 -lmkl_intel_ilp64 -lmkl_intel_thread -lmkl_core -liomp5 -lpthread -ldl"  --with-openib=/usr/include/infiniband /usr/lib64 -libumad -libverbs -lpthread" CC=icc CXX=icpc F77=ifort FFLAGS=-no-vec CFLAGS=-no-vec INTEL_64ALIGN=1 ARMCI_DEFAULT_SHMMAX_UBOUND=131072
</pre></td>
		                    </tr>
		                                
		                    
		                    
		                </table>
		            </td>
        </tr> 
           
        <tr><td class="thread_sig" align="left" colspan="2"></td></tr>
        	
        </table>
<br />       <a name="post_8382"></a>       
        <table class="forum_posts" cellpadding="0" cellspacing="0" id="fullheight">
            <tr>
                <td width="100%" align="left" colspan="2" valign="top" class="mem_name" id="name_8382" nowrap>
                    <table width="100%" cellpadding="0" cellspacing="0">
                        <tr>
                            <td class="UserNameOptions" width="100%">
                                <ul id="UserNameOptions">
                                  <li>
                                    <div id="mem2" onmouseover="mcancelclosetime()" onmouseout="mclosetime()">
                                        
                                    </div>
                                  </li>
                                </ul>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td align="left" nowrap valign="top" width="20">
                    <table cellpadding="0" cellspacing="0" width="20">
                        <tr>
                            <td class="t_userinfo" width="20" nowrap>
                <!-- member_title --><div class="">Clicked A Few Times</div><!-- /member_title -->
                                
                            </td>
                        </tr>
                    </table>
                </td>
                        
            		<td align="left" width="100%" valign="top" id="fullheight">
		                <table width="100%" cellpadding="0" cellspacing="0" class="post1" height="75">
		                    <tr>
		                        <td class="post_date" valign="bottom" height="1px"  width="100%" colspan="2"  nowrap><a target="blank" href="../../sp/id8382.html">8:00:01 PM PDT - Tue, Aug 22nd 2017 </a></td>
		                            <td class="post_date" valign="bottom" height="1px" width="100%" nowrap></td>

		                    </tr>
		                                     
		                    <tr>
		                        <td valign="top" class="post_body" height="65" colspan="2">has anyone reproduced these errors?
</td>
		                    </tr>
		                                
		                    
		                    
		                </table>
		            </td>
        </tr> 
           
        <tr><td class="thread_sig" align="left" colspan="2"></td></tr>
        	
        </table>
<br /><br />
<table width="100%" cellpadding="0" cellspacing="0" class="bot_breadcrumbs_and_pagejump">
	<tr>
		<td width="100%" class="bot_breadcrumbs"><a href="../../index.html">Forum</a> &gt;&gt; <a href="../../sc/id2.html">NWChem's corner</a> &gt;&gt; <a href="../../sf/id5.html">Running NWChem</a></td>
	</tr>
	<tr>
		<td width="100%" class="bot_pagejumps"></td>
	</tr>
</table>
<br /><br />      <br />
</body> 
</html> 
