<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
	
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta name="generator" content="MediaWiki 1.16.4" />
<meta name="keywords" content="Compiling NWCHEM on Centos6.1 openmpi1.6 ifort icc Viewed 5416 times, With a total of 12 Posts" />
<!--[if lt IE 5.5000]><link rel="stylesheet" href="/skins/gumax/IE50Fixes.css?270" media="screen" /><![endif]-->
<!--[if IE 5.5000]><link rel="stylesheet" href="/skins/gumax/IE55Fixes.css?270" media="screen" /><![endif]-->
<!--[if IE 6]><link rel="stylesheet" href="/skins/gumax/IE60Fixes.css?270" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="/skins/gumax/IE70Fixes.css?270" media="screen" /><![endif]-->
		<!--[if lt IE 7]><script type="text/javascript" src="/skins/common/IEFixes.js?270"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->

		<script>
var skin="gumax",
stylepath="/skins",
wgUrlProtocols="http.html\\:\\/\\/|https\\:\\/\\/|ftp\\:\\/\\/|irc\\:\\/\\/|gopher\\:\\/\\/|telnet\\:\\/\\/|nntp\\:\\/\\/|worldwind\\:\\/\\/|mailto\\:|news\\:|svn\\:\\/\\/",
wgArticlePath="/index.php/$1",
wgScriptPath="",
wgScriptExtension=".php",
wgVariantArticlePath=false,
wgActionPaths={},
wgCanonicalNamespace="Special",
wgCanonicalSpecialPageName="AWCforum",
wgNamespaceNumber=-1,
wgPageName="Special:AWCforum",
wgTitle="AWCforum",
wgAction="view",
wgArticleId=0,
wgIsArticle=true,
wgUserName=null,
wgUserGroups=null,
wgUserLanguage="en",
wgContentLanguage="en",
wgBreakFrames=true,
wgCurRevisionId=0,
wgVersion="1.16.4",
wgEnableAPI=true,
wgEnableWriteAPI=true,
wgSeparatorTransformTable=["", ""],
wgDigitTransformTable=["", ""],
wgMainPageTitle="Main Page",
wgFormattedNamespaces={"-2": "Media", "-1": "Special", "0": "", "1": "Talk", "2": "User", "3": "User talk", "4": "NWChem", "5": "NWChem talk", "6": "File", "7": "File talk", "8": "MediaWiki", "9": "MediaWiki talk", "10": "Template", "11": "Template talk", "12": "Help", "13": "Help talk", "14": "Category", "15": "Category talk", "500": "Release-60", "501": "Release-60 talk", "502": "Release61", "503": "Release61 talk", "504": "Release62", "505": "Release62 talk", "506": "Release64", "507": "Release64 talk", "508": "Release65", "509": "Release65 talk", "510": "Development", "511": "Development talk", "512": "Release66", "513": "Release66 talk", "121707": "Forum"},
wgNamespaceIds={"media": -2, "special": -1, "": 0, "talk": 1, "user": 2, "user_talk": 3, "nwchem": 4, "nwchem_talk": 5, "file": 6, "file_talk": 7, "mediawiki": 8, "mediawiki_talk": 9, "template": 10, "template_talk": 11, "help": 12, "help_talk": 13, "category": 14, "category_talk": 15, "release-60": 500, "release-60_talk": 501, "release61": 502, "release61_talk": 503, "release62": 504, "release62_talk": 505, "release64": 506, "release64_talk": 507, "release65": 508, "release65_talk": 509, "development": 510, "development_talk": 511, "release66": 512, "release66_talk": 513, "forum": 121707, "ns_reldoc64": "NS_RELDOC65", "ns_reldoc64_talk": "NS_RELDOC65_TALK", "image": 6, "image_talk": 7},
wgSiteName="NWChem",
wgCategories=[],
wgRestrictionEdit=[],
wgRestrictionMove=[];
</script>
		<!-- Head Scripts -->
<style type="text/css">
#bodyContent a[href ^="http://"] {
background: none;
    padding-right: 0px;
}

#bodyContent a.external {
background: none;
	padding-right: 0px;
}

#p-cactions li a {
text-transform: capitalize;
}

#contentSub {
margin: 0;
padding: 2px;
padding-bottom: 6px;
}

pre {
margin:0px; 
    padding:5px;
    padding-bottom:20px;  
    
    width: 600px;
    overflow:auto;
    overflow-y: visible;
    line-height: 100%;
}

.top_user_links {
margin: 0;
    padding: 0;
    border-bottom: 1px solid #aaa;
    text-align: right;
}

#TopMenuLinksHolder li a:hover {

}

#TopMenuLinksHolder li a {

}

#TopMenuLinksHolder li {
margin-top: 4px;   
    margin-left: 4px;
    margin-bottom: 0px;
    
    padding: 3px;
    
    list-style: none;
    float: right;
    display: block;
    
    width: auto;
    white-space: nowrap;
    
    border: 1px solid #aaa;
    border-bottom: 0px;
    
    color: #000;
    text-decoration: none;
    font: 11px Verdana;
    text-align: left;
    z-index: 3;
}

#TopMenuLinksHolder a:visited {

}

#TopMenuLinksHolder div a:hover {
background: #FFF;
    color: #000;
}

#TopMenuLinksHolder div a {
position: relative;
        display: block;
        margin: 0;
        padding: 5px;
        width: auto;
        white-space: nowrap;
        text-align: left;
        text-decoration: none;
        font: 11px arial;
}

#TopMenuLinksHolder div {
position: absolute;
    visibility: hidden;
    margin: 0;
    padding: 0;
    background: #DDDDDD;
    border: 1px solid #AAAAAA;
}

#TopMenuLinksHolder {
margin: 0;
    padding: 0;
    z-index: 3;
}

.UserNameOptions {

}

#UserNameOptions a:visited {

}

#UserNameOptions li a:hover {

}

#UserNameOptions li a {
font: 11px Verdana;
}

#UserNameOptions li {
list-style: none;
    display: block;
    white-space: nowrap;
    border: 0px;
    color: #000;
    text-align: left;
    text-decoration: none;
}

#UserNameOptions div a:hover {
color: #FFF;
}

#UserNameOptions div a {
position: relative;
        display: block;
        margin: 0;
        padding: 5px;
        
        width: 500px;
        
        white-space: nowrap; 
        text-align: left;
        text-decoration: none;
        font: 11px arial;
}

#UserNameOptions div {
position: absolute;
    display: block;
    visibility: hidden;
    margin: 0;
    padding: 5px;
    background: #DDDDDD;
    border: 1px solid #AAAAAA;
    white-space: nowrap; 
    font: 12px arial;
    line-height: 100%;
}

#UserNameOptions {
margin: 0;
    padding: 0;
    z-index: 2;
}

.group_text {
font-size: 84%;
    width: auto;
    padding: 0px;
}

.edited_on {
border-top: 1px solid #aaa;
    margin: 0px;
    margin-bottom: 0px;
    padding-left: 5px;
    font-size: 12px;
}

.post_title {

}

.post_date {
border-bottom: 1px solid #aaa;
    font-size: 90%;
    padding-left: 2px;
}

.post_td {
background-color: #f9f9f9;
    border-left: 1px solid #aaa;
    margin: .0em;
    padding: .0em;
}

.post_body {
padding: .5em;
    padding-top: 0px;
}

.post0 {
background-color: #E5E5E5;
    border-left: 1px solid #aaa;
    padding: .0em;
}

.post1 {
background-color: #f9f9f9;
    border-left: 1px solid #aaa;
    padding-bottom: .0em;
}

.post_footer {
/* post, quote, edit buttons */
    margin: 0;
    padding: .7em;
    padding-bottom: 0em;
}

.post_box {
margin-top: 5px;
    margin-left: 5px;
    margin-right: 2px;
    width: auto;
}

.mem_name {
border-bottom: 1px solid #aaa;
    margin: 0;
    padding: .4em;
}

.adv {
border: 0px;
    margin: 0em;
    padding: 0em;
}

.thread_sig {
border-top: 2px solid #aaa;
    margin: 3px;
    padding-left: 5px;
}

#subscribe_menu {
position: absolute;
    background: #ccc ;
    border: 1px solid #aaa;
    border-top: 0px;
    margin: 0em;
    padding: 5px;
    padding-top: 0px;
    top:auto;
    right:65px;
    z-index: 2;
}

.drop_down_buttons:hover {
background: #ccc ;
}

.drop_down_buttons {
margin: 0em;
    white-space: nowrap;
    border-bottom: 1px solid #aaa;
    border-top: 0px;
    padding: 5px;
    color: #000;
    text-align: center;
    background: #fff ;
}

.mod_menu_row {
text-align: left;
}

.post_buttons:hover {
background: #fff ;
}

.post_buttons {
white-space: nowrap;
    float: right;
    margin-top: .5em;
    margin-right: 5px;
    border: 1px solid #aaa;
    border-bottom: 0em;
    padding-left: 5px;
    padding-right: 5px;
    padding-bottom: 0px;
    color: #000;
}

.quote_title {
border: 1px dashed #aaa;
	padding: 5px;
	background-color: #f9f9f9;
	font-family:"Courier New", Courier, mono;
}

.quote {
border-top: 1px solid #000;
	background-color: #fff;
	padding: 10px;
	font-size: 95%;
}

.user_options_row {
border: 1px solid #aaa;
    background: #fff ;
    padding: .3em;
}

.t_userinfo {
white-space:nowrap;
    text-align: left;
    margin: 0;
    padding: .7em;
    padding-bottom: 0em;
}

.ThreadOtions {
margin: 0;
    padding: 0;
    text-align: right;
}

#ThreadOtions a:visited {

}

#ThreadOtions li a:hover {

}

#ThreadOtions li a {
border: 1px solid #aaa;
    border-bottom: 0em;
    padding: 4px;
}

#ThreadOtions li {
list-style: none;
    display: block;
    white-space: nowrap;
    
    border: 0px;
    color: #000;
    
    text-decoration: none;
    z-index: 3;
}

#ThreadOtions div a:hover {
background: #FFF;
    color: #000;
}

#ThreadOtions div a {
position: relative;
        display: block;
        margin: 0;
        padding: 2px;
        border: 0em;
        
        white-space: nowrap; 
        text-align: left;
        text-decoration: none;
        font: 11px arial;
}

#ThreadOtions div {
position: absolute; 
    right: 50px;
    visibility: hidden;
    margin: 0;
    padding: 5px;
    background: #DDDDDD;
    border: 1px solid #AAAAAA;
    white-space: nowrap; 
    text-align: left;
}

#ThreadOtions {
margin-top: 3px;
    padding: 0;
    z-index: 3;
}

.forum_posts {
border: 1px solid #aaa;
    margin: 0em;
    padding: 0em;
    width: 100%;

 width: 100%;
}

.post {
background-color: #f9f9f9;
    border-left: 1px solid #aaa;
    padding: .0em;
}

#search_box {
white-space:nowrap;
    text-align: right; 
    margin: .0em;
    padding: 0px;
}

.search_box {
float: right;
    font-size: 97%;
    margin: .0em;
    color: #000;
    background: #fff;
    border: 1px solid #000;
    margin-left: 5px;
    padding: 0px;
}

.highlightsearchword {
color: #FF0000;
}

.poll_display_table {
border: 1px solid #aaa;
    
    padding: 1px;
}

.poll_displayheader {
border-bottom: 1px dashed #aaa;
    padding: 4px;
    background-color: #DDDDDD;
    font-family:"Courier New", Courier, mono;
}

.poll_display_row {
border-bottom: 1px solid #aaa;
    background-color: #f9f9f9;
    padding: 2px;
}

.poll_display_vote_total {
border-top: 1px solid #aaa;
    padding: 4px;
    background-color: #DDDDDD;
    font-family:"Courier New", Courier, mono;
}

.poll_display_vote_numbers_header {
border: 1px solid #aaa;
border-bottom: 0;
}

.poll_display_vote_percent_header {
border-top: 1px solid #aaa;
    padding: 1px;
}

.poll_display_vote_option_header {
border: 1px solid #aaa;
    border-bottom: 0;
    padding: 1px;
}

.poll_display_vote_numbers {
border: 1px solid #aaa;
    border-bottom: 0;
    padding: 1px;
}

.poll_display_vote_percent {
border-top: 1px solid #aaa;
    padding: 1px;
}

.poll_display_vote_option {
border: 1px solid #aaa;
    border-bottom: 0;
    padding: 1px;
}

.poll_percent_color_op10 {
background-color: #7FFF00;
}

.poll_percent_color_op1 {
background-color: #CD5555;
}

.poll_percent_color_op2 {
background-color: #5CACEE;
}

.poll_percent_color_op3 {
background-color: #FFCC11;
}

.poll_percent_color_op4 {
background-color: #668014;
}

.poll_percent_color_op5 {
background-color: #A0522D;
}

.poll_percent_color_op6 {
background-color: #9F79EE;
}

.poll_percent_color_op7 {
background-color: #EE00EE;
}

.poll_percent_color_op8 {
background-color: #DC143C;
}

.poll_percent_color_op9 {
background-color: #551011;
}

.page_jumps_top:hover {
background: #ccc ;
}

.page_jumps_top {
white-space: nowrap;
    display: inline;
    
    margin: 0px; 
    margin-right: 2px;
    
    border: 1px solid #aaa;
    border-bottom: 0px;
    
    padding-left: 5px;
    padding-right: 5px;
    padding-bottom: 4px;
    
    color: #000;
}

.page_jumps_bot:hover {
background: #ccc ;
}

.page_jumps_bot {
border: 1px solid #aaa;
    border-top: 0px;
    padding-top: 2px;
    margin-left: 2px;
    font-size: 100%;
    padding-left: 5px;
    padding-right: 5px;
    padding-bottom: 2px;
}

.main_memtable {
border: 1px solid #aaa;
}

.main_leftmenu {
border-right: 1px solid #aaa;
     background-color: #f9f9f9;
     width: 175px;
}

.leftmenuheaders {
border: 1px dashed #aaa;
    padding: 2px;
    font-family:"Courier New", Courier, mono;
}

.leftmenu {
background-color: #f9f9f9;
}

.right_body {
padding: 2px;
}

.mem_pm_table {
border: 1px solid #aaa;
    padding: 2px;
    margin: 7px;
}

.pm_header_new {
background-color: #aaa;
    border: 1px solid #000;
    padding: 2px;
    width:5%;
}

.pm_header_title {
background-color: #aaa;
    border: 1px solid #000;
    padding: 2px;
    width:85%;
}

.pm_header_sender {
background-color: #aaa;
    border: 1px solid #000;
    padding: 2px;
    width:5%;
}

.pm_header_date {
background-color: #aaa;
    border: 1px solid #000;
    padding: 2px;
    width:5%;
}

.pm_row {
background-color: #f9f9f9;
    border: 1px solid #000;
    padding: 3px;
}

#cat_list_lastaction_user {
font-size: 90%;
    color: #7d7d7d;
    text-align: right;
    margin-right: 10px;
    line-height: 100%;
}

#cat_list_lastaction_date {
font-size: 90%;
    color: #7d7d7d;
    text-align: right;
    margin-right: 10px;
    line-height: 105%;
}

#cat_list_lastaction_title {
font-size: 90%;
    color: #7d7d7d;
    text-align: right;
    margin-right: 10px;
    line-height: 105%;
}

#small_desc {
font-size: 84%;
    color: #7d7d7d;
	margin-left: 10px;
    width: auto;
}

#cat_forumdisc {
font-size: 84%;
    color: #7d7d7d;
    margin-left: 10px;
    width: auto;
}

.cat_forumrows {
border: 1px solid #aaa;
    background-color: #f9f9f9;
    padding: 5px;
    font-size: 95%;
}

.thread_col_head {
border: 1px solid #aaa;
    margin: 0px;
    padding: 5px;
    white-space: nowrap;
}

.bread_crumbs {
border-bottom: 1px solid #aaa;
    border-top: 0px;
    padding: 2px;
    text-align: left;
}

.dl_maintable_head {
border-right: 1px solid #aaa;
    border-bottom: 1px solid #aaa;
    background-color: #fff;
    padding: 2px;
}

.dl_maintable {
border: 1px solid #aaa;
    margin: 1px;
    padding: 1px;
}

.right_float {
float: right;
	margin-top: 8px;
	padding-left: 5px;
	padding-right: 5px;
	margin-right: 10px;
	margin-left: 10px;
}

.right {
float: right;
	padding-left: 5px;
	padding-right: 5px;
	margin-right: 10px;
	margin-left: 10px;
}

.spacer {
background-color: #aaa;
}

.whos_here_header {
border-bottom: 1px dashed #aaa;
            padding: 4px;
            font-family:"Courier New", Courier, mono;
}

.whos_here_row {
border-bottom: 1px solid #aaa;
            background-color: #f9f9f9;
            padding: 2px;
}

.whos_here {
border: 1px solid #aaa;
            border-bottom: 0;
}

.nothing {
font-size: 0%;
            margin: .0em;
            border: 0;
            margin: 0;
            padding: 0;
            width: 0;
}

.forum_stats {
border: 1px solid #aaa;
            border-bottom: 0;
}

.forum_stats_leftcol {
border-bottom: 1px solid #aaa;
                background-color: #f9f9f9;
                padding: 2px;
}

.forum_stats_rightcol {
background-color: #f9f9f9;
                border-bottom: 1px solid #aaa;
                padding: 2px;
}

.forum_stats_header {
border-bottom: 1px dashed #aaa;
                padding: 4px;
                font-family:"Courier New", Courier, mono;
}

.thread_rows0 {
background-color: #E5E5E5;
    border: 1px solid #aaa;
    border-top: 0px ;
    padding: 2px;
    font-size: 95%;
}

.thread_rows1 {
background-color: #f3f3f3;
    border: 1px solid #aaa;
    border-top: 0px ;
    padding: 2px;
    font-size: 95%;
}

.thread_rows {
background-color: #f9f9f9;
    border: 1px solid #aaa;
    border-top: 0px ;
    padding: 2px;
    font-size: 95%;
}

#annc {
border: 1px solid #000;
	background-color: red;
	padding: 0px;
}

.sticky {
font-style: italic;
    border: 1px solid #aaa;
    border-top: 0px;
    background-color:  #ffa; /* #ffa; e2ffe2 */
    padding: 2px;
    font-size: 95%;
}

.thread_lastaction {
font-size: 84%;
    text-align: right;
    white-space: nowrap;
    display: inline;
}

.pagejumps_PostOnForumPage:hover {
background: #ccc ;
}

.pagejumps_PostOnForumPage {
border: 1px solid #aaa;
    margin-left: 3px;
    font-size: 100%;
    padding-left: 3px;
    padding-right: 3px;
    padding-bottom: 0px;
}

.new_thread_button:hover {
background: #ccc ;
}

.new_thread_button {
white-space: nowrap;
    float: right;
    display: inline; /*fixes IE float bug*/
    margin-top: 0px; 
    margin-bottom: 0px; 
    margin-left: 10px;
   /* margin-left: -4px; */
    border: 1px solid #aaa;
    border-bottom: 0px;
    padding-left: 5px;
    padding-right: 5px;
    padding-bottom: 3px;
    text-align: left; /* 2.4.1 */
    color: #000;
}

#row_info td {
border: 1px solid #aaa;
	border-top: 0px;
	background-color: #f9f9f9;
	padding: 5px;
	font-size: 95%;
}

.page_jumps_holder_thread_bot {
border-bottom: 1px solid #aaa;
}

.page_jumps_holderBot {

}

.poll_thread_listing {
border: 1px solid #aaa;
    border-top: 0px;
    background-color:  #FFCC00;
    padding: 2px;
    font-size: 95%;
}

.locked_thread {
font-style: italic;
    border: 1px solid #aaa;
    border-top: 0px;
    background-color:  #e2ffe2; /* #ffa; e2ffe2 */
    padding: 2px;
    font-size: 95%;
}

#ajax_pmname {
text-align: left;
}

#ajax_pmname ul {
list-style: none;
margin: 0;
}

#ajax_pmname li {
padding: 2px 5px;
	white-space: nowrap;
	text-align: left;
}

#ajax_pmname li:hover {
background: #f9f9f9;
	margin-left: .1em;
	text-decoration: underline;
}

#ajax_pmname li {
padding: 2px 5px;
	white-space: nowrap;
	text-align: left;
}

#ajax_pmname li {
padding: 2px 5px;
	white-space: nowrap;
	text-align: left;
}

#ajax_pmname li {
padding: 2px 5px;
	white-space: nowrap;
	text-align: left;
}

</style>


		<!-- gumax customized style -->

					<style type="text/css">
				#gumax-content-actions li#ca-talk,
				#gumax-content-actions li#ca-history,
				#gumax-content-actions li#ca-edit,
				#gumax-personal-tools
				{ display: none; }
			</style>
		
		<!--[if lt IE 7]>
			<script type="text/javascript" src="/skins/gumax/js/ieunitpngfix-tag.js"></script>
		<![endif]-->

		<!-- end of gumax customized style -->
</head>


<body class="mediawiki ltr ns--1 ns-special page-Special_AWCforum_st_id639 skin-gumax">

	</div>
	<!-- ///// end of gumax-header ///// -->



		<!-- gumax-content-body -->
		<div id="gumax-column-content">
	<div id="content">
		<a name="top" id="top"></a>
				<h1 id="firstHeading" class="firstHeading gumax-firstHeading" >Compiling NWCHEM on Centos6.1 openmpi1.6 ifort icc</h1>
	</tr>
</table>
<br />    <table width="100%" cellpadding="0" cellspacing="0">
        <tr>
            <td width="65%" align="left" nowrap="nowrap"></td>                                         
            <td width="35%" class='ThreadOtions' nowrap></td>    
        </tr>
    </table>       <a name="post_2302"></a>       
        <table class="forum_posts" cellpadding="0" cellspacing="0" id="fullheight">
            <tr>
                <td width="100%" align="left" colspan="2" valign="top" class="mem_name" id="name_2302" nowrap>
                    <table width="100%" cellpadding="0" cellspacing="0">
                        <tr>
                            <td class="UserNameOptions" width="100%">
                                <ul id="UserNameOptions">
                                  <li>
                                    <div id="mem1" onmouseover="mcancelclosetime()" onmouseout="mclosetime()">
                                        
                                    </div>
                                  </li>
                                </ul>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td align="left" nowrap valign="top" width="20">
                    <table cellpadding="0" cellspacing="0" width="20">
                        <tr>
                            <td class="t_userinfo" width="20" nowrap>
                <!-- member_title --><div class="">Clicked A Few Times</div><!-- /member_title -->
                                
                            </td>
                        </tr>
                    </table>
                </td>
                        
            		<td align="left" width="100%" valign="top" id="fullheight">
		                <table width="100%" cellpadding="0" cellspacing="0" class="post0" height="75">
		                    <tr>
		                        <td class="post_date" valign="bottom" height="1px"  width="100%" colspan="2"  nowrap><a target="blank" href="../sp/id2302.html">3:57:52 AM PST - Wed, Nov 7th 2012 </a></td>
		                            <td class="post_date" valign="bottom" height="1px" width="100%" nowrap></td>

		                    </tr>
		                                     
		                    <tr>
		                        <td valign="top" class="post_body" height="65" colspan="2">Dear all,<br />
<br />
I have compiled a parallel version of nwchem and started testing on the QAs. The following is my setting files:<br />
<br />

<pre>
# file content of compile_nwchem.sh
#!/bin/bash
# intel compilers
source /opt/intel/2013/bin/compilervars.sh intel64
export NWCHEM_TOP=/home/user/Documents/codes/nwchem-6.1.1-src
export NWCHEM_TARGET=LINUX64
export NWCHEM_MODULES=&quot;all python&quot;
export LARGE_FILES=TRUE
export USE_NOFSCHECK=TRUE
export LIB_DEFINES=-DDFLT_TOT_MEM=16777216

export PYTHONHOME=/usr
export PYTHONVERSION=2.6
export USE_PYTHON64=y
export PYTHONLIBTYPE=so

export MKLROOT=/opt/intel/2013/mkl
export BLASOPT=&quot;-Wl,--start-group  $MKLROOT/lib/intel64/libmkl_intel_ilp64.a $MKLROOT/lib/intel64/libmkl_sequential.a $MKLROOT/lib/intel64/libmkl_core.a -Wl,--end-group -lpthread -lm&quot;

export FC=&quot;ifort&quot;
export CC=&quot;icc $CFLAGS&quot;

cd $NWCHEM_TOP/src
make realclean
cp util/*.fh include/.

pwd
make FC=$FC CC=$CC nwchem_config
make FC=$FC CC=$CC 32_to_64
make FC=$FC CC=$CC -j4
</pre><br />
<br />
and install file:<br />
<br />

<pre>
#!/bin/bash
# intel compilers
export NWCHEM_TOP=/home/user/Documents/codes/nwchem-6.1.1-src
export NWCHEM=/opt/nwchem_intel2013_openmpi16

mkdir -p $NWCHEM/bin $NWCHEM/data
cp $NWCHEM_TOP/bin/LINUX64/nwchem $NWCHEM/bin
cp $NWCHEM_TOP/bin/LINUX64/depend.x $NWCHEM/bin/
chmod a+rx $NWCHEM/bin

cd $NWCHEM_TOP/src/
cp -r data $NWCHEM

cd $NWCHEM_TOP/src/basis
cp -r libraries $NWCHEM/data/

cd $NWCHEM_TOP/src/nwpw
cp -r libraryps $NWCHEM/data/
chmod -R 755 $NWCHEM/data/*
</pre><br />
<br />

<pre>
#content of .nwchemrc
nwchem_basis_library /opt/nwchem_intel2013_openmpi16/data/libraries/
nwchem_nwpw_library /opt/nwchem_intel2013_openmpi16/data/libraryps/
ffield amber
amber_1 /opt/nwchem_intel2013_openmpi16/data/amber_s/
amber_2 /opt/nwchem_intel2013_openmpi16/data/amber_q/
amber_3 /opt/nwchem_intel2013_openmpi16/data/amber_x/
amber_4 /opt/nwchem_intel2013_openmpi16/data/amber_u/
spce    /opt/nwchem_intel2013_openmpi16/data/solvents/spce.rst
charmm_s /opt/nwchem_intel2013_openmpi16/data/charmm_s/
charmm_x /opt/nwchem_intel2013_openmpi16/data/charmm_x/
</pre><br />
<br />
I have now run some qm tests and got some fails. Generally, the fails are likely from precisions. I have no idea whether these are serious or not. Please help me to identify. As the files are many I only picked some of them to show the difference. I have not fully run the tests as I only did single process calculations. There are problems running parallel version of the QAs, and I want to address this later. <br />
<br />

<pre>
user@localhost testoutputs$ cat ../singleqmtests.log | grep -c OK
120
user@localhost testoutputs$ cat ../singleqmtests.log | grep -c fail
12
</pre><br />
<br />
From running about 66 jobs, I got 6 failed. (one failed job contributes to two "failed" words, same as an OK job)<br />
Take dft_cr2 as an example:<br />

<pre>
[user@localhost testoutputs]$ diff dft_cr2.ok.out.nwparse dft_cr2.out.nwparse
61c61
&lt; Effective nuclear repulsion energy (a.u.) 189.5566
---
&gt; Effective nuclear repulsion energy (a.u.) 189.5565
</pre><br />
<br />
It seems the difference is minute, but I cannot be very sure. <br />
For example, in prop_h2o, I get:<br />
<br />

<pre>
[user@localhost testoutputs]$ diff prop_h2o.ok.out.nwparse prop_h2o.out.nwparse 
78,84c78,84
&lt; XYZ 0.000 0.000 0.000
&lt; isotropic = 232.456
&lt; anisotropy = 38.112
&lt; isotropic = 28.667
&lt; anisotropy = 6.794
&lt; isotropic = 28.667
&lt; anisotropy = 6.794
---
&gt; XYZ -0.000 0.000 -0.000
&gt; isotropic = 223.154
&gt; anisotropy = 38.458
&gt; isotropic = 31.395
&gt; anisotropy = 2.916
&gt; isotropic = 30.362
&gt; anisotropy = 4.268
122c122
</pre><br />
<br />
And from md runs, I get the following difference:<br />
<br />

<pre>
[user@localhost testoutputs]$ diff ethanol_ti.ok.tst ethanol_ti.tst
5c5
&lt; Energy           =   -8.957E+03
---
&gt; Energy           =   -8.944E+03
8c8
&lt; Energy           =   -8.961E+03
---
&gt; Energy           =   -8.948E+03
11c11
&lt; Energy           =   -8.955E+03
---
&gt; Energy           =   -8.942E+03
14c14
&lt; Energy           =   -8.957E+03
---
&gt; Energy           =   -8.942E+03
17c17
&lt; Energy           =   -8.957E+03
---
&gt; Energy           =   -8.945E+03
20c20
&lt; Energy           =   -8.956E+03
---
&gt; Energy           =   -8.942E+03
23c23
&lt; Energy           =   -8.959E+03
---
&gt; Energy           =   -8.946E+03
26c26
&lt; Energy           =   -8.964E+03
---
&gt; Energy           =   -8.951E+03
29c29
&lt; Energy           =   -8.957E+03
---
&gt; Energy           =   -8.943E+03
</pre><br />
<br />
Can someone tell me what have I done wrong and what should I do in order to fix the errors.<br />
<br />
Plus, when I run dna in example folder, I got the following error:<br />
<br />

<pre>
 Task  times  cpu:        7.0s     wall:        8.4s


                                NWChem Input Module
                                -------------------


                               Analysis Input Module
                               ---------------------


                                  Analysis Module
                                  ---------------


 Reference coordinates read from dna_em.qrs

 Number of atoms is   388
 Topology read from dna.top

 Opening trj file dna_md.trj
 Closing trj file

 Trajectory file header from dna_md.trj

 Opening trj file dna_md.trj

 Opening copy file dna_super.trj

0:Segmentation Violation error, status=: 11
(rank:0 hostname:localhost.localdomain pid:3543):ARMCI DASSERT fail. ../../ga-5-1/armci/src/common/signaltrap.c:SigSegvHandler():310 cond:0
Last System Error Message from Task 0:: Inappropriate ioctl for device
  0: ARMCI aborting 11 (0xb).
  0: ARMCI aborting 11 (0xb).
system error message: Inappropriate ioctl for device
</pre><br />
<br />
Thanks in advance!!!
</td>
		                    </tr>
		                                
		                    
		                    
		                </table>
		            </td>
        </tr> 
           
        <tr><td class="thread_sig" align="left" colspan="2"></td></tr>
        	
        </table>
<br />       <a name="post_2303"></a>       
        <table class="forum_posts" cellpadding="0" cellspacing="0" id="fullheight">
            <tr>
                <td width="100%" align="left" colspan="2" valign="top" class="mem_name" id="name_2303" nowrap>
                    <table width="100%" cellpadding="0" cellspacing="0">
                        <tr>
                            <td class="UserNameOptions" width="100%">
                                <ul id="UserNameOptions">
                                  <li>
                                    <div id="mem2" onmouseover="mcancelclosetime()" onmouseout="mclosetime()">
                                        
                                    </div>
                                  </li>
                                </ul>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td align="left" nowrap valign="top" width="20">
                    <table cellpadding="0" cellspacing="0" width="20">
                        <tr>
                            <td class="t_userinfo" width="20" nowrap>
                <!-- member_title --><div class="">Clicked A Few Times</div><!-- /member_title -->
                                
                            </td>
                        </tr>
                    </table>
                </td>
                        
            		<td align="left" width="100%" valign="top" id="fullheight">
		                <table width="100%" cellpadding="0" cellspacing="0" class="post1" height="75">
		                    <tr>
		                        <td class="post_date" valign="bottom" height="1px"  width="100%" colspan="2"  nowrap><a target="blank" href="../sp/id2303.html">5:59:14 AM PST - Wed, Nov 7th 2012 </a></td>
		                            <td class="post_date" valign="bottom" height="1px" width="100%" nowrap></td>

		                    </tr>
		                                     
		                    <tr>
		                        <td valign="top" class="post_body" height="65" colspan="2">my ldd nwchem... (as it seems to be asked on other thread...)<br />
<br />

<pre>
[user@localhost md]$ ldd /opt/nwchem_intel2013_openmpi16/bin/nwchem
        linux-vdso.so.1 =&gt;  (0x00007fc85f1dd000)
        libpython2.6.so.1.0 =&gt; /usr/lib64/libpython2.6.so.1.0 (0x0000003cae200000)
        libpthread.so.0 =&gt; /lib64/libpthread.so.0 (0x0000003a17800000)
        libm.so.6 =&gt; /lib64/libm.so.6 (0x0000003a17c00000)
        libutil.so.1 =&gt; /lib64/libutil.so.1 (0x0000003a28800000)
        libdl.so.2 =&gt; /lib64/libdl.so.2 (0x0000003a17400000)
        libc.so.6 =&gt; /lib64/libc.so.6 (0x0000003a17000000)
        /lib64/ld-linux-x86-64.so.2 (0x0000003a16c00000)
        libgcc_s.so.1 =&gt; /lib64/libgcc_s.so.1 (0x0000003a1dc00000)
</pre>
</td>
		                    </tr>
		                                
		                    
		                    
		                </table>
		            </td>
        </tr> 
           
        <tr><td class="thread_sig" align="left" colspan="2"></td></tr>
        	
        </table>
<br />       <a name="post_2307"></a>       
        <table class="forum_posts" cellpadding="0" cellspacing="0" id="fullheight">
            <tr>
                <td width="100%" align="left" colspan="2" valign="top" class="mem_name" id="name_2307" nowrap>
                    <table width="100%" cellpadding="0" cellspacing="0">
                        <tr>
                            <td class="UserNameOptions" width="100%">
                                <ul id="UserNameOptions">
                                  <li>
                                    <div id="mem3" onmouseover="mcancelclosetime()" onmouseout="mclosetime()">
                                        
                                    </div>
                                  </li>
                                </ul>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td align="left" nowrap valign="top" width="20">
                    <table cellpadding="0" cellspacing="0" width="20">
                        <tr>
                            <td class="t_userinfo" width="20" nowrap>
                <!-- member_title --><div class="">Forum Vet</div><!-- /member_title -->
                                
                            </td>
                        </tr>
                    </table>
                </td>
                        
            		<td align="left" width="100%" valign="top" id="fullheight">
		                <table width="100%" cellpadding="0" cellspacing="0" class="post0" height="75">
		                    <tr>
		                        <td class="post_date" valign="bottom" height="1px"  width="100%" colspan="2"  nowrap><a target="blank" href="../sp/id2307.html">4:44:11 PM PST - Wed, Nov 7th 2012 </a></td>
		                            <td class="post_date" valign="bottom" height="1px" width="100%" nowrap></td>

		                    </tr>
		                                     
		                    <tr>
		                        <td valign="top" class="post_body" height="65" colspan="2">Sacch<br />
The Intel compiler sees to be generating bad code.<br />
Please do the following <br />
<br />
cd $NWCHEM_TOP/src/NWints/hondo<br />
touch hnd_giaxyz.F<br />
make FC=ifort FOPTIMIZE="-O1"<br />
cd ../..<br />
make FC=ifort link<br />
<br />
Cheers, Edo
</td>
		                    </tr>
		                                
		                    <tr>
	<td class="edited_on" align="left" colspan="2">
	</td>
</tr>
		                    
		                </table>
		            </td>
        </tr> 
           
        <tr><td class="thread_sig" align="left" colspan="2"></td></tr>
        	
        </table>
<br />       <a name="post_2321"></a>       
        <table class="forum_posts" cellpadding="0" cellspacing="0" id="fullheight">
            <tr>
                <td width="100%" align="left" colspan="2" valign="top" class="mem_name" id="name_2321" nowrap>
                    <table width="100%" cellpadding="0" cellspacing="0">
                        <tr>
                            <td class="UserNameOptions" width="100%">
                                <ul id="UserNameOptions">
                                  <li>
                                    <div id="mem4" onmouseover="mcancelclosetime()" onmouseout="mclosetime()">
                                        
                                    </div>
                                  </li>
                                </ul>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td align="left" nowrap valign="top" width="20">
                    <table cellpadding="0" cellspacing="0" width="20">
                        <tr>
                            <td class="t_userinfo" width="20" nowrap>
                <!-- member_title --><div class="">Clicked A Few Times</div><!-- /member_title -->
                                
                            </td>
                        </tr>
                    </table>
                </td>
                        
            		<td align="left" width="100%" valign="top" id="fullheight">
		                <table width="100%" cellpadding="0" cellspacing="0" class="post1" height="75">
		                    <tr>
		                        <td class="post_date" valign="bottom" height="1px"  width="100%" colspan="2"  nowrap><a target="blank" href="../sp/id2321.html">9:14:49 AM PST - Fri, Nov 9th 2012 </a></td>
		                            <td class="post_date" valign="bottom" height="1px" width="100%" nowrap></td>

		                    </tr>
		                                     
		                    <tr>
		                        <td valign="top" class="post_body" height="65" colspan="2">Dear Edo,<br />
<br />
The ldd now is<br />

<pre>
[user@localhost LINUX64]$ l
total 77916
drwxrwxr-x. 2 user user     4096 Nov  9 23:40 .
drwxrwxr-x. 3 user user     4096 Oct 12 19:10 ..
-rwxrwxr-x. 1 user user    20548 Nov  9 22:40 depend.x
-rwxrwxr-x. 1 user user 79750571 Nov  9 23:40 nwchem
[user@localhost LINUX64]$ ldd ./nwchem
        linux-vdso.so.1 =&gt;  (0x00007fff2f5ff000)
        libpython2.6.so.1.0 =&gt; /usr/lib64/libpython2.6.so.1.0 (0x0000003cae200000)
        libpthread.so.0 =&gt; /lib64/libpthread.so.0 (0x0000003a17800000)
        libutil.so.1 =&gt; /lib64/libutil.so.1 (0x0000003a28800000)
        libdl.so.2 =&gt; /lib64/libdl.so.2 (0x0000003a17400000)
        libm.so.6 =&gt; /lib64/libm.so.6 (0x0000003a17c00000)
        libc.so.6 =&gt; /lib64/libc.so.6 (0x0000003a17000000)
        libgcc_s.so.1 =&gt; /lib64/libgcc_s.so.1 (0x0000003a1dc00000)
        /lib64/ld-linux-x86-64.so.2 (0x0000003a16c00000)
</pre><br />
<br />
The result of running nwchem on dna still fails.<br />
<br />

<pre>

[user@localhost LINUX64]$ cd ../../examples/md/dna
[user@localhost dna]$ rm ./*
rm: cannot remove `./temp': Is a directory
[user@localhost dna]$ rm .header
[user@localhost dna]$ cp temp/* .
[user@localhost dna]$ l
total 44

drwxr-x---.  3 user user  4096 Nov  9 23:50 .
drwxr-x---. 23 user user  4096 Oct 31 15:19 ..
-rw-r-----.  1 user user   420 Nov  9 23:50 dna.nw
-rw-r-----.  1 user user 28631 Nov  9 23:50 dna.pdb
drwxrwxr-x.  2 user user  4096 Nov  1 16:17 temp

       Job information
           ---------------

    hostname      = localhost.localdomain
    program       = /opt/nwchem_intel2013_openmpi16/bin/nwchem
    date          = Fri Nov  9 23:51:08 2012                  

    compiled      = Fri_Nov_09_22:46:51_2012
    source        = /home/user/Documents/codes/nwchem-6.1.1-src
    nwchem branch = 6.1.1                                      
    input         = dna.nw                                     
    prefix        = dna.                                       
    data base     = ./dna.db                                   
    status        = startup                                    
    nproc         =        1                                   
    time left     =     -1s                 

          Memory information
           ------------------

    heap     =  131072001 doubles =   1000.0 Mbytes
    stack    =  131072001 doubles =   1000.0 Mbytes
    global   =  262144000 doubles =   2000.0 Mbytes (distinct from heap &amp; stack)
    total    =  524288002 doubles =   4000.0 Mbytes                             
    verify   = yes                                                              
    hardfail = no                                                               
...
Force field                           amber

 Directories used for fragment and segment files

                                       /opt/nwchem_intel2013_openmpi16/data/amber_s/
                                       /opt/nwchem_intel2013_openmpi16/data/amber_q/
                                       /opt/nwchem_intel2013_openmpi16/data/amber_x/
                                       /opt/nwchem_intel2013_openmpi16/data/amber_u/
                                       ./                                           

 Parameter files used to resolve force field parameters

                                       /opt/nwchem_intel2013_openmpi16/data/amber_s/amber.par
                                       /opt/nwchem_intel2013_openmpi16/data/amber_q/amber.par
                                       /opt/nwchem_intel2013_openmpi16/data/amber_x/amber.par
                                       /opt/nwchem_intel2013_openmpi16/data/amber_u/amber.par
                                       ./amber.par                     

 PDB geometry                          dna.pdb                                               

 Created segment                       ./DT_5.sgm
 Created segment                       ./DG.sgm  
 Created segment                       ./DC.sgm  
 Created segment                       ./DA_3.sgm

 Created sequence                      ./dna.seq

 
 Parameter file                        /opt/nwchem_intel2013_openmpi16/data/amber_s/amber.par
 Parameter file                        /opt/nwchem_intel2013_openmpi16/data/amber_q/amber.par
 Parameter file                        /opt/nwchem_intel2013_openmpi16/data/amber_x/amber.par
 Parameter file                        /opt/nwchem_intel2013_openmpi16/data/amber_u/amber.par
                                                                                             
 Total charge                              0.000000                            

Created topology                      dna.top

 Topology                              dna.top

 No command file found: Default restart directives

 Solute centered in x-dimension
 Solute centered in y-dimension
 Solute centered in z-dimension

 Boxsize determined to                     1.968800    2.003300    2.599200

 Created restart                       dna_em.rst

Reference coordinates read from dna_em.qrs

 Number of atoms is   388
 Topology read from dna.top

 Opening trj file dna_md.trj
 Closing trj file

 Trajectory file header from dna_md.trj

 Opening trj file dna_md.trj

 Opening copy file dna_super.trj

0:Segmentation Violation error, status=: 11
(rank:0 hostname:localhost.localdomain pid:25539):ARMCI DASSERT fail. ../../ga-5-1/armci/src/common/signaltrap.c:SigSegvHandler():310 cond:0
Last System Error Message from Task 0:: Inappropriate ioctl for device
  0: ARMCI aborting 11 (0xb).
  0: ARMCI aborting 11 (0xb).
system error message: Inappropriate ioctl for device


</pre><br />
<br />
I am wondering is there a way to cleanly put the commands into my scripts?
</td>
		                    </tr>
		                                
		                    
		                    
		                </table>
		            </td>
        </tr> 
           
        <tr><td class="thread_sig" align="left" colspan="2"></td></tr>
        	
        </table>
<br />       <a name="post_2335"></a>       
        <table class="forum_posts" cellpadding="0" cellspacing="0" id="fullheight">
            <tr>
                <td width="100%" align="left" colspan="2" valign="top" class="mem_name" id="name_2335" nowrap>
                    <table width="100%" cellpadding="0" cellspacing="0">
                        <tr>
                            <td class="UserNameOptions" width="100%">
                                <ul id="UserNameOptions">
                                  <li>
                                    <div id="mem5" onmouseover="mcancelclosetime()" onmouseout="mclosetime()">
                                        
                                    </div>
                                  </li>
                                </ul>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td align="left" nowrap valign="top" width="20">
                    <table cellpadding="0" cellspacing="0" width="20">
                        <tr>
                            <td class="t_userinfo" width="20" nowrap>
                <!-- member_title --><div class="">Forum Vet</div><!-- /member_title -->
                                
                            </td>
                        </tr>
                    </table>
                </td>
                        
            		<td align="left" width="100%" valign="top" id="fullheight">
		                <table width="100%" cellpadding="0" cellspacing="0" class="post0" height="75">
		                    <tr>
		                        <td class="post_date" valign="bottom" height="1px"  width="100%" colspan="2"  nowrap><a target="blank" href="../sp/id2335.html">1:00:59 PM PST - Mon, Nov 12th 2012 </a></td>
		                            <td class="post_date" valign="bottom" height="1px" width="100%" nowrap></td>

		                    </tr>
		                                     
		                    <tr>
		                        <td valign="top" class="post_body" height="65" colspan="2"><div class='quote_title'>Quote:Sacch <a target='blank' href="../sp/id2321.html" title="Special:AWCforum/sp/id2321">Nov 9th 8:14 am</a><div class='quote'><br />
<br />
The result of running nwchem on dna still fails.<br />
<br />

<pre>



0:Segmentation Violation error, status=: 11
(rank:0 hostname:localhost.localdomain pid:25539):ARMCI DASSERT fail. ../../ga-5-1/armci/src/common/signaltrap.c:SigSegvHandler():310 cond:0
Last System Error Message from Task 0:: Inappropriate ioctl for device
  0: ARMCI aborting 11 (0xb).
  0: ARMCI aborting 11 (0xb).
system error message: Inappropriate ioctl for device


</pre></div id="quote"></div id="quote"><br />
<br />
The easiest fix is to recompile the whole NWChem using the FOPTIMIZE=-O1 argument<br />
<br />
<div class='quote_title'>Quote:<div class='quote'><br />
I am wondering is there a way to cleanly put the commands into my scripts?</div id="quote"></div id="quote"><br />
<br />
I am not quite sure to what commands you are referring to. Could you please<br />
give me more details?<br />
<br />
Thanks, Edo
</td>
		                    </tr>
		                                
		                    
		                    
		                </table>
		            </td>
        </tr> 
           
        <tr><td class="thread_sig" align="left" colspan="2"></td></tr>
        	
        </table>
<br />       <a name="post_2353"></a>       
        <table class="forum_posts" cellpadding="0" cellspacing="0" id="fullheight">
            <tr>
                <td width="100%" align="left" colspan="2" valign="top" class="mem_name" id="name_2353" nowrap>
                    <table width="100%" cellpadding="0" cellspacing="0">
                        <tr>
                            <td class="UserNameOptions" width="100%">
                                <ul id="UserNameOptions">
                                  <li>
                                    <div id="mem6" onmouseover="mcancelclosetime()" onmouseout="mclosetime()">
                                        
                                    </div>
                                  </li>
                                </ul>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td align="left" nowrap valign="top" width="20">
                    <table cellpadding="0" cellspacing="0" width="20">
                        <tr>
                            <td class="t_userinfo" width="20" nowrap>
                <!-- member_title --><div class="">Clicked A Few Times</div><!-- /member_title -->
                                
                            </td>
                        </tr>
                    </table>
                </td>
                        
            		<td align="left" width="100%" valign="top" id="fullheight">
		                <table width="100%" cellpadding="0" cellspacing="0" class="post1" height="75">
		                    <tr>
		                        <td class="post_date" valign="bottom" height="1px"  width="100%" colspan="2"  nowrap><a target="blank" href="../sp/id2353.html">4:25:45 AM PST - Wed, Nov 14th 2012 </a></td>
		                            <td class="post_date" valign="bottom" height="1px" width="100%" nowrap></td>

		                    </tr>
		                                     
		                    <tr>
		                        <td valign="top" class="post_body" height="65" colspan="2">Hi Edo,<br />
<br />
The compiling result <a target='blank' href="https://www.dropbox.com/s/30qmbn41easl004/addO1.log" class="external free">https://www.dropbox.com/s/30qmbn41easl004/addO1.log</a><br />
<br />
The script<br />
<br />

<pre>
#!/bin/bash
# intel compilers
source /opt/intel/2013/bin/compilervars.sh intel64

export NWCHEM_TOP=/home/user/Documents/codes/nwchem-6.1.1-src
export NWCHEM_TARGET=LINUX64

export NWCHEM_MODULES=&quot;all python&quot;
export LARGE_FILES=TRUE
export USE_NOFSCHECK=TRUE
export LIB_DEFINES=-DDFLT_TOT_MEM=16777216

export PYTHONHOME=/usr
export PYTHONVERSION=2.6
export USE_PYTHON64=y
export PYTHONLIBTYPE=so

#sed -i 's/libpython$(PYTHONVERSION).a/libpython$(PYTHONVERSION).$(PYTHONLIBTYPE)/g' config/makefile.h
export MKLROOT=/opt/intel/2013/mkl
export BLASOPT=&quot;-Wl,--start-group  $MKLROOT/lib/intel64/libmkl_intel_ilp64.a $MKLROOT/lib/intel64/libmkl_sequential.a $MKLROOT/lib/intel64/libmkl_core.a -Wl,--end-group -lpthread -lm&quot;

export FC=&quot;ifort&quot;
export CC=&quot;icc $CFLAGS&quot;

cd $NWCHEM_TOP/src

make realclean
cp util/*.fh include/.

pwd

make FC=$FC FOPTIMIZE=&quot;-O1&quot; CC=$CC nwchem_config
make FC=$FC FOPTIMIZE=&quot;-O1&quot; CC=$CC 32_to_64
make FC=$FC FOPTIMIZE=&quot;-O1&quot; CC=$CC -j4
</pre><br />
<br />
There seems to have some forbidden words in this forum.. when those words appear, the post cannot be published.<br />
<br />
Thanks in advance!
</td>
		                    </tr>
		                                
		                    
		                    
		                </table>
		            </td>
        </tr> 
           
        <tr><td class="thread_sig" align="left" colspan="2"></td></tr>
        	
        </table>
<br />       <a name="post_2356"></a>       
        <table class="forum_posts" cellpadding="0" cellspacing="0" id="fullheight">
            <tr>
                <td width="100%" align="left" colspan="2" valign="top" class="mem_name" id="name_2356" nowrap>
                    <table width="100%" cellpadding="0" cellspacing="0">
                        <tr>
                            <td class="UserNameOptions" width="100%">
                                <ul id="UserNameOptions">
                                  <li>
                                    <div id="mem7" onmouseover="mcancelclosetime()" onmouseout="mclosetime()">
                                        
                                    </div>
                                  </li>
                                </ul>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td align="left" nowrap valign="top" width="20">
                    <table cellpadding="0" cellspacing="0" width="20">
                        <tr>
                            <td class="t_userinfo" width="20" nowrap>
                <!-- member_title --><div class="">Forum Vet</div><!-- /member_title -->
                                
                            </td>
                        </tr>
                    </table>
                </td>
                        
            		<td align="left" width="100%" valign="top" id="fullheight">
		                <table width="100%" cellpadding="0" cellspacing="0" class="post0" height="75">
		                    <tr>
		                        <td class="post_date" valign="bottom" height="1px"  width="100%" colspan="2"  nowrap><a target="blank" href="../sp/id2356.html">11:33:13 AM PST - Wed, Nov 14th 2012 </a></td>
		                            <td class="post_date" valign="bottom" height="1px" width="100%" nowrap></td>

		                    </tr>
		                    <tr><td valign="top" height="1px" colspan="2">need to set FDEBUG, too<hr /></td></tr>                 
		                    <tr>
		                        <td valign="top" class="post_body" height="65" colspan="2">Unfortunately, you'd better set FDEBUG, since its cuttent value is -O2.<br />
Therefore, I suggest you to use the following compilation command<br />
<br />
make FC=$FC FOPTIMIZE="-O1" FDEBUG="-O0 -g" CC=$CC -j4
</td>
		                    </tr>
		                                
		                    
		                    
		                </table>
		            </td>
        </tr> 
           
        <tr><td class="thread_sig" align="left" colspan="2"></td></tr>
        	
        </table>
<br />       <a name="post_2378"></a>       
        <table class="forum_posts" cellpadding="0" cellspacing="0" id="fullheight">
            <tr>
                <td width="100%" align="left" colspan="2" valign="top" class="mem_name" id="name_2378" nowrap>
                    <table width="100%" cellpadding="0" cellspacing="0">
                        <tr>
                            <td class="UserNameOptions" width="100%">
                                <ul id="UserNameOptions">
                                  <li>
                                    <div id="mem8" onmouseover="mcancelclosetime()" onmouseout="mclosetime()">
                                        
                                    </div>
                                  </li>
                                </ul>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td align="left" nowrap valign="top" width="20">
                    <table cellpadding="0" cellspacing="0" width="20">
                        <tr>
                            <td class="t_userinfo" width="20" nowrap>
                <!-- member_title --><div class="">Clicked A Few Times</div><!-- /member_title -->
                                
                            </td>
                        </tr>
                    </table>
                </td>
                        
            		<td align="left" width="100%" valign="top" id="fullheight">
		                <table width="100%" cellpadding="0" cellspacing="0" class="post1" height="75">
		                    <tr>
		                        <td class="post_date" valign="bottom" height="1px"  width="100%" colspan="2"  nowrap><a target="blank" href="../sp/id2378.html">4:53:23 PM PST - Thu, Nov 15th 2012 </a></td>
		                            <td class="post_date" valign="bottom" height="1px" width="100%" nowrap></td>

		                    </tr>
		                                     
		                    <tr>
		                        <td valign="top" class="post_body" height="65" colspan="2">Hi Edo,<br />
<br />
The compilation process is attached here,<br />
<a target='blank' href="https://www.dropbox.com/s/lqmf5mvgkxc336i/addO1debug.log" class="external free">https://www.dropbox.com/s/lqmf5mvgkxc336i/addO1debug.log</a><br />
<br />
And the run result of DNA example is<br />
<a target='blank' href="https://www.dropbox.com/s/nv6hpunnup3r14o/runadddrbug.log" class="external free">https://www.dropbox.com/s/nv6hpunnup3r14o/runadddrbug.log</a><br />
<br />
ldd nwchem gives similar output as what I posted above but different addresses.<br />
<br />
It doesn't seem to work. Is there anything I can do to double check the reason why it failed?<br />
<br />
Many thanks,<br />
<br />
Alvyn
</td>
		                    </tr>
		                                
		                    <tr>
	<td class="edited_on" align="left" colspan="2">
	</td>
</tr>
		                    
		                </table>
		            </td>
        </tr> 
           
        <tr><td class="thread_sig" align="left" colspan="2"></td></tr>
        	
        </table>
<br />       <a name="post_2385"></a>       
        <table class="forum_posts" cellpadding="0" cellspacing="0" id="fullheight">
            <tr>
                <td width="100%" align="left" colspan="2" valign="top" class="mem_name" id="name_2385" nowrap>
                    <table width="100%" cellpadding="0" cellspacing="0">
                        <tr>
                            <td class="UserNameOptions" width="100%">
                                <ul id="UserNameOptions">
                                  <li>
                                    <div id="mem9" onmouseover="mcancelclosetime()" onmouseout="mclosetime()">
                                        
                                    </div>
                                  </li>
                                </ul>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td align="left" nowrap valign="top" width="20">
                    <table cellpadding="0" cellspacing="0" width="20">
                        <tr>
                            <td class="t_userinfo" width="20" nowrap>
                <!-- member_title --><div class="">Forum Vet</div><!-- /member_title -->
                                
                            </td>
                        </tr>
                    </table>
                </td>
                        
            		<td align="left" width="100%" valign="top" id="fullheight">
		                <table width="100%" cellpadding="0" cellspacing="0" class="post0" height="75">
		                    <tr>
		                        <td class="post_date" valign="bottom" height="1px"  width="100%" colspan="2"  nowrap><a target="blank" href="../sp/id2385.html">10:15:14 AM PST - Fri, Nov 16th 2012 </a></td>
		                            <td class="post_date" valign="bottom" height="1px" width="100%" nowrap></td>

		                    </tr>
		                    <tr><td valign="top" height="1px" colspan="2">QM tests<hr /></td></tr>                 
		                    <tr>
		                        <td valign="top" class="post_body" height="65" colspan="2">Alvyn<br />
Before dealing with the MD problems, I would like to know if the QM tests are running OK ...<br />
is this the case?<br />
As far as the MD examples are concerned, I am not 100% confident they are compatible with NWchem 6.1<br />
Instead, I suggest you to run a few examples that are contained in a tutorial we routinely used to show how<br />
to use QM/MM. I have uploaded a tarball named<br />
<br />
<a target='blank' href="http://www.nwchem-sw.org/images/Tutorialqmm.tgz" class="external free">http://www.nwchem-sw.org/images/Tutorialqmm.tgz</a><br />
<br />
Please download and un-tar the tarball and run the examples following the instructions contained in the included handouts.pdf file<br />
<br />
Thanks, Edo
</td>
		                    </tr>
		                                
		                    
		                    
		                </table>
		            </td>
        </tr> 
           
        <tr><td class="thread_sig" align="left" colspan="2"></td></tr>
        	
        </table>
<br />       <a name="post_2396"></a>       
        <table class="forum_posts" cellpadding="0" cellspacing="0" id="fullheight">
            <tr>
                <td width="100%" align="left" colspan="2" valign="top" class="mem_name" id="name_2396" nowrap>
                    <table width="100%" cellpadding="0" cellspacing="0">
                        <tr>
                            <td class="UserNameOptions" width="100%">
                                <ul id="UserNameOptions">
                                  <li>
                                    <div id="mem10" onmouseover="mcancelclosetime()" onmouseout="mclosetime()">
                                        
                                    </div>
                                  </li>
                                </ul>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td align="left" nowrap valign="top" width="20">
                    <table cellpadding="0" cellspacing="0" width="20">
                        <tr>
                            <td class="t_userinfo" width="20" nowrap>
                <!-- member_title --><div class="">Clicked A Few Times</div><!-- /member_title -->
                                
                            </td>
                        </tr>
                    </table>
                </td>
                        
            		<td align="left" width="100%" valign="top" id="fullheight">
		                <table width="100%" cellpadding="0" cellspacing="0" class="post1" height="75">
		                    <tr>
		                        <td class="post_date" valign="bottom" height="1px"  width="100%" colspan="2"  nowrap><a target="blank" href="../sp/id2396.html">4:58:37 AM PST - Sat, Nov 17th 2012 </a></td>
		                            <td class="post_date" valign="bottom" height="1px" width="100%" nowrap></td>

		                    </tr>
		                                     
		                    <tr>
		                        <td valign="top" class="post_body" height="65" colspan="2">Hi Edo,<br />
<br />
I am running nwchem through a virtual machine running in VirtualBox. For unknown reason it failed at a point and the machine hangs. The following zip file contains what have failed and the log file of the single process run "xrun.log".<br />
<br />
<a target='blank' href="https://www.dropbox.com/s/5bjowj1dqbzw6q2/failed.zip" class="external free">https://www.dropbox.com/s/5bjowj1dqbzw6q2/failed.zip</a><br />
<br />
I am wondering should I follow other's successful script or keep doing what I have been doing. Any suggestions? I need to learn to run some small cases on this machine before a mini super come to our facility.<br />
<br />
Thanks and regards,<br />
<br />
Alvyn
</td>
		                    </tr>
		                                
		                    <tr>
	<td class="edited_on" align="left" colspan="2">
	</td>
</tr>
		                    
		                </table>
		            </td>
        </tr> 
           
        <tr><td class="thread_sig" align="left" colspan="2"></td></tr>
        	
        </table>
<br />       <a name="post_2415"></a>       
        <table class="forum_posts" cellpadding="0" cellspacing="0" id="fullheight">
            <tr>
                <td width="100%" align="left" colspan="2" valign="top" class="mem_name" id="name_2415" nowrap>
                    <table width="100%" cellpadding="0" cellspacing="0">
                        <tr>
                            <td class="UserNameOptions" width="100%">
                                <ul id="UserNameOptions">
                                  <li>
                                    <div id="mem11" onmouseover="mcancelclosetime()" onmouseout="mclosetime()">
                                        
                                    </div>
                                  </li>
                                </ul>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td align="left" nowrap valign="top" width="20">
                    <table cellpadding="0" cellspacing="0" width="20">
                        <tr>
                            <td class="t_userinfo" width="20" nowrap>
                <!-- member_title --><div class="">Forum Vet</div><!-- /member_title -->
                                
                            </td>
                        </tr>
                    </table>
                </td>
                        
            		<td align="left" width="100%" valign="top" id="fullheight">
		                <table width="100%" cellpadding="0" cellspacing="0" class="post0" height="75">
		                    <tr>
		                        <td class="post_date" valign="bottom" height="1px"  width="100%" colspan="2"  nowrap><a target="blank" href="../sp/id2415.html">11:55:22 AM PST - Mon, Nov 19th 2012 </a></td>
		                            <td class="post_date" valign="bottom" height="1px" width="100%" nowrap></td>

		                    </tr>
		                                     
		                    <tr>
		                        <td valign="top" class="post_body" height="65" colspan="2">Alvyn,<br />
I had a look at some of the QM failures and they seem harmless to me.<br />
Some of the  QMMM numbers are clear failures.<br />
Did you try to run the QMMM tutorial I sent you?
</td>
		                    </tr>
		                                
		                    
		                    
		                </table>
		            </td>
        </tr> 
           
        <tr><td class="thread_sig" align="left" colspan="2"></td></tr>
        	
        </table>
<br />       <a name="post_2420"></a>       
        <table class="forum_posts" cellpadding="0" cellspacing="0" id="fullheight">
            <tr>
                <td width="100%" align="left" colspan="2" valign="top" class="mem_name" id="name_2420" nowrap>
                    <table width="100%" cellpadding="0" cellspacing="0">
                        <tr>
                            <td class="UserNameOptions" width="100%">
                                <ul id="UserNameOptions">
                                  <li>
                                    <div id="mem12" onmouseover="mcancelclosetime()" onmouseout="mclosetime()">
                                        
                                    </div>
                                  </li>
                                </ul>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td align="left" nowrap valign="top" width="20">
                    <table cellpadding="0" cellspacing="0" width="20">
                        <tr>
                            <td class="t_userinfo" width="20" nowrap>
                <!-- member_title --><div class="">Clicked A Few Times</div><!-- /member_title -->
                                
                            </td>
                        </tr>
                    </table>
                </td>
                        
            		<td align="left" width="100%" valign="top" id="fullheight">
		                <table width="100%" cellpadding="0" cellspacing="0" class="post1" height="75">
		                    <tr>
		                        <td class="post_date" valign="bottom" height="1px"  width="100%" colspan="2"  nowrap><a target="blank" href="../sp/id2420.html">10:52:57 PM PST - Mon, Nov 19th 2012 </a></td>
		                            <td class="post_date" valign="bottom" height="1px" width="100%" nowrap></td>

		                    </tr>
		                                     
		                    <tr>
		                        <td valign="top" class="post_body" height="65" colspan="2">Hi Edo,<br />
<br />
The prepare session went well and quick. As I run equilibrate with single core, it went well too. I guess. With the parallel run, there were errors. <br />
<br />
The following files are diffs and error run of the code.<br />
<br />
<a target='blank' href="https://www.dropbox.com/s/j35iy6i9w8occu8/dyn-0.out.diff" class="external free">https://www.dropbox.com/s/j35iy6i9w8occu8/dyn-0.out.diff</a><br />
<a target='blank' href="https://www.dropbox.com/s/qyd2dn5i0hn98z7/dyn-0.parallel.out" class="external free">https://www.dropbox.com/s/qyd2dn5i0hn98z7/dyn-0.parallel.out</a><br />
<a target='blank' href="https://www.dropbox.com/s/sfnx5p3c5vzcxfs/h2o_dyn.out.diff" class="external free">https://www.dropbox.com/s/sfnx5p3c5vzcxfs/h2o_dyn.out.diff</a><br />
<a target='blank' href="https://www.dropbox.com/s/yzk3mmsp55bk0rc/h2o_dyn.rst.diff" class="external free">https://www.dropbox.com/s/yzk3mmsp55bk0rc/h2o_dyn.rst.diff</a><br />
<br />
In dyn-0.parallel.out, I found that nproc=1 in my output whereas in the tutorial it is 16. <br />
The command I run the code was<br />
<br />

<pre>mpiexec -np 4 /opt/nwchem_intel2013_openmpi16/bin/nwchem ./dyn-0.nw &amp;&gt; dyn-0.out &amp;</pre><br />
<br />
after launching a mpd through<br />
<br />

<pre>/opt/intel/2013/composer_xe_2013.0.079/mpirt/bin/intel64/mpd &amp;</pre><br />
<br />
I guess there is something wrong with how I launch the program in the parallel mode.<br />
<br />
And, for optimize job <br />
<br />
<a target='blank' href="https://www.dropbox.com/s/u7gixxc72ijld8q/opt-0.out.diff" class="external free">https://www.dropbox.com/s/u7gixxc72ijld8q/opt-0.out.diff</a><br />
<br />
I noticed that Bq-nuclear interaction energy differs from the tutorial output throughout the calculation.<br />
<br />
For the rst files, it seems that the tutorial output has a part near the end of the file, but that part is absent from my rst file. The part looked like below:<br />
<br />

<pre>&gt;          2         2         0       229
&gt;          4         4         0       552
&gt;          6         6         0       898
&gt;          8         8         0      1186
&gt;         10        10         0      1428
&gt;       1     14
&gt;          1         1         1         0
&gt;          0         0         1       218
&gt;          3         3         1       538
&gt;          4         4         1       862
&gt;          5         5         1      1133</pre><br />
<br />
<a target='blank' href="https://www.dropbox.com/s/xwsaxama8jq1amr/h2o_opt.rst.diff" class="external free">https://www.dropbox.com/s/xwsaxama8jq1amr/h2o_opt.rst.diff</a><br />
<br />
BTW. as I crawl the forum, I found that the config.h of my armci build folder did not build correctly.<br />
<br />
Here is the file $NWCHEM_TOP/src/tools/build/armci/config.log<br />
<br />
<a target='blank' href="https://www.dropbox.com/s/a9a6gdqc5g2b525/config.log" class="external free">https://www.dropbox.com/s/a9a6gdqc5g2b525/config.log</a><br />
<br />
However, I have no idea how to fix this error, and to know if it is the culprit.<br />
<br />
Many thanks,<br />
<br />
Alvyn
</td>
		                    </tr>
		                                
		                    <tr>
	<td class="edited_on" align="left" colspan="2">
	</td>
</tr>
		                    
		                </table>
		            </td>
        </tr> 
           
        <tr><td class="thread_sig" align="left" colspan="2"></td></tr>
        	
        </table>
<br />       <a name="post_2458"></a>       
        <table class="forum_posts" cellpadding="0" cellspacing="0" id="fullheight">
            <tr>
                <td width="100%" align="left" colspan="2" valign="top" class="mem_name" id="name_2458" nowrap>
                    <table width="100%" cellpadding="0" cellspacing="0">
                        <tr>
                            <td class="UserNameOptions" width="100%">
                                <ul id="UserNameOptions">
                                  <li>
                                    <div id="mem13" onmouseover="mcancelclosetime()" onmouseout="mclosetime()">
                                        
                                    </div>
                                  </li>
                                </ul>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td align="left" nowrap valign="top" width="20">
                    <table cellpadding="0" cellspacing="0" width="20">
                        <tr>
                            <td class="t_userinfo" width="20" nowrap>
                <!-- member_title --><div class="">Clicked A Few Times</div><!-- /member_title -->
                                
                            </td>
                        </tr>
                    </table>
                </td>
                        
            		<td align="left" width="100%" valign="top" id="fullheight">
		                <table width="100%" cellpadding="0" cellspacing="0" class="post0" height="75">
		                    <tr>
		                        <td class="post_date" valign="bottom" height="1px"  width="100%" colspan="2"  nowrap><a target="blank" href="../sp/id2458.html">2:48:23 AM PST - Fri, Nov 23rd 2012 </a></td>
		                            <td class="post_date" valign="bottom" height="1px" width="100%" nowrap></td>

		                    </tr>
		                                     
		                    <tr>
		                        <td valign="top" class="post_body" height="65" colspan="2">It appeared that I ran the code with a wrong mpiexec. Now it runs well with multicore. Thanks Edo.
</td>
		                    </tr>
		                                
		                    
		                    
		                </table>
		            </td>
        </tr> 
           
        <tr><td class="thread_sig" align="left" colspan="2"></td></tr>
        	
        </table>
<br /><br />
<table width="100%" cellpadding="0" cellspacing="0" class="bot_breadcrumbs_and_pagejump">
	<tr>
		<td width="100%" class="bot_breadcrumbs"><a href="../index.html">Forum</a> &gt;&gt; <a href="../sc/id2.html">NWChem's corner</a> &gt;&gt; <a href="../sf/id4.html">Compiling NWChem</a></td>
	</tr>
	<tr>
		<td width="100%" class="bot_pagejumps"></td>
	</tr>
</table>
<br /><br />      <br />
</body> 
</html> 
