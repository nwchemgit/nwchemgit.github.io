<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
	
<!-- Mirrored from /index.php/Special:AWCforum/st/id604/esp_restrain.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 04 Jun 2020 06:25:41 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta name="generator" content="MediaWiki 1.16.4" />
<meta name="keywords" content="esp restrain Viewed 4547 times, With a total of 14 Posts" />
<link rel="shortcut icon" href="../../../../favicon.html" />
<link rel="search" type="application/opensearchdescription+xml" href="../../../../opensearch_desc.php" title="NWChem (en)" />
<link rel="alternate" type="application/atom+xml" title="NWChem Atom feed" href="../../../../index890f.php?title=Special:RecentChanges&amp;feed=atom" />		<title>esp restrain - NWChem</title>
		<link rel="stylesheet" href="../../../../skins/common/shared3905.css?270" media="screen" />
<link rel="stylesheet" href="../../../../skins/common/commonPrint3905.css?270" media="print" />
<link rel="stylesheet" href="../../../../skins/gumax/gumax_main3905.css?270" media="screen" />
<!--[if lt IE 5.5000]><link rel="stylesheet" href="/skins/gumax/IE50Fixes.css?270" media="screen" /><![endif]-->
<!--[if IE 5.5000]><link rel="stylesheet" href="/skins/gumax/IE55Fixes.css?270" media="screen" /><![endif]-->
<!--[if IE 6]><link rel="stylesheet" href="/skins/gumax/IE60Fixes.css?270" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="/skins/gumax/IE70Fixes.css?270" media="screen" /><![endif]-->
<link rel="stylesheet" href="../../../../skins/gumax/gumax_print3905.css?270" media="print" />
<link rel="stylesheet" href="../../../../index31a6.css?title=MediaWiki:Common.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=18000&amp;action=raw&amp;maxage=18000" />
<link rel="stylesheet" href="../../../../index663f.css?title=MediaWiki:Print.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=18000&amp;action=raw&amp;maxage=18000" media="print" />
<link rel="stylesheet" href="../../../../indexb76e.css?title=MediaWiki:Gumax.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=18000&amp;action=raw&amp;maxage=18000" />
<link rel="stylesheet" href="../../../../indexd70f.css?title=-&amp;action=raw&amp;maxage=18000&amp;gen=css" />
		<!--[if lt IE 7]><script type="text/javascript" src="/skins/common/IEFixes.js?270"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->

		<script>
var skin="gumax",
stylepath="/skins",
wgUrlProtocols="http.html\\:\\/\\/|https\\:\\/\\/|ftp\\:\\/\\/|irc\\:\\/\\/|gopher\\:\\/\\/|telnet\\:\\/\\/|nntp\\:\\/\\/|worldwind\\:\\/\\/|mailto\\:|news\\:|svn\\:\\/\\/",
wgArticlePath="/index.php/$1",
wgScriptPath="",
wgScriptExtension=".php",
wgScript="../../../Main_Page.html",
wgVariantArticlePath=false,
wgActionPaths={},
wgServer="../../../../index.html",
wgCanonicalNamespace="Special",
wgCanonicalSpecialPageName="AWCforum",
wgNamespaceNumber=-1,
wgPageName="Special:AWCforum",
wgTitle="AWCforum",
wgAction="view",
wgArticleId=0,
wgIsArticle=true,
wgUserName=null,
wgUserGroups=null,
wgUserLanguage="en",
wgContentLanguage="en",
wgBreakFrames=true,
wgCurRevisionId=0,
wgVersion="1.16.4",
wgEnableAPI=true,
wgEnableWriteAPI=true,
wgSeparatorTransformTable=["", ""],
wgDigitTransformTable=["", ""],
wgMainPageTitle="Main Page",
wgFormattedNamespaces={"-2": "Media", "-1": "Special", "0": "", "1": "Talk", "2": "User", "3": "User talk", "4": "NWChem", "5": "NWChem talk", "6": "File", "7": "File talk", "8": "MediaWiki", "9": "MediaWiki talk", "10": "Template", "11": "Template talk", "12": "Help", "13": "Help talk", "14": "Category", "15": "Category talk", "500": "Release-60", "501": "Release-60 talk", "502": "Release61", "503": "Release61 talk", "504": "Release62", "505": "Release62 talk", "506": "Release64", "507": "Release64 talk", "508": "Release65", "509": "Release65 talk", "510": "Development", "511": "Development talk", "512": "Release66", "513": "Release66 talk", "121707": "Forum"},
wgNamespaceIds={"media": -2, "special": -1, "": 0, "talk": 1, "user": 2, "user_talk": 3, "nwchem": 4, "nwchem_talk": 5, "file": 6, "file_talk": 7, "mediawiki": 8, "mediawiki_talk": 9, "template": 10, "template_talk": 11, "help": 12, "help_talk": 13, "category": 14, "category_talk": 15, "release-60": 500, "release-60_talk": 501, "release61": 502, "release61_talk": 503, "release62": 504, "release62_talk": 505, "release64": 506, "release64_talk": 507, "release65": 508, "release65_talk": 509, "development": 510, "development_talk": 511, "release66": 512, "release66_talk": 513, "forum": 121707, "ns_reldoc64": "NS_RELDOC65", "ns_reldoc64_talk": "NS_RELDOC65_TALK", "image": 6, "image_talk": 7},
wgSiteName="NWChem",
wgCategories=[],
wgRestrictionEdit=[],
wgRestrictionMove=[];
</script>
		<script type="text/javascript" src="../../../../skins/common/wikibits3905.js?270"><!-- wikibits js --></script>
		<!-- Head Scripts -->
<style type="text/css">
#bodyContent a[href ^="http://"] {
background: none;
    padding-right: 0px;
}

#bodyContent a.external {
background: none;
	padding-right: 0px;
}

#p-cactions li a {
text-transform: capitalize;
}

#contentSub {
margin: 0;
padding: 2px;
padding-bottom: 6px;
}

pre {
margin:0px; 
    padding:5px;
    padding-bottom:20px;  
    
    width: 600px;
    overflow:auto;
    overflow-y: visible;
    line-height: 100%;
}

.top_user_links {
margin: 0;
    padding: 0;
    border-bottom: 1px solid #aaa;
    text-align: right;
}

#TopMenuLinksHolder li a:hover {

}

#TopMenuLinksHolder li a {

}

#TopMenuLinksHolder li {
margin-top: 4px;   
    margin-left: 4px;
    margin-bottom: 0px;
    
    padding: 3px;
    
    list-style: none;
    float: right;
    display: block;
    
    width: auto;
    white-space: nowrap;
    
    border: 1px solid #aaa;
    border-bottom: 0px;
    
    color: #000;
    text-decoration: none;
    font: 11px Verdana;
    text-align: left;
    z-index: 3;
}

#TopMenuLinksHolder a:visited {

}

#TopMenuLinksHolder div a:hover {
background: #FFF;
    color: #000;
}

#TopMenuLinksHolder div a {
position: relative;
        display: block;
        margin: 0;
        padding: 5px;
        width: auto;
        white-space: nowrap;
        text-align: left;
        text-decoration: none;
        font: 11px arial;
}

#TopMenuLinksHolder div {
position: absolute;
    visibility: hidden;
    margin: 0;
    padding: 0;
    background: #DDDDDD;
    border: 1px solid #AAAAAA;
}

#TopMenuLinksHolder {
margin: 0;
    padding: 0;
    z-index: 3;
}

.UserNameOptions {

}

#UserNameOptions a:visited {

}

#UserNameOptions li a:hover {

}

#UserNameOptions li a {
font: 11px Verdana;
}

#UserNameOptions li {
list-style: none;
    display: block;
    white-space: nowrap;
    border: 0px;
    color: #000;
    text-align: left;
    text-decoration: none;
}

#UserNameOptions div a:hover {
color: #FFF;
}

#UserNameOptions div a {
position: relative;
        display: block;
        margin: 0;
        padding: 5px;
        
        width: 500px;
        
        white-space: nowrap; 
        text-align: left;
        text-decoration: none;
        font: 11px arial;
}

#UserNameOptions div {
position: absolute;
    display: block;
    visibility: hidden;
    margin: 0;
    padding: 5px;
    background: #DDDDDD;
    border: 1px solid #AAAAAA;
    white-space: nowrap; 
    font: 12px arial;
    line-height: 100%;
}

#UserNameOptions {
margin: 0;
    padding: 0;
    z-index: 2;
}

.group_text {
font-size: 84%;
    width: auto;
    padding: 0px;
}

.edited_on {
border-top: 1px solid #aaa;
    margin: 0px;
    margin-bottom: 0px;
    padding-left: 5px;
    font-size: 12px;
}

.post_title {

}

.post_date {
border-bottom: 1px solid #aaa;
    font-size: 90%;
    padding-left: 2px;
}

.post_td {
background-color: #f9f9f9;
    border-left: 1px solid #aaa;
    margin: .0em;
    padding: .0em;
}

.post_body {
padding: .5em;
    padding-top: 0px;
}

.post0 {
background-color: #E5E5E5;
    border-left: 1px solid #aaa;
    padding: .0em;
}

.post1 {
background-color: #f9f9f9;
    border-left: 1px solid #aaa;
    padding-bottom: .0em;
}

.post_footer {
/* post, quote, edit buttons */
    margin: 0;
    padding: .7em;
    padding-bottom: 0em;
}

.post_box {
margin-top: 5px;
    margin-left: 5px;
    margin-right: 2px;
    width: auto;
}

.mem_name {
border-bottom: 1px solid #aaa;
    margin: 0;
    padding: .4em;
}

.adv {
border: 0px;
    margin: 0em;
    padding: 0em;
}

.thread_sig {
border-top: 2px solid #aaa;
    margin: 3px;
    padding-left: 5px;
}

#subscribe_menu {
position: absolute;
    background: #ccc ;
    border: 1px solid #aaa;
    border-top: 0px;
    margin: 0em;
    padding: 5px;
    padding-top: 0px;
    top:auto;
    right:65px;
    z-index: 2;
}

.drop_down_buttons:hover {
background: #ccc ;
}

.drop_down_buttons {
margin: 0em;
    white-space: nowrap;
    border-bottom: 1px solid #aaa;
    border-top: 0px;
    padding: 5px;
    color: #000;
    text-align: center;
    background: #fff ;
}

.mod_menu_row {
text-align: left;
}

.post_buttons:hover {
background: #fff ;
}

.post_buttons {
white-space: nowrap;
    float: right;
    margin-top: .5em;
    margin-right: 5px;
    border: 1px solid #aaa;
    border-bottom: 0em;
    padding-left: 5px;
    padding-right: 5px;
    padding-bottom: 0px;
    color: #000;
}

.quote_title {
border: 1px dashed #aaa;
	padding: 5px;
	background-color: #f9f9f9;
	font-family:"Courier New", Courier, mono;
}

.quote {
border-top: 1px solid #000;
	background-color: #fff;
	padding: 10px;
	font-size: 95%;
}

.user_options_row {
border: 1px solid #aaa;
    background: #fff ;
    padding: .3em;
}

.t_userinfo {
white-space:nowrap;
    text-align: left;
    margin: 0;
    padding: .7em;
    padding-bottom: 0em;
}

.ThreadOtions {
margin: 0;
    padding: 0;
    text-align: right;
}

#ThreadOtions a:visited {

}

#ThreadOtions li a:hover {

}

#ThreadOtions li a {
border: 1px solid #aaa;
    border-bottom: 0em;
    padding: 4px;
}

#ThreadOtions li {
list-style: none;
    display: block;
    white-space: nowrap;
    
    border: 0px;
    color: #000;
    
    text-decoration: none;
    z-index: 3;
}

#ThreadOtions div a:hover {
background: #FFF;
    color: #000;
}

#ThreadOtions div a {
position: relative;
        display: block;
        margin: 0;
        padding: 2px;
        border: 0em;
        
        white-space: nowrap; 
        text-align: left;
        text-decoration: none;
        font: 11px arial;
}

#ThreadOtions div {
position: absolute; 
    right: 50px;
    visibility: hidden;
    margin: 0;
    padding: 5px;
    background: #DDDDDD;
    border: 1px solid #AAAAAA;
    white-space: nowrap; 
    text-align: left;
}

#ThreadOtions {
margin-top: 3px;
    padding: 0;
    z-index: 3;
}

.forum_posts {
border: 1px solid #aaa;
    margin: 0em;
    padding: 0em;
    width: 100%;

 width: 100%;
}

.post {
background-color: #f9f9f9;
    border-left: 1px solid #aaa;
    padding: .0em;
}

#search_box {
white-space:nowrap;
    text-align: right; 
    margin: .0em;
    padding: 0px;
}

.search_box {
float: right;
    font-size: 97%;
    margin: .0em;
    color: #000;
    background: #fff;
    border: 1px solid #000;
    margin-left: 5px;
    padding: 0px;
}

.highlightsearchword {
color: #FF0000;
}

.poll_display_table {
border: 1px solid #aaa;
    
    padding: 1px;
}

.poll_displayheader {
border-bottom: 1px dashed #aaa;
    padding: 4px;
    background-color: #DDDDDD;
    font-family:"Courier New", Courier, mono;
}

.poll_display_row {
border-bottom: 1px solid #aaa;
    background-color: #f9f9f9;
    padding: 2px;
}

.poll_display_vote_total {
border-top: 1px solid #aaa;
    padding: 4px;
    background-color: #DDDDDD;
    font-family:"Courier New", Courier, mono;
}

.poll_display_vote_numbers_header {
border: 1px solid #aaa;
border-bottom: 0;
}

.poll_display_vote_percent_header {
border-top: 1px solid #aaa;
    padding: 1px;
}

.poll_display_vote_option_header {
border: 1px solid #aaa;
    border-bottom: 0;
    padding: 1px;
}

.poll_display_vote_numbers {
border: 1px solid #aaa;
    border-bottom: 0;
    padding: 1px;
}

.poll_display_vote_percent {
border-top: 1px solid #aaa;
    padding: 1px;
}

.poll_display_vote_option {
border: 1px solid #aaa;
    border-bottom: 0;
    padding: 1px;
}

.poll_percent_color_op10 {
background-color: #7FFF00;
}

.poll_percent_color_op1 {
background-color: #CD5555;
}

.poll_percent_color_op2 {
background-color: #5CACEE;
}

.poll_percent_color_op3 {
background-color: #FFCC11;
}

.poll_percent_color_op4 {
background-color: #668014;
}

.poll_percent_color_op5 {
background-color: #A0522D;
}

.poll_percent_color_op6 {
background-color: #9F79EE;
}

.poll_percent_color_op7 {
background-color: #EE00EE;
}

.poll_percent_color_op8 {
background-color: #DC143C;
}

.poll_percent_color_op9 {
background-color: #551011;
}

.page_jumps_top:hover {
background: #ccc ;
}

.page_jumps_top {
white-space: nowrap;
    display: inline;
    
    margin: 0px; 
    margin-right: 2px;
    
    border: 1px solid #aaa;
    border-bottom: 0px;
    
    padding-left: 5px;
    padding-right: 5px;
    padding-bottom: 4px;
    
    color: #000;
}

.page_jumps_bot:hover {
background: #ccc ;
}

.page_jumps_bot {
border: 1px solid #aaa;
    border-top: 0px;
    padding-top: 2px;
    margin-left: 2px;
    font-size: 100%;
    padding-left: 5px;
    padding-right: 5px;
    padding-bottom: 2px;
}

.main_memtable {
border: 1px solid #aaa;
}

.main_leftmenu {
border-right: 1px solid #aaa;
     background-color: #f9f9f9;
     width: 175px;
}

.leftmenuheaders {
border: 1px dashed #aaa;
    padding: 2px;
    font-family:"Courier New", Courier, mono;
}

.leftmenu {
background-color: #f9f9f9;
}

.right_body {
padding: 2px;
}

.mem_pm_table {
border: 1px solid #aaa;
    padding: 2px;
    margin: 7px;
}

.pm_header_new {
background-color: #aaa;
    border: 1px solid #000;
    padding: 2px;
    width:5%;
}

.pm_header_title {
background-color: #aaa;
    border: 1px solid #000;
    padding: 2px;
    width:85%;
}

.pm_header_sender {
background-color: #aaa;
    border: 1px solid #000;
    padding: 2px;
    width:5%;
}

.pm_header_date {
background-color: #aaa;
    border: 1px solid #000;
    padding: 2px;
    width:5%;
}

.pm_row {
background-color: #f9f9f9;
    border: 1px solid #000;
    padding: 3px;
}

#cat_list_lastaction_user {
font-size: 90%;
    color: #7d7d7d;
    text-align: right;
    margin-right: 10px;
    line-height: 100%;
}

#cat_list_lastaction_date {
font-size: 90%;
    color: #7d7d7d;
    text-align: right;
    margin-right: 10px;
    line-height: 105%;
}

#cat_list_lastaction_title {
font-size: 90%;
    color: #7d7d7d;
    text-align: right;
    margin-right: 10px;
    line-height: 105%;
}

#small_desc {
font-size: 84%;
    color: #7d7d7d;
	margin-left: 10px;
    width: auto;
}

#cat_forumdisc {
font-size: 84%;
    color: #7d7d7d;
    margin-left: 10px;
    width: auto;
}

.cat_forumrows {
border: 1px solid #aaa;
    background-color: #f9f9f9;
    padding: 5px;
    font-size: 95%;
}

.thread_col_head {
border: 1px solid #aaa;
    margin: 0px;
    padding: 5px;
    white-space: nowrap;
}

.bread_crumbs {
border-bottom: 1px solid #aaa;
    border-top: 0px;
    padding: 2px;
    text-align: left;
}

.dl_maintable_head {
border-right: 1px solid #aaa;
    border-bottom: 1px solid #aaa;
    background-color: #fff;
    padding: 2px;
}

.dl_maintable {
border: 1px solid #aaa;
    margin: 1px;
    padding: 1px;
}

.right_float {
float: right;
	margin-top: 8px;
	padding-left: 5px;
	padding-right: 5px;
	margin-right: 10px;
	margin-left: 10px;
}

.right {
float: right;
	padding-left: 5px;
	padding-right: 5px;
	margin-right: 10px;
	margin-left: 10px;
}

.spacer {
background-color: #aaa;
}

.whos_here_header {
border-bottom: 1px dashed #aaa;
            padding: 4px;
            font-family:"Courier New", Courier, mono;
}

.whos_here_row {
border-bottom: 1px solid #aaa;
            background-color: #f9f9f9;
            padding: 2px;
}

.whos_here {
border: 1px solid #aaa;
            border-bottom: 0;
}

.nothing {
font-size: 0%;
            margin: .0em;
            border: 0;
            margin: 0;
            padding: 0;
            width: 0;
}

.forum_stats {
border: 1px solid #aaa;
            border-bottom: 0;
}

.forum_stats_leftcol {
border-bottom: 1px solid #aaa;
                background-color: #f9f9f9;
                padding: 2px;
}

.forum_stats_rightcol {
background-color: #f9f9f9;
                border-bottom: 1px solid #aaa;
                padding: 2px;
}

.forum_stats_header {
border-bottom: 1px dashed #aaa;
                padding: 4px;
                font-family:"Courier New", Courier, mono;
}

.thread_rows0 {
background-color: #E5E5E5;
    border: 1px solid #aaa;
    border-top: 0px ;
    padding: 2px;
    font-size: 95%;
}

.thread_rows1 {
background-color: #f3f3f3;
    border: 1px solid #aaa;
    border-top: 0px ;
    padding: 2px;
    font-size: 95%;
}

.thread_rows {
background-color: #f9f9f9;
    border: 1px solid #aaa;
    border-top: 0px ;
    padding: 2px;
    font-size: 95%;
}

#annc {
border: 1px solid #000;
	background-color: red;
	padding: 0px;
}

.sticky {
font-style: italic;
    border: 1px solid #aaa;
    border-top: 0px;
    background-color:  #ffa; /* #ffa; e2ffe2 */
    padding: 2px;
    font-size: 95%;
}

.thread_lastaction {
font-size: 84%;
    text-align: right;
    white-space: nowrap;
    display: inline;
}

.pagejumps_PostOnForumPage:hover {
background: #ccc ;
}

.pagejumps_PostOnForumPage {
border: 1px solid #aaa;
    margin-left: 3px;
    font-size: 100%;
    padding-left: 3px;
    padding-right: 3px;
    padding-bottom: 0px;
}

.new_thread_button:hover {
background: #ccc ;
}

.new_thread_button {
white-space: nowrap;
    float: right;
    display: inline; /*fixes IE float bug*/
    margin-top: 0px; 
    margin-bottom: 0px; 
    margin-left: 10px;
   /* margin-left: -4px; */
    border: 1px solid #aaa;
    border-bottom: 0px;
    padding-left: 5px;
    padding-right: 5px;
    padding-bottom: 3px;
    text-align: left; /* 2.4.1 */
    color: #000;
}

#row_info td {
border: 1px solid #aaa;
	border-top: 0px;
	background-color: #f9f9f9;
	padding: 5px;
	font-size: 95%;
}

.page_jumps_holder_thread_bot {
border-bottom: 1px solid #aaa;
}

.page_jumps_holderBot {

}

.poll_thread_listing {
border: 1px solid #aaa;
    border-top: 0px;
    background-color:  #FFCC00;
    padding: 2px;
    font-size: 95%;
}

.locked_thread {
font-style: italic;
    border: 1px solid #aaa;
    border-top: 0px;
    background-color:  #e2ffe2; /* #ffa; e2ffe2 */
    padding: 2px;
    font-size: 95%;
}

#ajax_pmname {
text-align: left;
}

#ajax_pmname ul {
list-style: none;
margin: 0;
}

#ajax_pmname li {
padding: 2px 5px;
	white-space: nowrap;
	text-align: left;
}

#ajax_pmname li:hover {
background: #f9f9f9;
	margin-left: .1em;
	text-decoration: underline;
}

#ajax_pmname li {
padding: 2px 5px;
	white-space: nowrap;
	text-align: left;
}

#ajax_pmname li {
padding: 2px 5px;
	white-space: nowrap;
	text-align: left;
}

#ajax_pmname li {
padding: 2px 5px;
	white-space: nowrap;
	text-align: left;
}

</style>
<script type="text/javascript" src="../../../../extensions/awc/forums/awc.js"></script><script src="../../../../skins/common/ajax3905.js?270"></script>
		<script type="text/javascript" src="../../../../indexb492.php?title=-&amp;action=raw&amp;gen=js&amp;useskin=gumax"><!-- site js --></script>


		<!-- gumax customized style -->

					<style type="text/css">
				#gumax-content-actions li#ca-talk,
				#gumax-content-actions li#ca-history,
				#gumax-content-actions li#ca-edit,
				#gumax-personal-tools
				{ display: none; }
			</style>
		
		<!--[if lt IE 7]>
			<script type="text/javascript" src="/skins/gumax/js/ieunitpngfix-tag.js"></script>
		<![endif]-->

		<!-- end of gumax customized style -->
</head>


<body class="mediawiki ltr ns--1 ns-special page-Special_AWCforum_st_id604_esp_restrain_html skin-gumax">

<!-- ##### gumax-wrapper ##### -->
<div id="gumax-wrapper">

<table border="0" id="gumax-page-table"><tr><td id="gumax-page-table-left"><img src="../../../../skins/gumax/blank.gif" alt="" /></td><td width="100%" valign="top" style="padding: 0; margin: 0" id="gumax-page-table-content">


<!-- ===== gumax-page ===== -->
<div class="gumax-page">

	<!-- ///// gumax-header ///// -->
	<div id="gumax-header">
		<a name="top" id="contentTop"></a>

		<!-- gumax-p-logo -->
	<div id="gumax-p-logo">
		<div id="p-logo">
			<a style="background-image: url(../../../../images/MS3_NWChem.logo3.png);" href="../../../Main_Page.html" title="Main Page"></a>
		</div>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
	<!-- end of gumax-p-logo -->

		<!-- Login -->
	<div id="gumax-p-login">
		<ul>
		</ul>
	</div>
	<!-- end of Login -->

		<!-- Search -->
	<div id="gumax-p-search" class="gumax-portlet">
		<h5><label for="searchInput">Search</label></h5>
		<div id="gumax-searchBody" class="gumax-pBody">
			<form action="http:///index.php/Special:Search" id="searchform"><div>
				<input id="searchInput" name="search" type="text" accesskey="f" value="" />
				<input type='submit' name="go" class="searchButton" id="searchGoButton" value="Go" title="Go to a page with this exact name if exists" />
				<input type='submit' name="fulltext" class="searchButton" id="mw-searchButton" value="Search" title="Search the pages for this text" />
			</div></form>
		</div>
	</div>
	<!-- end of Search -->

	</div>
	<!-- ///// end of gumax-header ///// -->


		<!-- Navigation Menu -->
	<div id="gumax-p-navigation">
			<div class="gumax-portlet gumax-p-navigation">
				<h5>Navigation</h5>
						<ul>
								<li id="n-Home"><a href="../../../Main_Page.html">Home</a></li>
								<li id="n-Science"><a href="../../../Science.html">Science</a></li>
								<li id="n-Benchmarks"><a href="../../../Benchmarks.html">Benchmarks</a></li>
								<li id="n-Download.C2.A0"><a href="../../../Download.html">Download </a></li>
								<li id="n-Documentation"><a href="../../../Release66_NWChem_Documentation.html">Documentation</a></li>
								<li id="n-Projects"><a href="../../../Ongoing_Projects.html">Projects</a></li>
								<li id="n-News"><a href="../../../NWChem_Current_events.html">News</a></li>
								<li id="n-Forum"><a href="../../../Special_AWCforum.html">Forum</a></li>
								<li id="n-FAQ"><a href="../../../FAQ.html">FAQ</a></li>
								<li id="n-Other-Software"><a href="../../../Software_supporting_NWChem.html">Other Software</a></li>
								<li id="n-Development"><a href="../../../Developer.html">Development</a></li>
						</ul>
			</div>
			<div class="gumax-portlet gumax-p-navigation">
				<h5>SEARCH</h5>
			</div>
			<div class="gumax-portlet gumax-p-navigation">
				<h5>TOOLBOX</h5>
			</div>
			<div class="gumax-portlet gumax-p-navigation">
				<h5>LANGUAGES</h5>
			</div>
			<div class="gumax-portlet gumax-p-navigation">
				<h5>Forum Menu</h5>
			</div>
	</div>
	<!-- end of Navigation Menu -->
	<div class="gumax-p-navigation-spacer"></div>

		<!-- gumax-content-actions -->
		<div id="gumax-content-actions">
		<ul>
		</ul>
		<div class="gumax-message"></div>
	</div>
		<!-- end of gumax-content-actions -->

		<!-- gumax-content-body -->
		<div id="gumax-column-content">
	<div id="content">
		<a name="top" id="top"></a>
				<h1 id="firstHeading" class="firstHeading gumax-firstHeading" >esp restrain</h1>
		<div id="bodyContent" class="gumax-bodyContent">
			<h3 id="siteSub">From NWChem</h3>
			<div id="contentSub"><form id="search_box" action="http:///index.php/Special:AWCforum/search/s" method="post"  enctype="multipart/form-data">
	<input class="search_box" type="submit" value="Search">
        <input name="tID" type="hidden" value="604">
        <input name="fID" type="hidden" value="3">
        <input name="cID" type="hidden" value="2">
        <select class="search_box" name="search_what"> <option value="all">All</option>
        <option value="c">Current Category</option>
        <option value="f">Current Forum</option>
        <option value="t">Current Thread</option>
        </select>
	<input class="search_box" name="kw" type="text" size="20">
</form>Viewed 4547 times, With a total of 14 Posts</div>
									<div id="jump-to-nav">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>			<!-- start content -->
			<table width="100%" cellpadding="0" cellspacing="0">
	<tr>
		<td class="top_user_links">
                	<ul id="TopMenuLinksHolder">
                               <li><a href="../../credits.html">Credits</a></li>
        			<li><a href="../../search.html">Search</a></li>
            <li><a href="../../search/todate.html">Today's Posts</a></li>
        			
        			
    			</ul>
		</td>
	</tr>
</table><table width="100%" cellpadding="0" cellspacing="0" class="bread_crumbs">
	<tr>
		<td width="99%" valign="bottom"><a href="../../index.html">Forum</a> &gt;&gt; <a href="../../sc/id2.html">NWChem's corner</a> &gt;&gt; <a href="../../sf/id3.html">General Topics</a></td>
	</tr>
</table>
<br />    <table width="100%" cellpadding="0" cellspacing="0">
        <tr>
            <td width="65%" align="left" nowrap="nowrap"></td>                                         
            <td width="35%" class='ThreadOtions' nowrap></td>    
        </tr>
    </table>       <a name="post_2165"></a>       
        <table class="forum_posts" cellpadding="0" cellspacing="0" id="fullheight">
            <tr>
                <td width="100%" align="left" colspan="2" valign="top" class="mem_name" id="name_2165" nowrap>
                    <table width="100%" cellpadding="0" cellspacing="0">
                        <tr>
                            <td class="UserNameOptions" width="100%">
                                <ul id="UserNameOptions">
                                  <li>
                                     <a href="../../mem_profile/P99/411.html" onmouseover="mopen('mem1')" onmouseout="mclosetime()">P99</a>  <font class="group_text">Member</font>
                                    <div id="mem1" onmouseover="mcancelclosetime()" onmouseout="mclosetime()">
                                        <a href="../../mem_profile/P99/411.html"><b>Profile</b></a><br />
                                        
                                        Send <a href="../../member_options/pmnew/P99/2165.html">PM</a>
                                    </div>
                                  </li>
                                </ul>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td align="left" nowrap valign="top" width="20">
                    <table cellpadding="0" cellspacing="0" width="20">
                        <tr>
                            <td class="t_userinfo" width="20" nowrap>
                <!-- member_title --><div class="">Gets Around</div><!-- /member_title -->
                <DIV align="center"><img class="adv" src="../../../../extensions/awc/forums/images/avatars/avatar_default.gif" border="0" height="0" width="0" align="middle"/></div>
                                
                                Threads <a href="../../search/memtopics/P99/411.html">37</a><br />
                                Posts <a href="../../search/memposts/P99/411.html">107</a>                              
                            </td>
                        </tr>
                    </table>
                </td>
                        
            		<td align="left" width="100%" valign="top" id="fullheight">
		                <table width="100%" cellpadding="0" cellspacing="0" class="post0" height="75">
		                    <tr>
		                        <td class="post_date" valign="bottom" height="1px"  width="100%" colspan="2"  nowrap><a target="blank" href="../../sp/id2165.html">4:53:41 AM PDT - Mon, Oct 8th 2012 </a></td>
		                            <td class="post_date" valign="bottom" height="1px" width="100%" nowrap></td>

		                    </tr>
		                                     
		                    <tr>
		                        <td valign="top" class="post_body" height="65" colspan="2">Whether it is possible by using the keyword «restrain» of «esp» group indicate that I want to draw the partial charges not to zero, but to other values I specified?
</td>
		                    </tr>
		                                
		                    
		                    
		                </table>
		            </td>
        </tr> 
           
        <tr><td class="thread_sig" align="left" colspan="2"></td></tr>
        	
        </table>
<br />       <a name="post_2167"></a>       
        <table class="forum_posts" cellpadding="0" cellspacing="0" id="fullheight">
            <tr>
                <td width="100%" align="left" colspan="2" valign="top" class="mem_name" id="name_2167" nowrap>
                    <table width="100%" cellpadding="0" cellspacing="0">
                        <tr>
                            <td class="UserNameOptions" width="100%">
                                <ul id="UserNameOptions">
                                  <li>
                                     <a href="../../mem_profile/Bert/12.html" onmouseover="mopen('mem2')" onmouseout="mclosetime()">Bert</a>  <font class="group_text">Forum:Admin, Forum:Mod, NWChemDeveloper, bureaucrat, sysop</font>
                                    <div id="mem2" onmouseover="mcancelclosetime()" onmouseout="mclosetime()">
                                        <a href="../../mem_profile/Bert/12.html"><b>Profile</b></a><br />
                                        
                                        Send <a href="../../member_options/pmnew/Bert/2167.html">PM</a>
                                    </div>
                                  </li>
                                </ul>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td align="left" nowrap valign="top" width="20">
                    <table cellpadding="0" cellspacing="0" width="20">
                        <tr>
                            <td class="t_userinfo" width="20" nowrap>
                <!-- member_title --><div class="">Forum Vet</div><!-- /member_title -->
                <DIV align="center"><img class="adv" src="../../../../extensions/awc/forums/images/avatars/avatar_default.gif" border="0" height="0" width="0" align="middle"/></div>
                                
                                Threads <a href="../../search/memtopics/Bert/12.html">4</a><br />
                                Posts <a href="../../search/memposts/Bert/12.html">597</a>                              
                            </td>
                        </tr>
                    </table>
                </td>
                        
            		<td align="left" width="100%" valign="top" id="fullheight">
		                <table width="100%" cellpadding="0" cellspacing="0" class="post1" height="75">
		                    <tr>
		                        <td class="post_date" valign="bottom" height="1px"  width="100%" colspan="2"  nowrap><a target="blank" href="../../sp/id2167.html">9:31:35 AM PDT - Mon, Oct 8th 2012 </a></td>
		                            <td class="post_date" valign="bottom" height="1px" width="100%" nowrap></td>

		                    </tr>
		                                     
		                    <tr>
		                        <td valign="top" class="post_body" height="65" colspan="2">The options in constrains (just above restraints in the documentation) should be able to allow you to do what you want I believe.<br />
<br />
Bert<br />
<br />
<br />
<div class='quote_title'>Quote:P99 <a target='blank' href="../../sp/id2165.html" title="Special:AWCforum/sp/id2165">Oct 8th 11:53 am</a><div class='quote'>Whether it is possible by using the keyword «restrain» of «esp» group indicate that I want to draw the partial charges not to zero, but to other values I specified?</div id="quote"></div id="quote">
</td>
		                    </tr>
		                                
		                    
		                    
		                </table>
		            </td>
        </tr> 
           
        <tr><td class="thread_sig" align="left" colspan="2"></td></tr>
        	
        </table>
<br />       <a name="post_2168"></a>       
        <table class="forum_posts" cellpadding="0" cellspacing="0" id="fullheight">
            <tr>
                <td width="100%" align="left" colspan="2" valign="top" class="mem_name" id="name_2168" nowrap>
                    <table width="100%" cellpadding="0" cellspacing="0">
                        <tr>
                            <td class="UserNameOptions" width="100%">
                                <ul id="UserNameOptions">
                                  <li>
                                     <a href="../../mem_profile/P99/411.html" onmouseover="mopen('mem3')" onmouseout="mclosetime()">P99</a>  <font class="group_text">Member</font>
                                    <div id="mem3" onmouseover="mcancelclosetime()" onmouseout="mclosetime()">
                                        <a href="../../mem_profile/P99/411.html"><b>Profile</b></a><br />
                                        
                                        Send <a href="../../member_options/pmnew/P99/2168.html">PM</a>
                                    </div>
                                  </li>
                                </ul>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td align="left" nowrap valign="top" width="20">
                    <table cellpadding="0" cellspacing="0" width="20">
                        <tr>
                            <td class="t_userinfo" width="20" nowrap>
                <!-- member_title --><div class="">Gets Around</div><!-- /member_title -->
                <DIV align="center"><img class="adv" src="../../../../extensions/awc/forums/images/avatars/avatar_default.gif" border="0" height="0" width="0" align="middle"/></div>
                                
                                Threads <a href="../../search/memtopics/P99/411.html">37</a><br />
                                Posts <a href="../../search/memposts/P99/411.html">107</a>                              
                            </td>
                        </tr>
                    </table>
                </td>
                        
            		<td align="left" width="100%" valign="top" id="fullheight">
		                <table width="100%" cellpadding="0" cellspacing="0" class="post0" height="75">
		                    <tr>
		                        <td class="post_date" valign="bottom" height="1px"  width="100%" colspan="2"  nowrap><a target="blank" href="../../sp/id2168.html">10:02:29 AM PDT - Mon, Oct 8th 2012 </a></td>
		                            <td class="post_date" valign="bottom" height="1px" width="100%" nowrap></td>

		                    </tr>
		                                     
		                    <tr>
		                        <td valign="top" class="post_body" height="65" colspan="2">I would not want to fix the charges exactly, but to use RESPA.<br />
<br />
<div class='quote_title'>Quote:Bert <a target='blank' href="../../sp/id2167.html" title="Special:AWCforum/sp/id2167">Oct 8th 9:31 am</a><div class='quote'>The options in constrains (just above restraints in the documentation) should be able to allow you to do what you want I believe.<br />
<br />
Bert
</td>
		                    </tr>
		                                
		                    
		                    
		                </table>
		            </td>
        </tr> 
           
        <tr><td class="thread_sig" align="left" colspan="2"></td></tr>
        	
        </table>
<br />       <a name="post_2173"></a>       
        <table class="forum_posts" cellpadding="0" cellspacing="0" id="fullheight">
            <tr>
                <td width="100%" align="left" colspan="2" valign="top" class="mem_name" id="name_2173" nowrap>
                    <table width="100%" cellpadding="0" cellspacing="0">
                        <tr>
                            <td class="UserNameOptions" width="100%">
                                <ul id="UserNameOptions">
                                  <li>
                                     <a href="../../mem_profile/Bert/12.html" onmouseover="mopen('mem4')" onmouseout="mclosetime()">Bert</a>  <font class="group_text">Forum:Admin, Forum:Mod, NWChemDeveloper, bureaucrat, sysop</font>
                                    <div id="mem4" onmouseover="mcancelclosetime()" onmouseout="mclosetime()">
                                        <a href="../../mem_profile/Bert/12.html"><b>Profile</b></a><br />
                                        
                                        Send <a href="../../member_options/pmnew/Bert/2173.html">PM</a>
                                    </div>
                                  </li>
                                </ul>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td align="left" nowrap valign="top" width="20">
                    <table cellpadding="0" cellspacing="0" width="20">
                        <tr>
                            <td class="t_userinfo" width="20" nowrap>
                <!-- member_title --><div class="">Forum Vet</div><!-- /member_title -->
                <DIV align="center"><img class="adv" src="../../../../extensions/awc/forums/images/avatars/avatar_default.gif" border="0" height="0" width="0" align="middle"/></div>
                                
                                Threads <a href="../../search/memtopics/Bert/12.html">4</a><br />
                                Posts <a href="../../search/memposts/Bert/12.html">597</a>                              
                            </td>
                        </tr>
                    </table>
                </td>
                        
            		<td align="left" width="100%" valign="top" id="fullheight">
		                <table width="100%" cellpadding="0" cellspacing="0" class="post1" height="75">
		                    <tr>
		                        <td class="post_date" valign="bottom" height="1px"  width="100%" colspan="2"  nowrap><a target="blank" href="../../sp/id2173.html">1:16:04 PM PDT - Tue, Oct 9th 2012 </a></td>
		                            <td class="post_date" valign="bottom" height="1px" width="100%" nowrap></td>

		                    </tr>
		                                     
		                    <tr>
		                        <td valign="top" class="post_body" height="65" colspan="2">I have no clue what RESPA stands for and can't find anything online about it either. <br />
<br />
I guess you want to tell ESP to give an atom a minimum or maximum charge. This is not available in NWChem's ESP module. You probably could write the code yourself, modifying ESP.<br />
<br />
Bert<br />
<br />

<pre>[QUOTE=P99 <a href="../../sp/id2168.html" title="Special:AWCforum/sp/id2168">Oct 8th 5:02 pm</a>]I would not want to fix the charges exactly, but to use RESPA.<br />
</pre>
<br />
<div class='quote_title'>Quote:Bert <a target='blank' href="../../sp/id2167.html" title="Special:AWCforum/sp/id2167">Oct 8th 9:31 am</a><div class='quote'>The options in constrains (just above restraints in the documentation) should be able to allow you to do what you want I believe.<br />
<br />
Bert</div id="quote"></div id="quote">
</td>
		                    </tr>
		                                
		                    
		                    
		                </table>
		            </td>
        </tr> 
           
        <tr><td class="thread_sig" align="left" colspan="2"></td></tr>
        	
        </table>
<br />       <a name="post_2175"></a>       
        <table class="forum_posts" cellpadding="0" cellspacing="0" id="fullheight">
            <tr>
                <td width="100%" align="left" colspan="2" valign="top" class="mem_name" id="name_2175" nowrap>
                    <table width="100%" cellpadding="0" cellspacing="0">
                        <tr>
                            <td class="UserNameOptions" width="100%">
                                <ul id="UserNameOptions">
                                  <li>
                                     <a href="../../mem_profile/P99/411.html" onmouseover="mopen('mem5')" onmouseout="mclosetime()">P99</a>  <font class="group_text">Member</font>
                                    <div id="mem5" onmouseover="mcancelclosetime()" onmouseout="mclosetime()">
                                        <a href="../../mem_profile/P99/411.html"><b>Profile</b></a><br />
                                        
                                        Send <a href="../../member_options/pmnew/P99/2175.html">PM</a>
                                    </div>
                                  </li>
                                </ul>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td align="left" nowrap valign="top" width="20">
                    <table cellpadding="0" cellspacing="0" width="20">
                        <tr>
                            <td class="t_userinfo" width="20" nowrap>
                <!-- member_title --><div class="">Gets Around</div><!-- /member_title -->
                <DIV align="center"><img class="adv" src="../../../../extensions/awc/forums/images/avatars/avatar_default.gif" border="0" height="0" width="0" align="middle"/></div>
                                
                                Threads <a href="../../search/memtopics/P99/411.html">37</a><br />
                                Posts <a href="../../search/memposts/P99/411.html">107</a>                              
                            </td>
                        </tr>
                    </table>
                </td>
                        
            		<td align="left" width="100%" valign="top" id="fullheight">
		                <table width="100%" cellpadding="0" cellspacing="0" class="post0" height="75">
		                    <tr>
		                        <td class="post_date" valign="bottom" height="1px"  width="100%" colspan="2"  nowrap><a target="blank" href="../../sp/id2175.html">2:37:36 AM PDT - Thu, Oct 11th 2012 </a></td>
		                            <td class="post_date" valign="bottom" height="1px" width="100%" nowrap></td>

		                    </tr>
		                                     
		                    <tr>
		                        <td valign="top" class="post_body" height="65" colspan="2"><div class='quote_title'>Quote:Bert <a target='blank' href="../../sp/id2173.html" title="Special:AWCforum/sp/id2173">Oct 9th 1:16 pm</a><div class='quote'>I have no clue what RESPA stands for and can't find anything online about it either. </div id="quote"></div id="quote"><br />
Sorry for the typo, of course not RESPA, but RESP.<br />
<br />
<div class='quote_title'>Quote:Bert <a target='blank' href="../../sp/id2173.html" title="Special:AWCforum/sp/id2173">Oct 9th 1:16 pm</a><div class='quote'>I guess you want to tell ESP to give an atom a minimum or maximum charge. This is not available in NWChem's ESP module. You probably could write the code yourself, modifying ESP.</div id="quote"></div id="quote"><br />
<br />
I would like to do as described in the article, which introduced the RESP <i>J Phys Chem 1993, v.97. p.10269</i><br />
It describes three models with penalty functions:<br />
(model 1) x2 = a (q<sub>0</sub> – q)<sup>2</sup><br />
(model 2) like (1) but q<sub>0</sub>=0 <br />
(model 3) x2 = a ((q<sup>2</sup> +b<sup>2</sup>)<sup>1/2</sup> – b)<br />
<br />
My first guess is that there is no control in NWChem for q<sub>0</sub>. So I can use (model 2) and (model 3), but not (model 1). Is this true?<br />
<br />
I see that the directive "constrain" does not provide the exact charges. <br />
So my second assumption is that "constrain" not the charges fixing, but really is the (model 1). May be this true?
</td>
		                    </tr>
		                                
		                    <tr>
	<td class="edited_on" align="left" colspan="2">
		<b><a href="../../post/edithistory/2175.html">Edited On</a></b> 2:39:27 AM PDT - Thu, Oct 11th 2012 <b>by</b> P99
	</td>
</tr>
		                    
		                </table>
		            </td>
        </tr> 
           
        <tr><td class="thread_sig" align="left" colspan="2"></td></tr>
        	
        </table>
<br />       <a name="post_2178"></a>       
        <table class="forum_posts" cellpadding="0" cellspacing="0" id="fullheight">
            <tr>
                <td width="100%" align="left" colspan="2" valign="top" class="mem_name" id="name_2178" nowrap>
                    <table width="100%" cellpadding="0" cellspacing="0">
                        <tr>
                            <td class="UserNameOptions" width="100%">
                                <ul id="UserNameOptions">
                                  <li>
                                     <a href="../../mem_profile/Bert/12.html" onmouseover="mopen('mem6')" onmouseout="mclosetime()">Bert</a>  <font class="group_text">Forum:Admin, Forum:Mod, NWChemDeveloper, bureaucrat, sysop</font>
                                    <div id="mem6" onmouseover="mcancelclosetime()" onmouseout="mclosetime()">
                                        <a href="../../mem_profile/Bert/12.html"><b>Profile</b></a><br />
                                        
                                        Send <a href="../../member_options/pmnew/Bert/2178.html">PM</a>
                                    </div>
                                  </li>
                                </ul>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td align="left" nowrap valign="top" width="20">
                    <table cellpadding="0" cellspacing="0" width="20">
                        <tr>
                            <td class="t_userinfo" width="20" nowrap>
                <!-- member_title --><div class="">Forum Vet</div><!-- /member_title -->
                <DIV align="center"><img class="adv" src="../../../../extensions/awc/forums/images/avatars/avatar_default.gif" border="0" height="0" width="0" align="middle"/></div>
                                
                                Threads <a href="../../search/memtopics/Bert/12.html">4</a><br />
                                Posts <a href="../../search/memposts/Bert/12.html">597</a>                              
                            </td>
                        </tr>
                    </table>
                </td>
                        
            		<td align="left" width="100%" valign="top" id="fullheight">
		                <table width="100%" cellpadding="0" cellspacing="0" class="post1" height="75">
		                    <tr>
		                        <td class="post_date" valign="bottom" height="1px"  width="100%" colspan="2"  nowrap><a target="blank" href="../../sp/id2178.html">12:48:13 PM PDT - Thu, Oct 11th 2012 </a></td>
		                            <td class="post_date" valign="bottom" height="1px" width="100%" nowrap></td>

		                    </tr>
		                                     
		                    <tr>
		                        <td valign="top" class="post_body" height="65" colspan="2">Okay, you may want to look for yourself at the code in esp_fit.F Looking at it, there is a definition for q0. Digging a little further and seeing where it is defined, turns out there is an not-advertized input variable called qh, which represents q0 in the RESP fitting. You can try setting:<br />
<br />

<pre>  qh &lt;real q0&gt; <br />
</pre>
<br />
in the esp block. I don't know why it is not included in the manual, may be it doesn't work properly. But, based on the equations you listed, it is the q0 you're looking for.<br />
<br />
Bert<br />
<br />
<br />
<div class='quote_title'>Quote:P99 <a target='blank' href="../../sp/id2175.html" title="Special:AWCforum/sp/id2175">Oct 11th 9:37 am</a><div class='quote'><div class='quote_title'>Quote:Bert <a target='blank' href="../../sp/id2173.html" title="Special:AWCforum/sp/id2173">Oct 9th 1:16 pm</a><div class='quote'>I have no clue what RESPA stands for and can't find anything online about it either. </div id="quote"></div id="quote"><br />
Sorry for the typo, of course not RESPA, but RESP.<br />
<br />
<div class='quote_title'>Quote:Bert <a target='blank' href="../../sp/id2173.html" title="Special:AWCforum/sp/id2173">Oct 9th 1:16 pm</a><div class='quote'>I guess you want to tell ESP to give an atom a minimum or maximum charge. This is not available in NWChem's ESP module. You probably could write the code yourself, modifying ESP.</div id="quote"></div id="quote"><br />
<br />
I would like to do as described in the article, which introduced the RESP <i>J Phys Chem 1993, v.97. p.10269</i><br />
It describes three models with penalty functions:<br />
(model 1) x2 = a (q<sub>0</sub> – q)<sup>2</sup><br />
(model 2) like (1) but q<sub>0</sub>=0 <br />
(model 3) x2 = a ((q<sup>2</sup> +b<sup>2</sup>)<sup>1/2</sup> – b)<br />
<br />
My first guess is that there is no control in NWChem for q<sub>0</sub>. So I can use (model 2) and (model 3), but not (model 1). Is this true?<br />
<br />
I see that the directive "constrain" does not provide the exact charges. <br />
So my second assumption is that "constrain" not the charges fixing, but really is the (model 1). May be this true?</div id="quote"></div id="quote">
</td>
		                    </tr>
		                                
		                    
		                    
		                </table>
		            </td>
        </tr> 
           
        <tr><td class="thread_sig" align="left" colspan="2"></td></tr>
        	
        </table>
<br />       <a name="post_2182"></a>       
        <table class="forum_posts" cellpadding="0" cellspacing="0" id="fullheight">
            <tr>
                <td width="100%" align="left" colspan="2" valign="top" class="mem_name" id="name_2182" nowrap>
                    <table width="100%" cellpadding="0" cellspacing="0">
                        <tr>
                            <td class="UserNameOptions" width="100%">
                                <ul id="UserNameOptions">
                                  <li>
                                     <a href="../../mem_profile/P99/411.html" onmouseover="mopen('mem7')" onmouseout="mclosetime()">P99</a>  <font class="group_text">Member</font>
                                    <div id="mem7" onmouseover="mcancelclosetime()" onmouseout="mclosetime()">
                                        <a href="../../mem_profile/P99/411.html"><b>Profile</b></a><br />
                                        
                                        Send <a href="../../member_options/pmnew/P99/2182.html">PM</a>
                                    </div>
                                  </li>
                                </ul>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td align="left" nowrap valign="top" width="20">
                    <table cellpadding="0" cellspacing="0" width="20">
                        <tr>
                            <td class="t_userinfo" width="20" nowrap>
                <!-- member_title --><div class="">Gets Around</div><!-- /member_title -->
                <DIV align="center"><img class="adv" src="../../../../extensions/awc/forums/images/avatars/avatar_default.gif" border="0" height="0" width="0" align="middle"/></div>
                                
                                Threads <a href="../../search/memtopics/P99/411.html">37</a><br />
                                Posts <a href="../../search/memposts/P99/411.html">107</a>                              
                            </td>
                        </tr>
                    </table>
                </td>
                        
            		<td align="left" width="100%" valign="top" id="fullheight">
		                <table width="100%" cellpadding="0" cellspacing="0" class="post0" height="75">
		                    <tr>
		                        <td class="post_date" valign="bottom" height="1px"  width="100%" colspan="2"  nowrap><a target="blank" href="../../sp/id2182.html">1:49:36 AM PDT - Fri, Oct 12th 2012 </a></td>
		                            <td class="post_date" valign="bottom" height="1px" width="100%" nowrap></td>

		                    </tr>
		                                     
		                    <tr>
		                        <td valign="top" class="post_body" height="65" colspan="2">Thanks Bert.<br />
<br />
I believe that<br />

<pre>   qh &lt;real q0&gt;<br />
</pre>
is the total charge of the molecule or a charge for hydrogen.<br />
Anyway this is not q0 separated per atoms.<br />
So I'll write my own code. In this regards, one more question.<br />
Do I understand correctly that the file nw.grid are the electrostatic potentials at the points on which the fit occur and only there, in the format<br />

<pre>   x y z V<br />
</pre>
<br />
<div class='quote_title'>Quote:Bert <a target='blank' href="../../sp/id2178.html" title="Special:AWCforum/sp/id2178">Oct 11th 12:48 pm</a><div class='quote'>Okay, you may want to look for yourself at the code in esp_fit.F Looking at it, there is a definition for q0. Digging a little further and seeing where it is defined, turns out there is an not-advertized input variable called qh, which represents q0 in the RESP fitting. You can try setting:<br />
<br />

<pre>  qh &lt;real q0&gt; <br />
</pre>
<br />
in the esp block. I don't know why it is not included in the manual, may be it doesn't work properly. But, based on the equations you listed, it is the q0 you're looking for.<br />
<br />
Bert<br />
</div id="quote"></div id="quote">
</td>
		                    </tr>
		                                
		                    <tr>
	<td class="edited_on" align="left" colspan="2">
		<b><a href="../../post/edithistory/2182.html">Edited On</a></b> 1:56:01 AM PDT - Fri, Oct 12th 2012 <b>by</b> P99
	</td>
</tr>
		                    
		                </table>
		            </td>
        </tr> 
           
        <tr><td class="thread_sig" align="left" colspan="2"></td></tr>
        	
        </table>
<br />       <a name="post_2184"></a>       
        <table class="forum_posts" cellpadding="0" cellspacing="0" id="fullheight">
            <tr>
                <td width="100%" align="left" colspan="2" valign="top" class="mem_name" id="name_2184" nowrap>
                    <table width="100%" cellpadding="0" cellspacing="0">
                        <tr>
                            <td class="UserNameOptions" width="100%">
                                <ul id="UserNameOptions">
                                  <li>
                                     <a href="../../mem_profile/Bert/12.html" onmouseover="mopen('mem8')" onmouseout="mclosetime()">Bert</a>  <font class="group_text">Forum:Admin, Forum:Mod, NWChemDeveloper, bureaucrat, sysop</font>
                                    <div id="mem8" onmouseover="mcancelclosetime()" onmouseout="mclosetime()">
                                        <a href="../../mem_profile/Bert/12.html"><b>Profile</b></a><br />
                                        
                                        Send <a href="../../member_options/pmnew/Bert/2184.html">PM</a>
                                    </div>
                                  </li>
                                </ul>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td align="left" nowrap valign="top" width="20">
                    <table cellpadding="0" cellspacing="0" width="20">
                        <tr>
                            <td class="t_userinfo" width="20" nowrap>
                <!-- member_title --><div class="">Forum Vet</div><!-- /member_title -->
                <DIV align="center"><img class="adv" src="../../../../extensions/awc/forums/images/avatars/avatar_default.gif" border="0" height="0" width="0" align="middle"/></div>
                                
                                Threads <a href="../../search/memtopics/Bert/12.html">4</a><br />
                                Posts <a href="../../search/memposts/Bert/12.html">597</a>                              
                            </td>
                        </tr>
                    </table>
                </td>
                        
            		<td align="left" width="100%" valign="top" id="fullheight">
		                <table width="100%" cellpadding="0" cellspacing="0" class="post1" height="75">
		                    <tr>
		                        <td class="post_date" valign="bottom" height="1px"  width="100%" colspan="2"  nowrap><a target="blank" href="../../sp/id2184.html">12:09:09 PM PDT - Fri, Oct 12th 2012 </a></td>
		                            <td class="post_date" valign="bottom" height="1px" width="100%" nowrap></td>

		                    </tr>
		                                     
		                    <tr>
		                        <td valign="top" class="post_body" height="65" colspan="2">Looking at the code, it's a restraint on an atom (lines 235-265) but it's set the same for each atom, and it only is invoked for carbon and hydrogen. I would think this can easily be modified to suite your needs. If you develop a new functionality, you're more then welcome to contribute it back to the open-source development effort.<br />
<br />
Yes, the grid file is x y z V.<br />
<br />
Thanks,<br />
<br />
Bert<br />
<br />
<br />
<br />
<div class='quote_title'>Quote:P99 <a target='blank' href="../../sp/id2182.html" title="Special:AWCforum/sp/id2182">Oct 12th 8:49 am</a><div class='quote'>Thanks Bert.<br />
<br />
I believe that<br />

<pre>   qh &lt;real q0&gt;<br />
</pre>
is the total charge of the molecule or a charge for hydrogen.<br />
Anyway this is not q0 separated per atoms.<br />
So I'll write my own code. In this regards, one more question.<br />
Do I understand correctly that the file nw.grid are the electrostatic potentials at the points on which the fit occur and only there, in the format<br />

<pre>   x y z V<br />
</pre>
<br />
<div class='quote_title'>Quote:Bert <a target='blank' href="../../sp/id2178.html" title="Special:AWCforum/sp/id2178">Oct 11th 12:48 pm</a><div class='quote'>Okay, you may want to look for yourself at the code in esp_fit.F Looking at it, there is a definition for q0. Digging a little further and seeing where it is defined, turns out there is an not-advertized input variable called qh, which represents q0 in the RESP fitting. You can try setting:<br />
<br />

<pre>  qh &lt;real q0&gt; <br />
</pre>
<br />
in the esp block. I don't know why it is not included in the manual, may be it doesn't work properly. But, based on the equations you listed, it is the q0 you're looking for.<br />
<br />
Bert<br />
</div id="quote"></div id="quote"></div id="quote"></div id="quote">
</td>
		                    </tr>
		                                
		                    
		                    
		                </table>
		            </td>
        </tr> 
           
        <tr><td class="thread_sig" align="left" colspan="2"></td></tr>
        	
        </table>
<br />       <a name="post_2198"></a>       
        <table class="forum_posts" cellpadding="0" cellspacing="0" id="fullheight">
            <tr>
                <td width="100%" align="left" colspan="2" valign="top" class="mem_name" id="name_2198" nowrap>
                    <table width="100%" cellpadding="0" cellspacing="0">
                        <tr>
                            <td class="UserNameOptions" width="100%">
                                <ul id="UserNameOptions">
                                  <li>
                                     <a href="../../mem_profile/P99/411.html" onmouseover="mopen('mem9')" onmouseout="mclosetime()">P99</a>  <font class="group_text">Member</font>
                                    <div id="mem9" onmouseover="mcancelclosetime()" onmouseout="mclosetime()">
                                        <a href="../../mem_profile/P99/411.html"><b>Profile</b></a><br />
                                        
                                        Send <a href="../../member_options/pmnew/P99/2198.html">PM</a>
                                    </div>
                                  </li>
                                </ul>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td align="left" nowrap valign="top" width="20">
                    <table cellpadding="0" cellspacing="0" width="20">
                        <tr>
                            <td class="t_userinfo" width="20" nowrap>
                <!-- member_title --><div class="">Gets Around</div><!-- /member_title -->
                <DIV align="center"><img class="adv" src="../../../../extensions/awc/forums/images/avatars/avatar_default.gif" border="0" height="0" width="0" align="middle"/></div>
                                
                                Threads <a href="../../search/memtopics/P99/411.html">37</a><br />
                                Posts <a href="../../search/memposts/P99/411.html">107</a>                              
                            </td>
                        </tr>
                    </table>
                </td>
                        
            		<td align="left" width="100%" valign="top" id="fullheight">
		                <table width="100%" cellpadding="0" cellspacing="0" class="post0" height="75">
		                    <tr>
		                        <td class="post_date" valign="bottom" height="1px"  width="100%" colspan="2"  nowrap><a target="blank" href="../../sp/id2198.html">8:41:22 AM PDT - Wed, Oct 17th 2012 </a></td>
		                            <td class="post_date" valign="bottom" height="1px" width="100%" nowrap></td>

		                    </tr>
		                                     
		                    <tr>
		                        <td valign="top" class="post_body" height="65" colspan="2">Hi<br />
<br />
It seems to me that I have implemented (method 1). File with the modified source, nwchem.exe and example <a target='blank' href="../../../../../www.biomolecular-modeling.com/method1.zip" class="external text">linked</a>.<br />
<br />
By analogy with the "radius" I introduced in "ESP" module a command "q0":<br />
<br />

<pre>      q0 &lt;integer iatnum&gt; &lt;real q0&gt;<br />
   where iatnum is the atomic number for which a q0 will be used. <br />
</pre>
<br />
However, there are some doubts.<br />
<br />
1. I just followed the analogy without real understanding what is written in the code.<br />
<br />
First, I do not understand what an undocumented variable "q0" do.<br />
It does something strange... plus activates RESP3, whatever that meant.<br />
So I did not used it, but introduced a new variable "q00" (array).<br />
<br />
Secondly, I do not understand what is the b(j) variable. I simply ignored it.<br />
<br />
(My changes are marked in the text by commentary "NIKI")<br />
<br />
2. I do not know how global variables work in Fortran. So I made a file niki.fh. Although it looks like working, however, it is an obvious hack.<br />
<br />
<br />
Could you be so kind as to look at my source code?<br />
<br />
(Sorry I am working under Windows, so executable is a Windows exe file.)<br />
<br />
<div class='quote_title'>Quote:Bert <a target='blank' href="../../sp/id2184.html" title="Special:AWCforum/sp/id2184">Oct 12th 12:09 pm</a><div class='quote'>Looking at the code, it's a restraint on an atom (lines 235-265) but it's set the same for each atom, and it only is invoked for carbon and hydrogen. I would think this can easily be modified to suite your needs. If you develop a new functionality, you're more then welcome to contribute it back to the open-source development effort.<br />
<br />
Yes, the grid file is x y z V.<br />
<br />
Thanks,<br />
<br />
Bert<br />
<br />
</div id="quote"></div id="quote">
</td>
		                    </tr>
		                                
		                    
		                    
		                </table>
		            </td>
        </tr> 
           
        <tr><td class="thread_sig" align="left" colspan="2"></td></tr>
        	
        </table>
<br />       <a name="post_2202"></a>       
        <table class="forum_posts" cellpadding="0" cellspacing="0" id="fullheight">
            <tr>
                <td width="100%" align="left" colspan="2" valign="top" class="mem_name" id="name_2202" nowrap>
                    <table width="100%" cellpadding="0" cellspacing="0">
                        <tr>
                            <td class="UserNameOptions" width="100%">
                                <ul id="UserNameOptions">
                                  <li>
                                     <a href="../../mem_profile/Bert/12.html" onmouseover="mopen('mem10')" onmouseout="mclosetime()">Bert</a>  <font class="group_text">Forum:Admin, Forum:Mod, NWChemDeveloper, bureaucrat, sysop</font>
                                    <div id="mem10" onmouseover="mcancelclosetime()" onmouseout="mclosetime()">
                                        <a href="../../mem_profile/Bert/12.html"><b>Profile</b></a><br />
                                        
                                        Send <a href="../../member_options/pmnew/Bert/2202.html">PM</a>
                                    </div>
                                  </li>
                                </ul>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td align="left" nowrap valign="top" width="20">
                    <table cellpadding="0" cellspacing="0" width="20">
                        <tr>
                            <td class="t_userinfo" width="20" nowrap>
                <!-- member_title --><div class="">Forum Vet</div><!-- /member_title -->
                <DIV align="center"><img class="adv" src="../../../../extensions/awc/forums/images/avatars/avatar_default.gif" border="0" height="0" width="0" align="middle"/></div>
                                
                                Threads <a href="../../search/memtopics/Bert/12.html">4</a><br />
                                Posts <a href="../../search/memposts/Bert/12.html">597</a>                              
                            </td>
                        </tr>
                    </table>
                </td>
                        
            		<td align="left" width="100%" valign="top" id="fullheight">
		                <table width="100%" cellpadding="0" cellspacing="0" class="post1" height="75">
		                    <tr>
		                        <td class="post_date" valign="bottom" height="1px"  width="100%" colspan="2"  nowrap><a target="blank" href="../../sp/id2202.html">7:44:09 PM PDT - Wed, Oct 17th 2012 </a></td>
		                            <td class="post_date" valign="bottom" height="1px" width="100%" nowrap></td>

		                    </tr>
		                                     
		                    <tr>
		                        <td valign="top" class="post_body" height="65" colspan="2">Before you start coding it is key to understand the code, how it solves the equations you are interested in. You should not make guesses. What I recommend you do is to take the RESP paper and match up the coded equations to those in the paper. This will give you an understanding of what the code does and how it relates to the paper. Using the "q0" parameter should give you equation 1, at least when I match up the code. The b variable seems to match up with your b-variable in your equation 3.<br />
<br />
I am not going to open files with binaries because of security issues. Have you done some tests that allow you to compare to the published data? This will allow you to test for correctness.<br />
<br />
Bert
</td>
		                    </tr>
		                                
		                    <tr>
	<td class="edited_on" align="left" colspan="2">
		<b><a href="../../post/edithistory/2202.html">Edited On</a></b> 7:47:51 PM PDT - Wed, Oct 17th 2012 <b>by</b> Bert
	</td>
</tr>
		                    
		                </table>
		            </td>
        </tr> 
           
        <tr><td class="thread_sig" align="left" colspan="2"></td></tr>
        	
        </table>
<br />       <a name="post_2208"></a>       
        <table class="forum_posts" cellpadding="0" cellspacing="0" id="fullheight">
            <tr>
                <td width="100%" align="left" colspan="2" valign="top" class="mem_name" id="name_2208" nowrap>
                    <table width="100%" cellpadding="0" cellspacing="0">
                        <tr>
                            <td class="UserNameOptions" width="100%">
                                <ul id="UserNameOptions">
                                  <li>
                                     <a href="../../mem_profile/P99/411.html" onmouseover="mopen('mem11')" onmouseout="mclosetime()">P99</a>  <font class="group_text">Member</font>
                                    <div id="mem11" onmouseover="mcancelclosetime()" onmouseout="mclosetime()">
                                        <a href="../../mem_profile/P99/411.html"><b>Profile</b></a><br />
                                        
                                        Send <a href="../../member_options/pmnew/P99/2208.html">PM</a>
                                    </div>
                                  </li>
                                </ul>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td align="left" nowrap valign="top" width="20">
                    <table cellpadding="0" cellspacing="0" width="20">
                        <tr>
                            <td class="t_userinfo" width="20" nowrap>
                <!-- member_title --><div class="">Gets Around</div><!-- /member_title -->
                <DIV align="center"><img class="adv" src="../../../../extensions/awc/forums/images/avatars/avatar_default.gif" border="0" height="0" width="0" align="middle"/></div>
                                
                                Threads <a href="../../search/memtopics/P99/411.html">37</a><br />
                                Posts <a href="../../search/memposts/P99/411.html">107</a>                              
                            </td>
                        </tr>
                    </table>
                </td>
                        
            		<td align="left" width="100%" valign="top" id="fullheight">
		                <table width="100%" cellpadding="0" cellspacing="0" class="post0" height="75">
		                    <tr>
		                        <td class="post_date" valign="bottom" height="1px"  width="100%" colspan="2"  nowrap><a target="blank" href="../../sp/id2208.html">5:24:18 AM PDT - Thu, Oct 18th 2012 </a></td>
		                            <td class="post_date" valign="bottom" height="1px" width="100%" nowrap></td>

		                    </tr>
		                                     
		                    <tr>
		                        <td valign="top" class="post_body" height="65" colspan="2">Unfortunately, I can not reproduce articles models 2 and 3 in NWChem too.<br />
I have the impression that there is a problem with the units of “weight”.<br />
Both the article and the documentation of NWChem says that it is the atomic units.<br />
However, if you increase the hyperbolic constant in 50 times, and harmonic constant in 30 times, the results agree with the article.<br />
Similarly, if the increase is 30 times the constant of my implementation (model 1), the results agree with the article. <br />
So, I think that my (model 1) code is working properly, but it is necessary to deal with the input constants in all models.<br />
<br />
The input file for methanol can be found <a target='blank' href="../../../../../www.biomolecular-modeling.com/method1-2.zip" class="external text">here</a>. Here are also modified sources. No binaries.<br />
I allow the user defined target charges not only for harmonic functions, but for the hyperbolic too.<br />
<br />
<br />
<br />
<div class='quote_title'>Quote:Bert <a target='blank' href="../../sp/id2202.html" title="Special:AWCforum/sp/id2202">Oct 17th 7:44 pm</a><div class='quote'>Before you start coding it is key to understand the code, how it solves the equations you are interested in. You should not make guesses. What I recommend you do is to take the RESP paper and match up the coded equations to those in the paper. This will give you an understanding of what the code does and how it relates to the paper. Using the "q0" parameter should give you equation 1, at least when I match up the code. The b variable seems to match up with your b-variable in your equation 3.<br />
<br />
I am not going to open files with binaries because of security issues. Have you done some tests that allow you to compare to the published data? This will allow you to test for correctness.<br />
<br />
Bert</div id="quote"></div id="quote">
</td>
		                    </tr>
		                                
		                    
		                    
		                </table>
		            </td>
        </tr> 
           
        <tr><td class="thread_sig" align="left" colspan="2"></td></tr>
        	
        </table>
<br />       <a name="post_2239"></a>       
        <table class="forum_posts" cellpadding="0" cellspacing="0" id="fullheight">
            <tr>
                <td width="100%" align="left" colspan="2" valign="top" class="mem_name" id="name_2239" nowrap>
                    <table width="100%" cellpadding="0" cellspacing="0">
                        <tr>
                            <td class="UserNameOptions" width="100%">
                                <ul id="UserNameOptions">
                                  <li>
                                     <a href="../../mem_profile/Bert/12.html" onmouseover="mopen('mem12')" onmouseout="mclosetime()">Bert</a>  <font class="group_text">Forum:Admin, Forum:Mod, NWChemDeveloper, bureaucrat, sysop</font>
                                    <div id="mem12" onmouseover="mcancelclosetime()" onmouseout="mclosetime()">
                                        <a href="../../mem_profile/Bert/12.html"><b>Profile</b></a><br />
                                        
                                        Send <a href="../../member_options/pmnew/Bert/2239.html">PM</a>
                                    </div>
                                  </li>
                                </ul>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td align="left" nowrap valign="top" width="20">
                    <table cellpadding="0" cellspacing="0" width="20">
                        <tr>
                            <td class="t_userinfo" width="20" nowrap>
                <!-- member_title --><div class="">Forum Vet</div><!-- /member_title -->
                <DIV align="center"><img class="adv" src="../../../../extensions/awc/forums/images/avatars/avatar_default.gif" border="0" height="0" width="0" align="middle"/></div>
                                
                                Threads <a href="../../search/memtopics/Bert/12.html">4</a><br />
                                Posts <a href="../../search/memposts/Bert/12.html">597</a>                              
                            </td>
                        </tr>
                    </table>
                </td>
                        
            		<td align="left" width="100%" valign="top" id="fullheight">
		                <table width="100%" cellpadding="0" cellspacing="0" class="post1" height="75">
		                    <tr>
		                        <td class="post_date" valign="bottom" height="1px"  width="100%" colspan="2"  nowrap><a target="blank" href="../../sp/id2239.html">3:02:39 PM PDT - Fri, Oct 26th 2012 </a></td>
		                            <td class="post_date" valign="bottom" height="1px" width="100%" nowrap></td>

		                    </tr>
		                                     
		                    <tr>
		                        <td valign="top" class="post_body" height="65" colspan="2">I didn't forget about you, was in China for a week and since I have been back I looked at this.<br />
<br />
In general, I think your code should work fine. I included my updated and cleaned up version for you to test in <a target='blank' href="../../../File_Esp_data.html" title="File:Esp data.tgz">File:Esp data.tgz</a>.<br />
<br />
It took me a long time to finally get a handle on the weight issue. If you look at the grid you define and the number of grid points you have a large number of grid points. However, in the paper you refer to, they only define a couple of radial shells, which end up at best to be about 2500 grid points for the potential to be fit on (the paper uses radial points at least 1.4 and at most 2.0 times the vdW radius). Why is this important, you should check the formulas in the paper. There is a dependency on the number of grid points. As a result, the more grid points you have the smaller the effect of the harmonic constant becomes. <br />
<br />
I included an input deck with a different setup for defining the grid, which ends up closer to the on in the paper. We can never match the numbers in the paper, simply because we have a square cubic grid, while the paper uses spherical grids. However, with the grid points I generate in the input deck I do see the restraining effect as expected for the default constants.<br />
<br />
Bert<br />
<br />

<pre> <br />
</pre>
<br />
and <div class='quote_title'>Quote:P99 <a target='blank' href="../../sp/id2208.html" title="Special:AWCforum/sp/id2208">Oct 18th 12:24 pm</a><div class='quote'>Unfortunately, I can not reproduce articles models 2 and 3 in NWChem too.<br />
I have the impression that there is a problem with the units of “weight”.<br />
Both the article and the documentation of NWChem says that it is the atomic units.<br />
However, if you increase the hyperbolic constant in 50 times, and harmonic constant in 30 times, the results agree with the article.<br />
Similarly, if the increase is 30 times the constant of my implementation (model 1), the results agree with the article. <br />
So, I think that my (model 1) code is working properly, but it is necessary to deal with the input constants in all models.<br />
<br />
The input file for methanol can be found <a target='blank' href="../../../../../www.biomolecular-modeling.com/method1-2.zip" class="external text">here</a>. Here are also modified sources. No binaries.<br />
I allow the user defined target charges not only for harmonic functions, but for the hyperbolic too.<br />
<br />
<br />
<br />
<div class='quote_title'>Quote:Bert <a target='blank' href="../../sp/id2202.html" title="Special:AWCforum/sp/id2202">Oct 17th 7:44 pm</a><div class='quote'>Before you start coding it is key to understand the code, how it solves the equations you are interested in. You should not make guesses. What I recommend you do is to take the RESP paper and match up the coded equations to those in the paper. This will give you an understanding of what the code does and how it relates to the paper. Using the "q0" parameter should give you equation 1, at least when I match up the code. The b variable seems to match up with your b-variable in your equation 3.<br />
<br />
I am not going to open files with binaries because of security issues. Have you done some tests that allow you to compare to the published data? This will allow you to test for correctness.<br />
<br />
Bert</div id="quote"></div id="quote"></div id="quote"></div id="quote">
</td>
		                    </tr>
		                                
		                    <tr>
	<td class="edited_on" align="left" colspan="2">
		<b><a href="../../post/edithistory/2239.html">Edited On</a></b> 3:03:39 PM PDT - Fri, Oct 26th 2012 <b>by</b> Bert
	</td>
</tr>
		                    
		                </table>
		            </td>
        </tr> 
           
        <tr><td class="thread_sig" align="left" colspan="2"></td></tr>
        	
        </table>
<br />       <a name="post_2246"></a>       
        <table class="forum_posts" cellpadding="0" cellspacing="0" id="fullheight">
            <tr>
                <td width="100%" align="left" colspan="2" valign="top" class="mem_name" id="name_2246" nowrap>
                    <table width="100%" cellpadding="0" cellspacing="0">
                        <tr>
                            <td class="UserNameOptions" width="100%">
                                <ul id="UserNameOptions">
                                  <li>
                                     <a href="../../mem_profile/P99/411.html" onmouseover="mopen('mem13')" onmouseout="mclosetime()">P99</a>  <font class="group_text">Member</font>
                                    <div id="mem13" onmouseover="mcancelclosetime()" onmouseout="mclosetime()">
                                        <a href="../../mem_profile/P99/411.html"><b>Profile</b></a><br />
                                        
                                        Send <a href="../../member_options/pmnew/P99/2246.html">PM</a>
                                    </div>
                                  </li>
                                </ul>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td align="left" nowrap valign="top" width="20">
                    <table cellpadding="0" cellspacing="0" width="20">
                        <tr>
                            <td class="t_userinfo" width="20" nowrap>
                <!-- member_title --><div class="">Gets Around</div><!-- /member_title -->
                <DIV align="center"><img class="adv" src="../../../../extensions/awc/forums/images/avatars/avatar_default.gif" border="0" height="0" width="0" align="middle"/></div>
                                
                                Threads <a href="../../search/memtopics/P99/411.html">37</a><br />
                                Posts <a href="../../search/memposts/P99/411.html">107</a>                              
                            </td>
                        </tr>
                    </table>
                </td>
                        
            		<td align="left" width="100%" valign="top" id="fullheight">
		                <table width="100%" cellpadding="0" cellspacing="0" class="post0" height="75">
		                    <tr>
		                        <td class="post_date" valign="bottom" height="1px"  width="100%" colspan="2"  nowrap><a target="blank" href="../../sp/id2246.html">7:05:38 AM PDT - Mon, Oct 29th 2012 </a></td>
		                            <td class="post_date" valign="bottom" height="1px" width="100%" nowrap></td>

		                    </tr>
		                                     
		                    <tr>
		                        <td valign="top" class="post_body" height="65" colspan="2">Dear Bert,<br />
<br />
Thank you very much for your help.<br />
My task is solved now.<br />
<br />
<br />
It seems to me that your update is not working. It falls on "esp" section, even if it is empty.<br />

<pre>
 Task  times  cpu:        0.5s     wall:        0.5s
0:0::: 0
(rank:0 hostname:abvgd pid:5936):ARMCI DASSERT fail. ../../ga-5-1/armci/src/common/armci.c:ARMCI_Error():208 cond:0


                                NWChem Input Module
                                -------------------


                     NWChem Electrostatic Potential Fit Module
                     -----------------------------------------
 geom_cart_get: geometry handle invalid            0
 geom_cart_get: open geometies:  1
  1 geom_cart_get: &quot;geometry&quot; -&gt; &quot;geometry&quot;
 geom_cart_get: geometries in last accessed data base:  1
 geometry

 **********
 *   0: esp: geom_cart_get failed    0
 **********
</pre><br />
<br />
<br />
If it has a matter to others, then this could be continued. If not, then I would stop there.<br />
<br />
<br />
<br />
<div class='quote_title'>Quote:Bert <a target='blank' href="../../sp/id2239.html" title="Special:AWCforum/sp/id2239">Oct 26th 3:02 pm</a><div class='quote'>I didn't forget about you, was in China for a week and since I have been back I looked at this.<br />
<br />
In general, I think your code should work fine. I included my updated and cleaned up version for you to test in <a target='blank' href="../../../File_Esp_data.html" title="File:Esp data.tgz">File:Esp data.tgz</a>.<br />
<br />
It took me a long time to finally get a handle on the weight issue. If you look at the grid you define and the number of grid points you have a large number of grid points. However, in the paper you refer to, they only define a couple of radial shells, which end up at best to be about 2500 grid points for the potential to be fit on (the paper uses radial points at least 1.4 and at most 2.0 times the vdW radius). Why is this important, you should check the formulas in the paper. There is a dependency on the number of grid points. As a result, the more grid points you have the smaller the effect of the harmonic constant becomes. <br />
<br />
I included an input deck with a different setup for defining the grid, which ends up closer to the on in the paper. We can never match the numbers in the paper, simply because we have a square cubic grid, while the paper uses spherical grids. However, with the grid points I generate in the input deck I do see the restraining effect as expected for the default constants.<br />
<br />
Bert</div id="quote"></div id="quote">
</td>
		                    </tr>
		                                
		                    
		                    
		                </table>
		            </td>
        </tr> 
           
        <tr><td class="thread_sig" align="left" colspan="2"></td></tr>
        	
        </table>
<br />       <a name="post_2248"></a>       
        <table class="forum_posts" cellpadding="0" cellspacing="0" id="fullheight">
            <tr>
                <td width="100%" align="left" colspan="2" valign="top" class="mem_name" id="name_2248" nowrap>
                    <table width="100%" cellpadding="0" cellspacing="0">
                        <tr>
                            <td class="UserNameOptions" width="100%">
                                <ul id="UserNameOptions">
                                  <li>
                                     <a href="../../mem_profile/Bert/12.html" onmouseover="mopen('mem14')" onmouseout="mclosetime()">Bert</a>  <font class="group_text">Forum:Admin, Forum:Mod, NWChemDeveloper, bureaucrat, sysop</font>
                                    <div id="mem14" onmouseover="mcancelclosetime()" onmouseout="mclosetime()">
                                        <a href="../../mem_profile/Bert/12.html"><b>Profile</b></a><br />
                                        
                                        Send <a href="../../member_options/pmnew/Bert/2248.html">PM</a>
                                    </div>
                                  </li>
                                </ul>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td align="left" nowrap valign="top" width="20">
                    <table cellpadding="0" cellspacing="0" width="20">
                        <tr>
                            <td class="t_userinfo" width="20" nowrap>
                <!-- member_title --><div class="">Forum Vet</div><!-- /member_title -->
                <DIV align="center"><img class="adv" src="../../../../extensions/awc/forums/images/avatars/avatar_default.gif" border="0" height="0" width="0" align="middle"/></div>
                                
                                Threads <a href="../../search/memtopics/Bert/12.html">4</a><br />
                                Posts <a href="../../search/memposts/Bert/12.html">597</a>                              
                            </td>
                        </tr>
                    </table>
                </td>
                        
            		<td align="left" width="100%" valign="top" id="fullheight">
		                <table width="100%" cellpadding="0" cellspacing="0" class="post1" height="75">
		                    <tr>
		                        <td class="post_date" valign="bottom" height="1px"  width="100%" colspan="2"  nowrap><a target="blank" href="../../sp/id2248.html">10:41:54 AM PDT - Mon, Oct 29th 2012 </a></td>
		                            <td class="post_date" valign="bottom" height="1px" width="100%" nowrap></td>

		                    </tr>
		                                     
		                    <tr>
		                        <td valign="top" class="post_body" height="65" colspan="2">This is related to the different versions of the code we're using I believe. So, this issue is closed.<br />
<br />
Bert<br />
<br />
<br />
<div class='quote_title'>Quote:P99 <a target='blank' href="../../sp/id2246.html" title="Special:AWCforum/sp/id2246">Oct 29th 2:05 pm</a><div class='quote'>Dear Bert,<br />
<br />
Thank you very much for your help.<br />
My task is solved now.<br />
<br />
<br />
It seems to me that your update is not working. It falls on "esp" section, even if it is empty.<br />

<pre>
 Task  times  cpu:        0.5s     wall:        0.5s
0:0::: 0
(rank:0 hostname:abvgd pid:5936):ARMCI DASSERT fail. ../../ga-5-1/armci/src/common/armci.c:ARMCI_Error():208 cond:0


                                NWChem Input Module
                                -------------------


                     NWChem Electrostatic Potential Fit Module
                     -----------------------------------------
 geom_cart_get: geometry handle invalid            0
 geom_cart_get: open geometies:  1
  1 geom_cart_get: &quot;geometry&quot; -&gt; &quot;geometry&quot;
 geom_cart_get: geometries in last accessed data base:  1
 geometry

 **********
 *   0: esp: geom_cart_get failed    0
 **********
</pre><br />
<br />
<br />
If it has a matter to others, then this could be continued. If not, then I would stop there.<br />
<br />
<br />
<br />
<div class='quote_title'>Quote:Bert <a target='blank' href="../../sp/id2239.html" title="Special:AWCforum/sp/id2239">Oct 26th 3:02 pm</a><div class='quote'>I didn't forget about you, was in China for a week and since I have been back I looked at this.<br />
<br />
In general, I think your code should work fine. I included my updated and cleaned up version for you to test in <a target='blank' href="../../../File_Esp_data.html" title="File:Esp data.tgz">File:Esp data.tgz</a>.<br />
<br />
It took me a long time to finally get a handle on the weight issue. If you look at the grid you define and the number of grid points you have a large number of grid points. However, in the paper you refer to, they only define a couple of radial shells, which end up at best to be about 2500 grid points for the potential to be fit on (the paper uses radial points at least 1.4 and at most 2.0 times the vdW radius). Why is this important, you should check the formulas in the paper. There is a dependency on the number of grid points. As a result, the more grid points you have the smaller the effect of the harmonic constant becomes. <br />
<br />
I included an input deck with a different setup for defining the grid, which ends up closer to the on in the paper. We can never match the numbers in the paper, simply because we have a square cubic grid, while the paper uses spherical grids. However, with the grid points I generate in the input deck I do see the restraining effect as expected for the default constants.<br />
<br />
Bert</div id="quote"></div id="quote"></div id="quote"></div id="quote">
</td>
		                    </tr>
		                                
		                    
		                    
		                </table>
		            </td>
        </tr> 
           
        <tr><td class="thread_sig" align="left" colspan="2"></td></tr>
        	
        </table>
<br />       <a name="post_3971"></a>       
        <table class="forum_posts" cellpadding="0" cellspacing="0" id="fullheight">
            <tr>
                <td width="100%" align="left" colspan="2" valign="top" class="mem_name" id="name_3971" nowrap>
                    <table width="100%" cellpadding="0" cellspacing="0">
                        <tr>
                            <td class="UserNameOptions" width="100%">
                                <ul id="UserNameOptions">
                                  <li>
                                     <a href="../../mem_profile/P99/411.html" onmouseover="mopen('mem15')" onmouseout="mclosetime()">P99</a>  <font class="group_text">Member</font>
                                    <div id="mem15" onmouseover="mcancelclosetime()" onmouseout="mclosetime()">
                                        <a href="../../mem_profile/P99/411.html"><b>Profile</b></a><br />
                                        
                                        Send <a href="../../member_options/pmnew/P99/3971.html">PM</a>
                                    </div>
                                  </li>
                                </ul>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td align="left" nowrap valign="top" width="20">
                    <table cellpadding="0" cellspacing="0" width="20">
                        <tr>
                            <td class="t_userinfo" width="20" nowrap>
                <!-- member_title --><div class="">Gets Around</div><!-- /member_title -->
                <DIV align="center"><img class="adv" src="../../../../extensions/awc/forums/images/avatars/avatar_default.gif" border="0" height="0" width="0" align="middle"/></div>
                                
                                Threads <a href="../../search/memtopics/P99/411.html">37</a><br />
                                Posts <a href="../../search/memposts/P99/411.html">107</a>                              
                            </td>
                        </tr>
                    </table>
                </td>
                        
            		<td align="left" width="100%" valign="top" id="fullheight">
		                <table width="100%" cellpadding="0" cellspacing="0" class="post0" height="75">
		                    <tr>
		                        <td class="post_date" valign="bottom" height="1px"  width="100%" colspan="2"  nowrap><a target="blank" href="../../sp/id3971.html">7:43:43 AM PST - Thu, Jan 2nd 2014 </a></td>
		                            <td class="post_date" valign="bottom" height="1px" width="100%" nowrap></td>

		                    </tr>
		                                     
		                    <tr>
		                        <td valign="top" class="post_body" height="65" colspan="2">Hi,<br />
<br />
I compiled Bert update with the current version of NWChem (6.3). With it, it works and it seems to me that it works well. The only disadvantage is that the 'q0' option became mandatory.<br />
<br />
Could you be so kind to enter this code in the standard NWChem?<br />
It seems to me that the presence of <u>model 1</u> of <i>J Phys Chem 1993, v.97. p.10269</i> a useful addition.
</td>
		                    </tr>
		                                
		                    
		                    
		                </table>
		            </td>
        </tr> 
           
        <tr><td class="thread_sig" align="left" colspan="2"></td></tr>
        	
        </table>
<br /><br />
<table width="100%" cellpadding="0" cellspacing="0" class="bot_breadcrumbs_and_pagejump">
	<tr>
		<td width="100%" class="bot_breadcrumbs"><a href="../../index.html">Forum</a> &gt;&gt; <a href="../../sc/id2.html">NWChem's corner</a> &gt;&gt; <a href="../../sf/id3.html">General Topics</a></td>
	</tr>
	<tr>
		<td width="100%" class="bot_pagejumps"></td>
	</tr>
</table>
<br /><br />      <br />
        	<table class="whos_here" width="100%" cellpadding="0" cellspacing="0">
        			<tr>
                  <td width="100%" class="whos_here_header">
                        <a href="../../whoshere.html">Who's here now</a> 
                        Members 0
                        Guests 1
                        Bots/Crawler 0
                   </td>
         				</tr>
        				<tr>
        					<td class="whos_here_row"></td>
        				</tr>
        </table><br /><hr>
            <center>
                <a href="http://wiki.anotherwebcom.com/" target="_blank" title="PHP, Visual Basic  scripts and programs">AWC's</a>:
                 <b>2.5.10</b> MediaWiki - Stand Alone Forum Extension<br />Forum theme style by: <a target='blank' href='wiki.anotherwebcom.html'>AWC</a></center><div class="printfooter">
Retrieved from "<a href="esp_restrain.html">http:///index.php/Special:AWCforum/st/id604/esp_restrain.html</a>"</div>
			<div id='catlinks' class='catlinks catlinks-allhidden'></div>			<!-- end content -->
						<div class="visualClear"></div>
		</div>
	</div>
		</div>
	<!-- end of gumax-content-body -->


	<!-- ///// gumax-footer ///// -->
	<div id="gumax-footer">

			<!-- personal tools  -->
	<div id="gumax-personal-tools">
		<h5>Toolbox</h5>
		<ul>
<li id="t-specialpages"><a href="../../../Special_SpecialPages.html" title="List of all special pages [q]" accesskey="q">Special pages</a></li>
		</ul>
	</div>
	<!-- end of personal tools  -->

		<div class="gumax-footer-spacer"></div>

			<!-- gumax-f-list -->
	<div id="gumax-f-list">
		<ul>
							<li id="privacy"><a href="../../../NWChem_Privacy_policy.html" title="NWChem:Privacy policy">Privacy policy</a></li>
							<li>/</li>							<li id="about"><a href="../../../NWChem_About.html" title="NWChem:About">About NWChem</a></li>
							<li>/</li>							<li id="disclaimer"><a href="../../../NWChem_General_disclaimer.html" title="NWChem:General disclaimer">Disclaimers</a></li>
							<li>/</li>						<li id="f-poweredby"><a href="http://mediawiki.org/" target="_blank">Powered by MediaWiki</a></li>
			<li>&#47;</li>
			<li id="f-designedby"><a href="http://paulgu.com/" target="_blank">Designed by Paul Gu</a></li>
		</ul>
	</div>
	<!-- end of gumax-f-list -->

	</div>
	<!-- ///// end of gumax-footer ///// -->


</div>
<!-- ===== end of gumax-page ===== -->

	</td><td id="gumax-page-table-right"><img src="../../../../skins/gumax/blank.gif" alt="" /></td></tr></table>
	<!--[if lt IE 7]>
		<script type="text/javascript">pngfix('td');</script>
	<![endif]-->

</div>
<!-- ##### end of gumax-wrapper ##### -->



<script>if (window.runOnloadHook) runOnloadHook();</script>
<!-- Served in 0.230 secs. --></body>
<!-- Mirrored from /index.php/Special:AWCforum/st/id604/esp_restrain.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 04 Jun 2020 06:25:50 GMT -->
</html>





